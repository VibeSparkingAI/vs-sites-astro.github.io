<!DOCTYPE html><html lang="zh-CN" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Blog | Vibe Sparking AI</title><link rel="canonical" href="https://www.vibesparking.com/zh-cn/blog/2/"/><link rel="alternate" hreflang="en" href="https://www.vibesparking.com/en/blog/2/"/><link rel="alternate" hreflang="zh-CN" href="https://www.vibesparking.com/zh-cn/blog/2/"/><link rel="sitemap" href="/sitemap-index.xml"/><script src="https://www.googletagmanager.com/gtag/js?id=G-82Q2L9J1C6" defer></script><script src="/src/ga.js" defer></script><link href="https://www.vibesparking.com/blog/rss.xml" rel="alternate" title="Blog" type="application/rss+xml"/><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.13.7"/><meta name="generator" content="Starlight v0.34.8"/><meta property="og:title" content="Blog"/><meta property="og:type" content="article"/><meta property="og:url" content="https://www.vibesparking.com/zh-cn/blog/2/"/><meta property="og:locale" content="zh-CN"/><meta property="og:description"/><meta property="og:site_name" content="Vibe Sparking AI"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/_astro/print.DNXP8c50.css" media="print"><style>[data-has-toc] :is(.right-sidebar-panel,mobile-starlight-toc){display:none}[data-has-toc] .main-frame{padding-top:var(--sl-nav-height)}.preview:where(.astro-dr56dw7m){display:flex;flex-direction:column;gap:1.5rem}h2:where(.astro-dr56dw7m){margin-bottom:1.5rem}h2:where(.astro-dr56dw7m) a:where(.astro-dr56dw7m){text-decoration:none}.posts:where(.astro-xaz7kpyh){display:flex;flex-direction:column;gap:3rem}
</style>
<link rel="stylesheet" href="/_astro/Authors.CdQZD9WX.css">
<style>.content-panel:first-of-type{display:none}.content-panel:nth-of-type(2){border-top:none}
@layer starlight.components{:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}}
@layer starlight.components{.card-grid:where(.astro-zntqmydn){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-zntqmydn)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-zntqmydn){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-zntqmydn){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-zntqmydn)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}}
@layer starlight.components{.card:where(.astro-v5tidmuc){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-v5tidmuc):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-v5tidmuc):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-v5tidmuc):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-v5tidmuc):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-v5tidmuc){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-v5tidmuc) .icon:where(.astro-v5tidmuc){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem;flex-shrink:0}.card:where(.astro-v5tidmuc) .body:where(.astro-v5tidmuc){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}}
@layer starlight.components{svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}}
@layer starlight.components{.sl-link-card:where(.astro-mf7fz2mj){display:grid;grid-template-columns:1fr auto;gap:.5rem;border:1px solid var(--sl-color-gray-5);border-radius:.5rem;padding:1rem;box-shadow:var(--sl-shadow-sm);position:relative}a:where(.astro-mf7fz2mj){text-decoration:none;line-height:var(--sl-line-height-headings)}a:where(.astro-mf7fz2mj):before{content:"";position:absolute;inset:0}.stack:where(.astro-mf7fz2mj){flex-direction:column;gap:.5rem}.title:where(.astro-mf7fz2mj){color:var(--sl-color-white);font-weight:600;font-size:var(--sl-text-lg)}.description:where(.astro-mf7fz2mj){color:var(--sl-color-gray-3);line-height:1.5}.icon:where(.astro-mf7fz2mj){color:var(--sl-color-gray-3)}.sl-link-card:where(.astro-mf7fz2mj):hover{background:var(--sl-color-gray-7, var(--sl-color-gray-6));border-color:var(--sl-color-gray-2)}.sl-link-card:where(.astro-mf7fz2mj):hover .icon:where(.astro-mf7fz2mj){color:var(--sl-color-white)}}
@layer starlight.components{.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}}@layer starlight.content{.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}}
@layer starlight.components{.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}}
</style><script type="module" src="/_astro/page.B88YLdSP.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">跳转到内容</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/zh-cn" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3" translate="no"> Vibe Sparking AI </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;搜索&#34;}"> <button data-open-modal disabled aria-label="搜索" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">搜索</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="搜索" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> 取消 </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.DMZ5WJ-J.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <nav aria-label="Navbar" class="astro-7ecetekw"> <ul class="main-nav astro-7ecetekw"> <li class="has-dropdown astro-7ecetekw"> <a href="awesome" class="astro-7ecetekw">推荐</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="https://awesome-tools.vibesparking.com/" class="astro-7ecetekw">推荐 工具</a>  </li> </ul> </li><li class="has-dropdown astro-7ecetekw"> <a href="products" class="astro-7ecetekw">产品</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="https://ingest2ai.vibesparking.com/" class="astro-7ecetekw">Ingest2AI</a>  </li> </ul> </li><li class="has-dropdown astro-7ecetekw"> <a href="wellness" class="astro-7ecetekw">健康</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="wellness/sleep" class="astro-7ecetekw">睡眠</a>  </li><li class=" astro-7ecetekw"> <a href="wellness/fitness" class="astro-7ecetekw">健身</a>  </li><li class=" astro-7ecetekw"> <a href="wellness/relaxation" class="astro-7ecetekw">放松</a>  </li> </ul> </li><li class=" astro-7ecetekw"> <a href="wealth" class="astro-7ecetekw">财富</a>  </li><li class="has-dropdown astro-7ecetekw"> <a href="growth" class="astro-7ecetekw">成长</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="ai/vibe-coding" class="astro-7ecetekw">AI 灵感编程</a>  </li> </ul> </li> </ul> </nav>  <script type="module">document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".main-nav > li > a, .dropdown-menu > li > a").forEach(e=>{e.addEventListener("click",t=>{if(window.innerWidth<=768){const n=e.parentElement;n&&(n.classList.contains("has-dropdown")||n.classList.contains("has-submenu"))&&(t.preventDefault(),n.classList.toggle("active"))}})})});</script> <a href="https://github.com/VibeSparkingAI/vs-sites-astro.github.io" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a><a href="https://www.vibesparking.com/blog/rss.xml" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">RSS</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M2.88 16.88a3 3 0 0 0 0 4.24 3 3 0 0 0 4.24 0 3 3 0 0 0-4.24-4.24Zm2.83 2.83a1 1 0 0 1-1.42-1.42 1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42ZM5 12a1 1 0 0 0 0 2 5 5 0 0 1 5 5 1 1 0 0 0 2 0 7 7 0 0 0-7-7Zm0-4a1 1 0 0 0 0 2 9 9 0 0 1 9 9 1 1 0 0 0 2 0 11.08 11.08 0 0 0-3.22-7.78A11.08 11.08 0 0 0 5 8Zm10.61.39A15.11 15.11 0 0 0 5 4a1 1 0 0 0 0 2 13 13 0 0 1 13 13 1 1 0 0 0 2 0 15.11 15.11 0 0 0-4.39-10.61Z"/></svg></a> </div> <div class="astro-eboeziq4"> <a href="/zh-cn/blog/" class="astro-eboeziq4">Blog</a> </div>  <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">选择主题</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select value="auto" autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">深色</option><option value="light" class="astro-4yphtoen">浅色</option><option value="auto" selected class="astro-4yphtoen">自动</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <starlight-lang-select><label style="--sl-select-width: 7em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">选择语言</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"/></svg> <select value="/zh-cn/blog/2/" autocomplete="off" class="astro-4yphtoen"> <option value="/en/blog/2/" class="astro-4yphtoen">English</option><option value="/zh-cn/blog/2/" selected class="astro-4yphtoen">简体中文</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label> </starlight-lang-select><script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="主要"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="菜单" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="open-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="0ndqluo" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/zh-cn/blog/" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">All posts</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Recent posts</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/openai/codex/codex-1up/2025-09-10-codex-1up-terminal-extra-life-practical-guide/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Codex 1UP 增强你的 Codex CLI 编程能力</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/openai/codex/mcp/2025-09-10-codex-mcp-setup-10-servers/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Codex 接入推荐的 10 个 MCP</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/finance/japan/2025-09-05-boj-normalization-impact-us-treasuries-dxy-us-equities/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">日本央行货币政策正常化：对美国国债、美元指数与美股的系统性影响深度解析</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/anthropic/2025-09-04-anthropic-mission-and-outlook/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code 母公司 Anthropic 完成100亿美元融资分析</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/claude-code/2025-09-04-codex-vs-claude-code-speed-vs-orchestration/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code vs Codex CLI 谁更适合你的日常开发？</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/management/2025-09-04-satya-5-prompts-real-workflows/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">微软CEO公开的 5条AI超级提示词, 能直接用在你日常工作里</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/warp/2025-09-04-warp-code-prompt-to-production-playbook/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Warp Code 终端编码 Agent 实战</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/chatgpt/gpt-5/2025-09-04-gpt5-coding-playbook-no-overkill/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">CodeX 推荐 GPT-5 编码实践</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/claude-code/data-usage/2025-09-04-lock-claude-3-steps-keep-code-private/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">不想 Claude Code 把代码喂给 Anthropic？参考这份隐私设置清单</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/finance/nvidia/2025-09-03-nvidia-valuation-pe-paradox/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">英伟达：十年十万亿市值背后的市盈率估值深度分析</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/claude-code/changelog/2025-09-02-claude-code-109x-permission-doctor-memory-vertex/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code 1.0.9x：权限规则、记忆编辑、Vertex 全局端点等多项优化</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/claude-code/cli/2025-09-03-claude-code-cli-config-playbook/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code CLI Config 配置攻略</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/management/2025-09-02-turn-demos-into-cashflow-90-day-ai-rollout/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">业务高效落地 AI：别再卷 Demo，把业务跑通才是正解</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/workflow/2025-09-02-claude-code-prototype-then-engineer/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code 最佳实践：原型开发法</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/finance/nvidia/2025-09-02-nvidia-fy26q2-earnings-analysis-blackwell-growth/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">英伟达2026财年第一、第二季度财报综合分析报告：英伟达如何将H20“危机”变为战略“转机”</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/finance/us-market/2025-09-02-ai-earnings-season-top-10-perfect-companies/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">2025年Q2财报解析：AI浪潮下财报靓丽的公司</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/claude-code/cc-switch/2025-09-02-cc-switch-one-click-provider/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">用 CC-Switch 一键切换 Claude Code &amp; Codex 供应商</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/finance/nvidia/2025-09-01-nvidia-earnings-fy26q2-critical-analysis/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">英伟达 2026 财年第二季度财报电话会议：万亿美元AI叙事下的电力瓶颈与地缘政治博弈</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/ai/workflow/2025-08-31-three-model-playbook-software-delivery/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Gemini 探索、ChatGPT 规划、Claude 执行：一个更强大的 AI 开发闭环</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/finance/us-market/2025-08-31-beyond-compute-investing-new-magnificent-seven-ai-platforms-2025/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">超越算力：2025年美股值得关注的AI应用公司投资潜力盘点</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Tags</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-code/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code (74)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ai/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AI (23)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ai-agent/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AI Agent (18)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/cursor/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Cursor (18)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/anthropic/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Anthropic (15)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/vibe-coding/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Vibe Coding (15)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/openai/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">OpenAI (14)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/finance/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Finance (13)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ai-era/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AI Era (7)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/chatgpt/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ChatGPT (7)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude (7)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/prompt-engineering/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Prompt Engineering (7)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/vs-code/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">VS Code (7)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/gemini/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Gemini (6)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/github-copilot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">GitHub Copilot (6)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/gpt-5/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">GPT-5 (6)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/nvidia/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Nvidia (6)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/us-stock-market/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">US Stock Market (6)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/kiro/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Kiro (5)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/palantir/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Palantir (5)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/codex/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Codex (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/earnings/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Earnings (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/gemini-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Gemini CLI (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ios/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">iOS (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/lovable/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Lovable (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/nasdaq-nvda/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">NASDAQ: NVDA (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/software-engineering/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Software Engineering (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/team-management/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Team Management (4)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/cursor-agent/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Cursor Agent (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/figma/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Figma (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/git-worktree/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Git Worktree (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/google-gemini/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Google Gemini (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/kimi-k2/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Kimi K2 (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/mongodb/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MongoDB (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/nyse-pltr/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">NYSE: PLTR (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/tmux/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Tmux (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/trae/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Trae (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/zed/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Zed (3)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/agent-client-protocolacp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Agent Client Protocol（ACP） (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/aws/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AWS (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/axon/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Axon (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-code-ui/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code UI (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-relay-service/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Relay Service (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/conductor/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Conductor (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/copilot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Copilot (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/deepseek/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DeepSeek (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/education/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Education (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/federal-reserve/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Federal Reserve (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/jetbrains/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">JetBrains (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ki2api/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Ki2API (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/mcp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MCP (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/n8n/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">n8n (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ollama/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Ollama (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/python/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Python (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/quant/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Quant (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/snowflake/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Snowflake (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/spokenly/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Spokenly (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/story-book/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Story Book (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/tesla/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Tesla (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/thinking/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Thinking (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/v0/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">V0 (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/vibe-coding-practices/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Vibe Coding Practices (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/vibetunnel/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">VibeTunnel (2)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/agentic-ide/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Agentic IDE (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ai-infrastructure/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AI Infrastructure (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ai-model/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AI Model (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/aider/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Aider (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/amp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Amp (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/android/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Android (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/android-studio/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Android Studio (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/androidstudio/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Android Studio (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/apple/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Apple (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/apple-礼品卡/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Apple 礼品卡 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/astera-labs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Astera Labs (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/avalanche-card/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Avalanche Card (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/backlogmd/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Backlog.md (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/beautifulsoup/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">BeautifulSoup (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/boj/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">BOJ (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/bolt/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Bolt (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/boltnew/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Bolt.new (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/browser-echo/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Browser Echo (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/cc-switch/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">cc-switch (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ccpm/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ccpm (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ccr/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ccr (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ccstatusline/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ccstatusline (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ccusage/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ccusage (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/chain-of-thought-cot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Chain of Thought (CoT) (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/chatgpt-agent/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ChatGPT Agent (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/chatgpt-pro/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ChatGPT Pro (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/chiphuyen/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Chip Huyen (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-artifacts/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Artifacts (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-code-hooks/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code Hooks (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claudecoderouter/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code Router (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-code-subagents/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Code Subagents (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-max/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Max (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-opus-41/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Claude Opus 4.1 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-code-companion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">claude-code-companion (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-code-proxy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">claude-code-proxy (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-code-templates/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">claude-code-templates (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/claude-trace/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">claude-trace (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/cloud-computing/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Cloud Computing (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/cloudflare/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Cloudflare (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/code-review/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Code Review (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/codecombat/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">CodeCombat (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/codegpt/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">CodeGPT (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/codex-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Codex CLI (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/command-line-interface-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Command Line Interface (CLI) (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/commit-message/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Commit Message (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/context-engineering/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Context Engineering (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/context7/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Context7 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/coreweave/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">CoreWeave (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/coze/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Coze (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/crowdstrike/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">CrowdStrike (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/crush/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Crush (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/cursor-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Cursor CLI (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/dataset/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Dataset (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/deepagents/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DeepAgents (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/deepseek-r1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DeepSeek R1 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/deepseek-v31/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DeepSeek v3.1 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/deepwiki/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DeepWiki (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/designer/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Designer (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/dify/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Dify (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/docker/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Docker (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/docker-compose/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Docker Compose (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/documentation/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Documentation (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/donald-trump/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Donald Trump (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/dxy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DXY (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/dyad/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Dyad (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ears/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">EARS (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/elon-musk/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Elon Musk (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/english/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">English (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/exa/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Exa (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/excel/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Excel (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/export/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">export (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/faang/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">FAANG (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/figma-make/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Figma Make (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/gemini-cli-companion/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Gemini CLI Companion (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/gemini-ultra/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Gemini Ultra (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/gemini-25-pro/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">gemini-2.5-pro (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/genie-3/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Genie 3 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/github/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">GitHub (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/github-actions/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">GitHub Actions (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/glm-45/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">GLM-4.5 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/google/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Google (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/google-cloud/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Google Cloud (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/google-deepmind/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Google DeepMind (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/google-gemini-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Google Gemini CLI (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/google-opal/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Google Opal (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/google-translate/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Google Translate (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/gpt-oss/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">GPT-OSS (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/grok/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Grok (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/grok-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Grok CLI (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/html/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">HTML (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/icloud/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">iCloud (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ifast-global-bank-card/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">iFAST Global Bank Card (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/iflow-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">iflow-cli (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/internet-era/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Internet Era (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/ipo/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">IPO (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/iren/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Iren (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/japan/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Japan (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/javascript/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">JavaScript (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/kombai/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Kombai (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/kronos/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Kronos (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/landingai/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LandingAI (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/lottery-ticket-hypothesis/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Lottery Ticket Hypothesis (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/macos/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">macOS (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/magic/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Magic (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/markdown/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Markdown (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/mcp-proxy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">mcp-proxy (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/meta/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Meta (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/microsoft/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Microsoft (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/microsoft-azure/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Microsoft Azure (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/midjourney/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Midjourney (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/monetary-policy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Monetary Policy (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/moonshot/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Moonshot (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/morgan-stanley/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Morgan Stanley (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/morph/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Morph (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/nasdaq-tsla/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">NASDAQ: TSLA (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/nebius-ai/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Nebius AI (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/nyse-fig/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">NYSE: FIG (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/nyse-snow/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">NYSE: SNOW (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/omnara/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Omnara (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/open-lovable/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Open Lovable (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/open-web-search/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Open-Web-Search (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/openai-codex-cli/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">OpenAI Codex CLI (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/openai-compatible-api/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">OpenAI Compatible API (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/openai-o3/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">OpenAI o3 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/openrouter/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">OpenRouter (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/pdf/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">PDF (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/planning/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Planning (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/playwright/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Playwright (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/primary-school/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Primary School (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/product-management/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Product Management (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/prototype/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Prototype (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/pydantic/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Pydantic (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/rails/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Rails (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/react/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">React (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/replit-agent/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Replit Agent (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/robinhood/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Robinhood (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/rspec/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Rspec (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/screen/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Screen (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/security-review/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">security-review (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/sequential-thinking/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Sequential-Thinking (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/serena/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Serena (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/settingsjson/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">settings.json (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/shopify/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Shopify (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/siliconflow/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">SiliconFlow (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/sniffly/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Sniffly (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/sofi/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">SoFi (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/software-engineer/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Software Engineer (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/spec-driven-development/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Spec-Driven Development (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/spec-workflow/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Spec-Workflow (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/stagewise/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">StageWise (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/station/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Station (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/supergrok-heavy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">SuperGrok Heavy (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/synthetic-questions-generation/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Synthetic Questions Generation (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/tamagotchi/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Tamagotchi (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/tap4aiwebui/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">tap4‑ai‑webui (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/telegram/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Telegram (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/terminal/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Terminal (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/terminalcp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">terminalcp (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/testing/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Testing (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/todo-list/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Todo List (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/trae-cn/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Trae CN (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/transmedics/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">TransMedics (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/trump-tariffs/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Trump Tariffs (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/us-dollar/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">US Dollar (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/us-treasuries/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">US Treasuries (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/usd-index/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">USD Index (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/usdjpy/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">USDJPY (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/uzi/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">uzi (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/veo/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Veo (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/vibe-kanban/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">vibe-kanban (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/vibetree/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">VibeTree (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/vscode/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">VSCode (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/warp/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Warp (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/web/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Web (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/windsurf/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Windsurf (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/word/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Word (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/zcf---ai-agent---claude-code/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">zcf - AI Agent - Claude Code (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/zelda/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Zelda (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/zelda-claude-code/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">zelda-claude-code (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/尼日利亚/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">尼日利亚 (1)</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/tags/雪崩卡/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">雪崩卡 (1)</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/zh-cn/blog/rss.xml" aria-current="false" class="large astro-3ii7xxms"> <span class="astro-3ii7xxms">RSS</span>  </a> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="social-icons astro-wu23bvmt"> <nav aria-label="Navbar" class="astro-7ecetekw"> <ul class="main-nav astro-7ecetekw"> <li class="has-dropdown astro-7ecetekw"> <a href="awesome" class="astro-7ecetekw">推荐</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="https://awesome-tools.vibesparking.com/" class="astro-7ecetekw">推荐 工具</a>  </li> </ul> </li><li class="has-dropdown astro-7ecetekw"> <a href="products" class="astro-7ecetekw">产品</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="https://ingest2ai.vibesparking.com/" class="astro-7ecetekw">Ingest2AI</a>  </li> </ul> </li><li class="has-dropdown astro-7ecetekw"> <a href="wellness" class="astro-7ecetekw">健康</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="wellness/sleep" class="astro-7ecetekw">睡眠</a>  </li><li class=" astro-7ecetekw"> <a href="wellness/fitness" class="astro-7ecetekw">健身</a>  </li><li class=" astro-7ecetekw"> <a href="wellness/relaxation" class="astro-7ecetekw">放松</a>  </li> </ul> </li><li class=" astro-7ecetekw"> <a href="wealth" class="astro-7ecetekw">财富</a>  </li><li class="has-dropdown astro-7ecetekw"> <a href="growth" class="astro-7ecetekw">成长</a> <ul class="dropdown-menu astro-7ecetekw"> <li class=" astro-7ecetekw"> <a href="ai/vibe-coding" class="astro-7ecetekw">AI 灵感编程</a>  </li> </ul> </li> </ul> </nav>   <a href="https://github.com/VibeSparkingAI/vs-sites-astro.github.io" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a><a href="https://www.vibesparking.com/blog/rss.xml" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">RSS</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M2.88 16.88a3 3 0 0 0 0 4.24 3 3 0 0 0 4.24 0 3 3 0 0 0-4.24-4.24Zm2.83 2.83a1 1 0 0 1-1.42-1.42 1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42ZM5 12a1 1 0 0 0 0 2 5 5 0 0 1 5 5 1 1 0 0 0 2 0 7 7 0 0 0-7-7Zm0-4a1 1 0 0 0 0 2 9 9 0 0 1 9 9 1 1 0 0 0 2 0 11.08 11.08 0 0 0-3.22-7.78A11.08 11.08 0 0 0 5 8Zm10.61.39A15.11 15.11 0 0 0 5 4a1 1 0 0 0 0 2 13 13 0 0 1 13 13 1 1 0 0 0 2 0 15.11 15.11 0 0 0-4.39-10.61Z"/></svg></a> </div> <div class="astro-eboeziq4"> <a href="/zh-cn/blog/" class="astro-eboeziq4">Blog</a> </div>  <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">选择主题</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select value="auto" autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">深色</option><option value="light" class="astro-4yphtoen">浅色</option><option value="auto" selected class="astro-4yphtoen">自动</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>  <starlight-lang-select><label style="--sl-select-width: 7em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">选择语言</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path fill-rule="evenodd" d="M8.516 3a.94.94 0 0 0-.941.94v1.15H2.94a.94.94 0 1 0 0 1.882h7.362a7.422 7.422 0 0 1-1.787 3.958 7.42 7.42 0 0 1-1.422-2.425.94.94 0 1 0-1.774.627 9.303 9.303 0 0 0 1.785 3.043 7.422 7.422 0 0 1-4.164 1.278.94.94 0 1 0 0 1.881 9.303 9.303 0 0 0 5.575-1.855 9.303 9.303 0 0 0 4.11 1.74l-.763 1.525a.968.968 0 0 0-.016.034l-1.385 2.77a.94.94 0 1 0 1.683.841l1.133-2.267h5.806l1.134 2.267a.94.94 0 0 0 1.683-.841l-1.385-2.769a.95.95 0 0 0-.018-.036l-3.476-6.951a.94.94 0 0 0-1.682 0l-1.82 3.639a7.423 7.423 0 0 1-3.593-1.256 9.303 9.303 0 0 0 2.27-5.203h1.894a.94.94 0 0 0 0-1.881H9.456V3.94A.94.94 0 0 0 8.516 3Zm6.426 11.794a1.068 1.068 0 0 1-.02.039l-.703 1.407h3.924l-1.962-3.924-1.24 2.478Z" clip-rule="evenodd"/></svg> <select value="/zh-cn/blog/2/" autocomplete="off" class="astro-4yphtoen"> <option value="/en/blog/2/" class="astro-4yphtoen">English</option><option value="/zh-cn/blog/2/" selected class="astro-4yphtoen">简体中文</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label> </starlight-lang-select> </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-bboabfps"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-bboabfps"><details id="starlight__mobile-toc" class="astro-bboabfps"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-bboabfps"><div class="toggle sl-flex astro-bboabfps">本页内容<svg aria-hidden="true" class="caret astro-bboabfps astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></div><span class="display-current astro-bboabfps"></span></summary><div class="dropdown astro-bboabfps"><ul class="isMobile astro-4elwmllm" style="--depth: 0;"> <li class="astro-4elwmllm" style="--depth: 0;"> <a href="#_top" data-shb-heading="概述" class="astro-4elwmllm" style="--depth: 0;"> <span class="astro-7vjlygkt">概述</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module">const b=["caution","danger","default","note","success","tip"],u="__SHB__",E="__SHB_SPACE__";function H(a){return b.includes(a)}function _(a){const t=a.split(" ").pop();if(!t)return;const n=t.split(u),[,r,s]=n;if(!(!r||!H(r)||!s))return{heading:a.replace(new RegExp(`${u}.*${u}`),""),text:s.replace(E," "),variant:r}}const v="_top";class g extends HTMLElement{constructor(){super(),this._current=this.querySelector('a[aria-current="true"]'),this.minH=Number.parseInt(this.dataset.minH??"2",10),this.maxH=Number.parseInt(this.dataset.maxH??"3",10),this.isHeading=e=>{if(e instanceof HTMLHeadingElement){if(e.id===v)return!0;const c=e.tagName[1];if(c){const o=Number.parseInt(c,10);if(o>=this.minH&&o<=this.maxH)return!0}}return!1};const t=[...this.querySelectorAll("a")],n=e=>{if(!e)return null;const c=e;for(;e;){if(this.isHeading(e))return e;for(e=e.previousElementSibling;e?.lastElementChild;)e=e.lastElementChild;const o=n(e);if(o)return o}return n(c.parentElement)},r=e=>{for(const{isIntersecting:c,target:o}of e){if(!c)continue;const h=n(o);if(!h)continue;const m=t.find(p=>p.hash===`#${encodeURIComponent(h.id)}`);if(m){this.current=m;break}}},s=document.querySelectorAll("main [id], main [id] ~ *, main .content > *");let i;const d=()=>{i&&i.disconnect(),i=new IntersectionObserver(r,{rootMargin:this.getRootMargin()});for(const e of s)i.observe(e)};d();const f=globalThis.requestIdleCallback||(e=>setTimeout(e,1));let l;window.addEventListener("resize",()=>{i&&i.disconnect(),clearTimeout(l),l=setTimeout(()=>f(d),200)})}set current(t){t!==this._current&&(this._current&&this._current.removeAttribute("aria-current"),t.setAttribute("aria-current","true"),this._current=t)}get current(){return this._current}getRootMargin(){const t=document.querySelector("header")?.getBoundingClientRect().height??0,n=this.querySelector("summary")?.getBoundingClientRect().height??0,r=t+n+32,s=r+53,i=document.documentElement.clientHeight;return`-${r}px 0% ${s-i}px`}}customElements.define("starlight-toc",g);class x extends g{set current(t){super.current=t;const n=this.querySelector(".display-current");if(n){const r=t.dataset.shbHeading;if(r){const s=_(r);if(s){n.textContent="",n.append(document.createTextNode(`${s.heading} `));const i=document.createElement("span");i.textContent=s.text,i.dataset.shbBadge="",i.dataset.shbBadgeVariant=s.variant,n.append(i);return}}n.textContent=t.textContent}}get current(){return super.current}constructor(){super();const t=this.querySelector("details");if(!t)return;const n=()=>{t.open=!1};for(const r of t.querySelectorAll("a"))r.addEventListener("click",n);globalThis.addEventListener("click",r=>{t.contains(r.target)||n()}),globalThis.addEventListener("keydown",r=>{if(r.key==="Escape"&&t.open){const s=t.contains(document.activeElement);if(n(),s){const i=t.querySelector("summary");i&&i.focus()}}})}}customElements.define("mobile-starlight-toc",x);</script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">本页内容</h2><ul class="astro-4elwmllm" style="--depth: 0;"> <li class="astro-4elwmllm" style="--depth: 0;"> <a href="#_top" data-shb-heading="概述" class="astro-4elwmllm" style="--depth: 0;"> <span class="astro-7vjlygkt">概述</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main class="astro-bguv2lll" lang="zh-CN" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Blog</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content">   <div class="posts astro-xaz7kpyh"> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/google/gemini/ide/2025-08-31-gemini-cli-ide-native-diff/" class="astro-dr56dw7m">Gemini CLI Companion × VS Code/Cursor：把 gemini-2.5-pro 接入你的 IDE</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-31T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月31日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Gemini CLI Companion × VS Code/Cursor：把 gemini-2.5-pro 接入你的 IDE -->
<blockquote>
<p>把 Gemini CLI gemini-2.5-pro 接到 VS Code/Cursor 的终端里，让它<strong>看见你的工作区、理解你的选区、直接弹出原生 Diff 窗</strong>。更聪明、更稳、更省事。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>还在“复制→粘贴→回车”的土法交互？
现在，<strong>命令行 = IDE 的超脑插件</strong>。
Gemini CLI 最新更新，直接打通 VS Code 集成终端：
<strong>读工作区、识别选中文本、原生并排 Diff、接受前可二次改</strong>。爽。</p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/google/gemini/ide/gemini-cli-ide.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="亮点一览值得你今天就开">亮点一览（值得你今天就开）</h2><a class="sl-anchor-link" href="#亮点一览值得你今天就开"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “亮点一览（值得你今天就开）”</span></a></div>
<ul>
<li><strong>上下文直连工作区</strong>：能“看见”你打开的文件，也能读你<strong>选中的那一段</strong>，建议更精准。</li>
<li><strong>原生全屏 Diff</strong>：CLI 给的修改，<strong>直接弹 VS Code 的并排 Diff 窗</strong>；先改再收，不会一键糊你盘。</li>
<li><strong>一键开关</strong>：<code dir="auto">/ide enable</code> 开，<code dir="auto">/ide disable</code> 关，随时切换。</li>
<li><strong>Cursor 基本可用</strong>：官方扩展<strong>标注兼容 VS Code 及其 fork</strong>（Cursor 属 VS Code fork），但个别场景需<strong>手动装扩展</strong>。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="安装与启用3-分钟上手">安装与启用（3 分钟上手）</h2><a class="sl-anchor-link" href="#安装与启用3-分钟上手"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “安装与启用（3 分钟上手）”</span></a></div>
<blockquote>
<p>以 VS Code 为例；Cursor 基本同理（需手动装扩展，见下文“常见坑”）。</p>
</blockquote>
<ol>
<li><strong>先决条件</strong></li>
</ol>
<ul>
<li>Gemini CLI 版本 <strong>≥ 0.1.20</strong></li>
<li><strong>必须</strong>从 IDE 的<strong>集成终端</strong>里运行 CLI（不是外部终端）。</li>
</ul>
<ol start="2">
<li><strong>一次性安装</strong>
在 VS Code 终端运行：</li>
</ol>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="shell"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">gemini</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gemini"><div></div></button></div></figure></div>
<p>gemini-cli 安装 ide 集成：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/ide install</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/ide install"><div></div></button></div></figure></div>
<p>它会自动安装 <strong>Gemini CLI Companion</strong> 扩展。</p>
<ol start="3">
<li><strong>打开集成</strong></li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/ide enable</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/ide enable"><div></div></button></div></figure></div>
<p>需要时关闭：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/ide disable</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/ide disable"><div></div></button></div></figure></div>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/google/gemini/ide/gemini-companion-extension.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<blockquote>
<p><strong>补充</strong>：扩展商店页面说明该扩展<strong>适配 VS Code 及 VS Code forks</strong>；若你用 Cursor，直接在商店<strong>手动搜索并安装</strong>“Gemini CLI Companion”。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="推荐使用法把它当代码副驾--改码机器人">推荐使用法（把它当“代码副驾 + 改码机器人”）</h2><a class="sl-anchor-link" href="#推荐使用法把它当代码副驾--改码机器人"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “推荐使用法（把它当“代码副驾 + 改码机器人”）”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1选中提议原生-diff-接收">1）选中→提议→原生 Diff 接收</h3><a class="sl-anchor-link" href="#1选中提议原生-diff-接收"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1）选中→提议→原生 Diff 接收”</span></a></div>
<ul>
<li>在文件里<strong>框选</strong>要改的段落</li>
<li>终端里对 Gemini 说需求（或用你的常用提示模板）</li>
<li><strong>并排 Diff</strong> 弹出 → 你可先<strong>微调</strong>右侧改动 → 再点接受</li>
</ul>
<blockquote>
<p>适合：Bug 小修、接口对齐、重命名、日志统一等“细颗粒”改动。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="2开文件--指路重构">2）“开文件 + 指路”重构</h3><a class="sl-anchor-link" href="#2开文件--指路重构"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2）“开文件 + 指路”重构”</span></a></div>
<ul>
<li>打开涉及的 2–3 个关键文件（让它“看见”上下文）</li>
<li>给出“目标+约束”（如保留接口签名、通过现有测试）</li>
<li><strong>在 Diff 中分批落地</strong>，兼顾安全与节奏</li>
</ul>
<blockquote>
<p>适合：控制器瘦身、Hook 抽取、错误处理规范化。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="3选区--精准上下文锚">3）选区 = 精准上下文锚</h3><a class="sl-anchor-link" href="#3选区--精准上下文锚"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3）选区 = 精准上下文锚”</span></a></div>
<ul>
<li>善用选区让它“少走神”</li>
<li>复杂文件中，只喂关键函数/片段，减少跑偏</li>
</ul>
<blockquote>
<p>适合：长文件、历史包袱大的模块。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="vs-code-与-cursor怎么配才顺">VS Code 与 Cursor：怎么配才顺</h2><a class="sl-anchor-link" href="#vs-code-与-cursor怎么配才顺"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “VS Code 与 Cursor：怎么配才顺”</span></a></div>
<ul>
<li>
<p><strong>VS Code</strong>：<code dir="auto">/ide install</code> 自动装扩展 → <code dir="auto">/ide enable</code> 即可。</p>
</li>
<li>
<p><strong>Cursor</strong>：</p>
<ul>
<li>扩展页<strong>手动安装</strong>“Gemini CLI Companion”（VS Code forks 兼容）。</li>
<li>若 <code dir="auto">/ide install</code> 提示“<strong>No installer for Cursor</strong>”，属<strong>已知问题</strong>，按提示<strong>改为手动装</strong>。</li>
<li>Cursor 对大多数 VS Code 扩展<strong>开箱支持</strong>（官方与多方测评均有表述），但以实际为准。</li>
</ul>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="常见坑与排查">常见坑与排查</h2><a class="sl-anchor-link" href="#常见坑与排查"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “常见坑与排查”</span></a></div>
<ul>
<li>
<p><strong>扩展已装，但 CLI 说连不上 IDE</strong></p>
<ul>
<li>可能是所需环境变量（如 <code dir="auto">GEMINI_CLI_IDE_WORKSPACE_PATH</code> / <code dir="auto">GEMINI_CLI_IDE_SERVER_PORT</code>）没就绪</li>
<li><strong>解决</strong>：确认扩展开启；<strong>重新开一个 IDE 终端</strong>再试。</li>
</ul>
</li>
<li>
<p><strong>Cursor 里 <code dir="auto">/ide install</code> 失败</strong></p>
<ul>
<li>信息：“<strong>No installer is available for Cursor</strong>”</li>
<li><strong>解决</strong>：去扩展市场<strong>手动安装</strong>同名扩展。</li>
</ul>
</li>
<li>
<p><strong>看不到原生 Diff</strong></p>
<ul>
<li>确认在 <strong>IDE 集成终端</strong>里跑 CLI，而非外部终端。</li>
</ul>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="适合谁哪些场景最香">适合谁？哪些场景最香？</h2><a class="sl-anchor-link" href="#适合谁哪些场景最香"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “适合谁？哪些场景最香？”</span></a></div>
<ul>
<li><strong>个人开发者</strong>：小步快跑、边改边看</li>
<li><strong>团队协作</strong>：<strong>统一风格</strong>与<strong>批量小改</strong>（日志、异常、命名、注释）</li>
<li><strong>旧代码治理</strong>：低风险“切片式”重构，边 Diff 边落地</li>
</ul>
<blockquote>
<p>本质上，它把“LLM 改码”变成<strong>可审可控</strong>的 IDE 原生流程。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一套顺手的上手清单">一套顺手的“上手清单”</h2><a class="sl-anchor-link" href="#一套顺手的上手清单"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一套顺手的“上手清单””</span></a></div>
<ol>
<li><code dir="auto">npm i -g @google/gemini-cli</code>（已装请略）</li>
<li>VS Code 打开项目 → <strong>集成终端</strong>运行：<code dir="auto">/ide install</code> → <code dir="auto">/ide enable</code></li>
<li>打开 2–3 个关键文件，<strong>先小范围试改</strong>（选区驱动）</li>
<li>看到 Diff → 先微调再接收 → <strong>提交带说明的 commit</strong></li>
<li>写个团队规范：<strong>哪些改动先交给 Gemini</strong>，哪些必须走人工评审</li>
</ol>
<blockquote>
<p>官方博文与扩展页都有关键说明，建议收藏。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>把命令行“硬核力”和 IDE “可视化”结合起来，<strong>效率和确定性同时提升</strong>。
今天就把 Gemini CLI 接上 VS Code/Cursor，<strong>让改动更可控、上下文更精准、协作更顺滑</strong>。</p>
<!-- 
---

# 🔖 多语言标题（3 组 + slug）

1. **把命令行装进 IDE：Gemini CLI × VS Code/Cursor 原生 Diff 实战**
   EN: Put the CLI in Your IDE: Gemini CLI × VS Code/Cursor with Native Diff
   繁體: 把命令列裝進 IDE：Gemini CLI × VS Code/Cursor 原生 Diff 實戰
   日本語: コマンドラインをIDEに：Gemini CLI × VS Code/Cursor のネイティブ差分
   Français : Le CLI dans votre IDE : Gemini CLI × VS Code/Cursor avec diff natif
   Español: CLI dentro del IDE: Gemini CLI × VS Code/Cursor con diff nativo
   Português: CLI no seu IDE: Gemini CLI × VS Code/Cursor com diff nativo
   **slug**: `gemini-cli-ide-native-diff`

2. **上下文直连 + 一键 Diff：Gemini CLI Companion 真能打**
   EN: Context-Aware + One-Click Diff: Gemini CLI Companion Delivers
   繁體: 上下文直連 + 一鍵 Diff：Gemini CLI Companion 真能打
   日本語: 文脈連携＋ワンクリック差分：Gemini CLI Companion は本物
   Français : Contexte natif + diff en un clic : Gemini CLI Companion au top
   Español: Contexto nativo + diff con un clic: Gemini CLI Companion rinde
   Português: Contexto nativo + diff com um clique: Gemini CLI Companion manda bem
   **slug**: `gemini-cli-companion-diff`

3. **今天就接入：用 VS Code/Cursor 玩转 Gemini CLI 原生改码**
   EN: Plug In Today: Native Code Edits with Gemini CLI in VS Code/Cursor
   繁體: 今天就接入：用 VS Code/Cursor 玩轉 Gemini CLI 原生改碼
   日本語: 今日から導入：VS Code/Cursor で Gemini CLI のネイティブ編集
   Français : Activez-le aujourd’hui : Éditions natives avec Gemini CLI dans VS Code/Cursor
   Español: Actívalo hoy: Ediciones nativas con Gemini CLI en VS Code/Cursor
   Português: Ative hoje: Edições nativas com Gemini CLI no VS Code/Cursor
   **slug**: `gemini-cli-vscode-cursor-setup`

---

# 🖼️ 配图（2:1 插画风，无中文）

**封面图（Prompt）**
“An illustration of a developer in a VS Code-like editor, a terminal panel glowing with ‘/ide enable’, a split diff view side-by-side, neat pastel palette, minimal lines, 2:1 ratio, no text, flat illustration.”

**关键章节配图（Prompt x3）**

1. “Close-up of a code editor selection being highlighted, AI spark connecting selection to a terminal prompt, 2:1, flat illustration.”
2. “Split diff screen with accepted and pending changes, checkmarks and pencil icons indicating editable diffs, 2:1, minimal.”
3. “Two editors labeled subtly as VS Code and Cursor (generic look-alikes), sharing an extension puzzle piece labeled ‘companion’, 2:1, pastel.”

---

# 💬 朋友圈/评论区金句（3 条）

1. **把改动放进 Diff 再说话**——Gemini CLI 接上 IDE，效率是真的上头。
2. 选中一段，动动嘴，**并排 Diff** 就来了；接不接收，全看你。
3. Cursor 党也能玩，**手动装扩展**就行；今天就给老项目洗把澡。

---

**你觉得这版文章 OK 吗？要不要我继续**补一版“团队落地模板”（规范、提示词、失败回滚策略）**或加一张“常见报错自检清单”？**

[1]: https://developers.googleblog.com/en/gemini-cli-vs-code-native-diffing-context-aware-workflows/?utm_source=chatgpt.com "Gemini CLI + VS Code: Native diffing and context-aware ..."
[2]: https://developers.googleblog.com/en/gemini-cli-vs-code-native-diffing-context-aware-workflows/ "
            
            Gemini CLI + VS Code: Native diffing and context-aware workflows
            
            
            \- Google Developers Blog
            
        "
[3]: https://marketplace.visualstudio.com/items?itemName=Google.gemini-cli-vscode-ide-companion&utm_source=chatgpt.com "Gemini CLI Companion"
[4]: https://github.com/google-gemini/gemini-cli/issues/6733?utm_source=chatgpt.com "Not possible to connect to the cursor ide · Issue #6733"
[5]: https://www.walturn.com/insights/cursor-vs-vs-code-with-github-copilot-a-comprehensive-comparison?utm_source=chatgpt.com "Cursor vs VS Code with GitHub Copilot"
[6]: https://gemini-cli.xyz/docs/en/ide-integration?utm_source=chatgpt.com "IDE Integration | Gemini CLI Docs" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/gemini-cli/" class="astro-sg3lsd66">Gemini CLI</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/gemini-cli-companion/" class="astro-sg3lsd66">Gemini CLI Companion</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/gemini-25-pro/" class="astro-sg3lsd66">gemini-2.5-pro</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/vs-code/" class="astro-sg3lsd66">VS Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/cursor/" class="astro-sg3lsd66">Cursor</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/openai/codex/ide/2025-08-30-codex-ide-playbook-in-vscode/" class="astro-dr56dw7m">Codex 发布 VS Code / Cursor IDE 插件</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-30T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月30日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 用 1 篇就懂：CodexIDE 怎么装、怎么用、在哪些场景最值 -->
<blockquote>
<p>想把“会写代码的 CodeX GPT-5”塞进 VS Code？Codex IDE 这波真的到位。读/改/跑，一把梭。本文带你 10 分钟摸清亮点、安装步骤、以及最推荐的上手场景。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="为什么是-codex-ide">为什么是 Codex IDE？</h2><a class="sl-anchor-link" href="#为什么是-codex-ide"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “为什么是 Codex IDE？”</span></a></div>
<p><strong>它是“能自己跑代码的代理”。</strong>
不是只会聊天的助手。Codex 能在你的工作目录里直接<strong>读文件、改代码、跑命令</strong>，还支持把大活儿丢到云端跑，改完再一键拉回本地验收。官方扩展已适配 VS Code / Cursor / Windsurf，macOS、Linux 体验稳定；Windows 建议配 WSL。</p>
<p><strong>侧边面板同屏协作。</strong>
把 Codex 面板拖到编辑器右侧，选中一段代码就能少打字、给更准的上下文，响应更快更贴题。</p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/openai/codex/ide/chat.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<p><strong>三种“批准模式”，安全与效率自选。</strong>
默认 <code dir="auto">Agent</code> 可在当前目录自动读/改/跑；需要出目录或联网会再问你。也能切到只聊天的 <code dir="auto">Chat</code>，或完全放开权限的 <code dir="auto">Agent (Full Access)</code>（慎用）。</p>
<p><strong>云端代跑，现场旁观。</strong>
本地聊着聊着，一键“Run in the cloud”。大项目开新分支让它先干；小任务基于你本地改动收尾更顺手。云端上下文会延续回本地，拉回测一遍再合并。</p>
<p><strong>可编排、可扩展。</strong>
扩展本体围绕开源 Codex CLI 打造，支持 MCP 与 AGENTS.md 规范，方便团队把“项目规则、构建步骤、验收流程”写给代理读。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="3-步搞定安装与登录">3 步搞定安装与登录</h2><a class="sl-anchor-link" href="#3-步搞定安装与登录"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3 步搞定安装与登录”</span></a></div>
<p><strong>① 安装扩展</strong>
从 VS Code Marketplace 搜 “Codex – OpenAI’s coding agent”，点安装即可；Cursor、Windsurf 同理。</p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/openai/codex/ide/vs-extension.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<p><strong>② 登录</strong>
推荐用 ChatGPT 账号（Plus / Pro / Team / Edu / Enterprise 都包含）。也可用 API Key，但需要额外配置。</p>
<p><strong>③（可选）装 CLI</strong>
想跑纯终端或做 CI，装 Codex CLI：
<code dir="auto">npm i -g @openai/codex</code> 或 <code dir="auto">brew install codex</code>，随后 <code dir="auto">codex</code> 直接开干。</p>
<blockquote>
<p>Windows 小贴士：配合 <strong>WSL</strong> 体验更稳。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="上手就香的-6-大场景">上手就香的 6 大场景</h2><a class="sl-anchor-link" href="#上手就香的-6-大场景"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “上手就香的 6 大场景”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1遗留项目快速读透">1）<strong>遗留项目“快速读透”</strong></h3><a class="sl-anchor-link" href="#1遗留项目快速读透"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1）遗留项目“快速读透””</span></a></div>
<p>让 Codex 在 repo 里<strong>跑测试、搜调用链、总结模块职责</strong>，给你一张“开箱导览”。适合新人进组或接锅老项目。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="2小需求当场落地">2）<strong>小需求当场落地</strong></h3><a class="sl-anchor-link" href="#2小需求当场落地"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2）小需求当场落地”</span></a></div>
<p>在 <code dir="auto">Agent</code> 模式下，直接让它<strong>新建文件、改路由、补单测、运行本地命令</strong>，你只需把关 PR。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="3重构迁移">3）<strong>重构/迁移</strong></h3><a class="sl-anchor-link" href="#3重构迁移"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3）重构/迁移”</span></a></div>
<p>交代目标与约束，让它分批提交改动。若耗时长、影响大，切到<strong>云端任务</strong>跑，边看 diff 边 review。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="4性能定位--bug-复现">4）<strong>性能定位 &#x26; Bug 复现</strong></h3><a class="sl-anchor-link" href="#4性能定位--bug-复现"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “4）性能定位 &#x26; Bug 复现”</span></a></div>
<p>给日志与复现步骤，让它<strong>写探针脚本/本地压测命令</strong>并执行，产出对比报告。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="5安全与规范内化">5）<strong>安全与规范“内化”</strong></h3><a class="sl-anchor-link" href="#5安全与规范内化"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “5）安全与规范“内化””</span></a></div>
<p>在项目根加 <strong>AGENTS.md</strong>：建构/测试/代码风格/提交规范/安全要点写清。代理照单执行，减少“口头约定”。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="6多人协作提效">6）<strong>多人协作提效</strong></h3><a class="sl-anchor-link" href="#6多人协作提效"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “6）多人协作提效”</span></a></div>
<p>把“需求 → 云端代跑 → 本地验收 → 合并”的流转定成团队 SOP，人人同一套动作，交付节奏更稳。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="你会常用的-3-个操作流">你会常用的 3 个操作流</h2><a class="sl-anchor-link" href="#你会常用的-3-个操作流"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “你会常用的 3 个操作流”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="流程-a本地快速改">流程 A：本地快速改</h3><a class="sl-anchor-link" href="#流程-a本地快速改"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “流程 A：本地快速改”</span></a></div>
<ol>
<li>面板切 <code dir="auto">Agent</code>。</li>
<li>选中代码 → 说明意图 → 让它改并跑。</li>
<li>看 diff，不满意就“撤回/重做”。</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="流程-b云端代跑大任务">流程 B：云端代跑大任务</h3><a class="sl-anchor-link" href="#流程-b云端代跑大任务"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “流程 B：云端代跑大任务”</span></a></div>
<ol>
<li>说明目标与约束（分支、测试覆盖）。</li>
<li>选择环境 → <strong>Run in the cloud</strong>。</li>
<li>期间可继续本地开发；完成后把改动拉回本地测一遍。</li>
</ol>
<div class="sl-heading-wrapper level-h3"><h3 id="流程-c只聊天先定方案">流程 C：只聊天先定方案</h3><a class="sl-anchor-link" href="#流程-c只聊天先定方案"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “流程 C：只聊天先定方案”</span></a></div>
<p>切 <code dir="auto">Chat</code>，先把设计、接口、边界想清楚，再换回 <code dir="auto">Agent</code> 落地实现。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="团队落地小抄强烈建议">团队落地小抄（强烈建议）</h2><a class="sl-anchor-link" href="#团队落地小抄强烈建议"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “团队落地小抄（强烈建议）”</span></a></div>
<ul>
<li>
<p><strong>规范写进 AGENTS.md</strong>：安装命令、测试脚本、Lint 规则、提交模板、权限范围。代理就会按你写的来。</p>
</li>
<li>
<p><strong>按场景选模式</strong>：</p>
<ul>
<li>方案讨论用 <code dir="auto">Chat</code>；</li>
<li>局部改动用 <code dir="auto">Agent</code>；</li>
<li>大范围/联网操作再考虑 <code dir="auto">Full Access</code>。</li>
</ul>
</li>
<li>
<p><strong>云端任务做“重活”</strong>：迁移框架、批量重构、生成大型测试集。</p>
</li>
<li>
<p><strong>VS Code 右侧面板固定</strong>，减少来回切窗。</p>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="常见问题">常见问题</h2><a class="sl-anchor-link" href="#常见问题"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “常见问题”</span></a></div>
<ul>
<li>
<p><strong>装完看不到？</strong>
在侧栏扩展区，可能折叠了；拖到右侧固定。</p>
</li>
<li>
<p><strong>计划在 Windows 用？</strong>
先上 WSL，体验更丝滑。</p>
</li>
<li>
<p><strong>怎么更新？</strong>
扩展会自动更新，也可在 IDE 扩展页手动检查。</p>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="tldr">TL;DR</h2><a class="sl-anchor-link" href="#tldr"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “TL;DR”</span></a></div>
<ul>
<li><strong>本地 = 快速改/跑</strong>，<code dir="auto">Agent</code> 模式够用。</li>
<li><strong>云端 = 干重活</strong>，保留上下文、改完拉回测。</li>
<li><strong>规则写进 AGENTS.md</strong>，团队协作质量上限被拉满。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="3-个开箱即用的示例话术">3 个“开箱即用”的示例话术</h2><a class="sl-anchor-link" href="#3-个开箱即用的示例话术"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3 个“开箱即用”的示例话术”</span></a></div>
<ul>
<li>“在 <code dir="auto">apps/web</code> 新增 <code dir="auto">/pricing</code> 页面，用 Tailwind，补 e2e 测试并 <code dir="auto">npm run test</code> 通过后提交。”</li>
<li>“把 <code dir="auto">UserService</code> 的 N+1 查询用 <code dir="auto">includes</code> 优化，生成基准对比报告。”</li>
<li>“把 Monorepo 的 <code dir="auto">eslint</code> 和 <code dir="auto">prettier</code> 升级到最新稳定版，修复所有 CI 报错再发起 PR。”</li>
</ul>
<!-- 
---

## 推荐标题（多语种 + slug）

1. **把会写代码的 AI 搬进 VS Code：Codex IDE 实战手册**

   * EN: Bring an AI Coder into VS Code: Codex IDE Playbook
   * 繁體: 把會寫程式的 AI 搬進 VS Code：Codex IDE 實戰手冊
   * 日: VS CodeにAIコーダーを入れる：Codex IDE実践ガイド
   * 法: Un codeur IA dans VS Code : Guide pratique Codex IDE
   * 西: Un programador IA en VS Code: Guía práctica de Codex IDE
   * 葡: Um codificador IA no VS Code: Guia prático do Codex IDE
   * **slug**: codex-ide-playbook-in-vscode

2. **本地改、云端跑：Codex IDE 的高效工作流**

   * EN: Edit Locally, Run in the Cloud: Efficient Workflows with Codex IDE
   * 繁體: 本地改、雲端跑：Codex IDE 的高效工作流
   * 日: ローカル編集・クラウド実行：Codex IDE効率ワークフロー
   * 法: Éditez local, exécutez dans le cloud : flux Codex IDE
   * 西: Edita local, ejecuta en la nube: flujos con Codex IDE
   * 葡: Edite local, rode na nuvem: fluxos com Codex IDE
   * **slug**: codex-ide-local-edit-cloud-run

3. **让代理写代码：Codex IDE 最佳实践清单**

   * EN: Let the Agent Code: Codex IDE Best Practices
   * 繁體: 讓代理寫程式：Codex IDE 最佳實踐清單
   * 日: エージェントに書かせる：Codex IDEベストプラクティス
   * 法: Laissez l’agent coder : bonnes pratiques Codex IDE
   * 西: Deja que el agente programe: buenas prácticas Codex IDE
   * 葡: Deixe o agente codar: boas práticas do Codex IDE
   * **slug**: codex-ide-best-practices

---

## 配图（插画风，2:1，无中文文案）

**封面图**
“An IDE window with a friendly robot agent editing code while launching tests in a terminal; side panel shows chat and diffs; modern pastel palette, clean lines, wide 2:1 aspect.”

**关键章节配图**
1）“Local Agent mode”
“A laptop screen showing ‘Agent’ toggle on, file tree highlighted, terminal running tests; subtle safety shield icon.”

2）“Run in the Cloud”
“A cloud conveyor belt building and testing code, delivering a pull request box to a developer desk.”

3）“AGENTS.md teamwork”
“A team pinning a document labeled AGENTS.md on a kanban wall; checklists for build, test, style.”

---

## 朋友圈/评论区 3 条文案

1. “把 AI 搬进 VS Code，改代码还能自己跑命令，真就上班有‘副驾’了。”
2. “小需求本地改，大活云端跑，Codex IDE 这工作流太顺手了。”
3. “在 AGENTS.md 里写清规则，代理按你说的干，团队协作省一半嘴皮子。”

---

你觉得这样的写法好用吗？需要我**按你的技术栈**出一份更具体的落地清单（命令、AGENTS.md 模板、常用提示语）吗？我可以直接给到可复制的项目模板。

[1]: https://developers.openai.com/codex/ide/ "Codex IDE extension"
[2]: https://marketplace.visualstudio.com/items?itemName=openai.chatgpt "
        Codex - OpenAI's coding agent - Visual Studio Marketplace
    "
[3]: https://github.com/openai/codex "GitHub - openai/codex: Lightweight coding agent that runs in your terminal"
[4]: https://agents.md/ "AGENTS.md" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/codex/" class="astro-sg3lsd66">codex</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/openai/" class="astro-sg3lsd66">OpenAI</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/vs-code/" class="astro-sg3lsd66">Vs Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/cursor/" class="astro-sg3lsd66">Cursor</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/zed/2025-08-29-zed-acp-gemini-claude-code/" class="astro-dr56dw7m">Zed 支持 ACP 接入 Claude Code 与 Gemini：给多位 AI 同事派活</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-29T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月29日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- Zed 支持 ACP 接入 Claude Code 与 Gemini：一台编辑器，招齐多位“AI 同事” -->
<blockquote>
<p><strong>Zed 把“代理”做成了标准接口（ACP）</strong>，把命令行里的智能体请进了编辑器。Gemini CLI 率先接入；<strong>Claude Code</strong> 也可通过社区桥接跑在 Zed 的 ACP 上。未来，多 Agent 共存将是常态。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="省流版">省流版</h2><a class="sl-anchor-link" href="#省流版"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “省流版”</span></a></div>
<ul>
<li><strong>ACP = 给 AI 编程 Agent 的“LSP”</strong>。Zed 把协议开源（Apache），任何实现 ACP 的 Agent 都能在 Zed 里跑。</li>
<li><strong>Gemini CLI 官方打样</strong>：Zed 0.201.5 起，Agent 面板内直接新建 Gemini 线程；未安装会自动装；需要 Gemini CLI ≥ <strong>0.2.0</strong>。</li>
<li><strong>Claude Code 现在也能接</strong>：用社区开源桥接 <code dir="auto">acp-claude-code</code>，一行配置就行，支持<strong>自动接受文件编辑</strong>权限模式。</li>
<li><strong>注意功能差异</strong>：Gemini CLI 目前仍缺少“历史消息编辑/从历史恢复/checkpoint/SSH 项目内使用”等能力，官方规划补齐。</li>
<li><strong>数据在本地</strong>：第三方 Agent 交互<strong>不经过 Zed 服务器</strong>；多缓冲区可视化改动、实时预览很香。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="为什么这波值得关注">为什么这波值得关注？</h2><a class="sl-anchor-link" href="#为什么这波值得关注"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “为什么这波值得关注？”</span></a></div>
<p><strong>1）编辑器与 Agent 解耦</strong>
像 LSP 解耦语言服务一样，<strong>ACP 把“哪位 Agent 上场”这件事交给你选</strong>。同一个项目，随时切换不同 Agent 解决不同问题。</p>
<p><strong>2）“真·命令行能力”，但在编辑器里可视化</strong>
Zed 在后台<strong>直接跑真实的 Gemini CLI 子进程</strong>，用 JSON-RPC 说话；你得到 CLI 的全部能力，同时拥有<strong>实时变更可视化</strong>与<strong>多缓冲区审阅</strong>。</p>
<p><strong>3）开源协议 + 生态扩张</strong>
<strong>ACP 开源（Apache）</strong>，Neovim 社区也已跟进支持 ACP 兼容 Agent。<strong>生态不是单机模式</strong>。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="安装与快速上手gemini-cli">安装与快速上手（Gemini CLI）</h2><a class="sl-anchor-link" href="#安装与快速上手gemini-cli"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “安装与快速上手（Gemini CLI）”</span></a></div>
<p><strong>准备 Zed：</strong> Stable 版 0.201.5+ 可直接用外部 Agent；<strong>cmd-?</strong> 打开 Agent 面板，右上角 <strong>+</strong> 新建 Gemini 线程。可加快捷键：</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#7FDBCA;--1:#096E72">"bindings"</span><span style="--0:#D6DEEB;--1:#403F53">: { </span><span style="--0:#7FDBCA;--1:#096E72">"cmd-alt-g"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">agent::NewExternalAgentThread</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, { </span><span style="--0:#7FDBCA;--1:#096E72">"agent"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">gemini</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> }] } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[  { &#x22;bindings&#x22;: { &#x22;cmd-alt-g&#x22;: [&#x22;agent::NewExternalAgentThread&#x22;, { &#x22;agent&#x22;: &#x22;gemini&#x22; }] } }]"><div></div></button></div></figure></div>
<p><strong>准备 Gemini CLI：</strong></p>
<ul>
<li>未安装时 Zed 会代为安装；已装则走 PATH。</li>
<li>需 <strong>≥ 0.2.0</strong>；常见升级命令：</li>
</ul>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-g</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@google/gemini-cli@latest</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm install -g @google/gemini-cli@latest"><div></div></button></div></figure></div>
<ul>
<li>登录可选：<strong>Log in with Google</strong> / <strong>GEMINI_API_KEY</strong> / <strong>Vertex AI</strong>。</li>
</ul>
<p><strong>使用提示：</strong></p>
<ul>
<li>支持 @ 文件 / 线程 / 符号 / 抓网页。</li>
<li>暂不支持：历史消息编辑、从历史恢复、checkpoint、SSH 项目内使用。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一键把-claude-code-接进-zed社区桥接">一键把 Claude Code 接进 Zed（社区桥接）</h2><a class="sl-anchor-link" href="#一键把-claude-code-接进-zed社区桥接"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一键把 Claude Code 接进 Zed（社区桥接）”</span></a></div>
<p>现在你也能在 Zed 里用 Claude Code：<strong>社区实现的 ACP 桥接器</strong> <code dir="auto">acp-claude-code</code>。按下面加到你的 Zed 设置即可（支持自动接受编辑权限）：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"agent_servers"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"claude-code"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"command"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">npx</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"args"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">acp-claude-code</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"env"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#096E72">"ACP_PERMISSION_MODE"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">acceptEdits</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">   </span><span style="--0:#919F9F;--1:#5D6376">// 自动接受文件编辑</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;agent_servers&#x22;: {    &#x22;claude-code&#x22;: {      &#x22;command&#x22;: &#x22;npx&#x22;,      &#x22;args&#x22;: [&#x22;acp-claude-code&#x22;],      &#x22;env&#x22;: {        &#x22;ACP_PERMISSION_MODE&#x22;: &#x22;acceptEdits&#x22;   // 自动接受文件编辑      }    }  }}"><div></div></button></div></figure></div>
<p>这个桥接器实现了 <strong>ACP Agent</strong>，封装 Claude Code SDK，<strong>支持会话保持、流式输出、工具调用、权限模式</strong> 等；仓库声明 Zed 团队在做原生支持，当前以桥接形态使用。</p>
<blockquote>
<p>备注：<code dir="auto">acceptEdits</code> 仅自动接受“文件编辑”；若用 <code dir="auto">bypassPermissions</code> 会<strong>绕过所有权限</strong>（不推荐，除非在干净环境做批处理）。</p>
</blockquote>
<p><strong>Claude Code 安装</strong>（如未安装）：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-g</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@anthropic-ai/claude-code</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm install -g @anthropic-ai/claude-code"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="推荐使用场景">推荐使用场景</h2><a class="sl-anchor-link" href="#推荐使用场景"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “推荐使用场景”</span></a></div>
<ul>
<li><strong>大仓重构与批量修补</strong>：多缓冲区审阅 + 实时可视化，<strong>改动一览无余</strong>。</li>
<li><strong>多 Agent PK</strong>：同题不同解。Gemini 先出重构方案，Claude Code 再补测试与提交信息。<strong>一个编辑器搞定。</strong></li>
<li><strong>安全/合规团队</strong>：外部 Agent 交互<strong>不经 Zed 服务器</strong>，更安心。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="调试与排错">调试与排错</h2><a class="sl-anchor-link" href="#调试与排错"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “调试与排错”</span></a></div>
<ul>
<li>命令面板运行 <strong><code dir="auto">dev: open acp logs</code></strong>，查看 Zed 与 Agent 的消息收发，定位问题非常直观。</li>
<li>需要快捷开新线程？动作名：<strong><code dir="auto">agent::NewExternalAgentThread</code></strong>。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="生态走向">生态走向</h2><a class="sl-anchor-link" href="#生态走向"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “生态走向”</span></a></div>
<ul>
<li><strong>今天</strong>：Gemini CLI 官方集成已上线。</li>
<li><strong>正在发生</strong>：社区已把 <strong>Claude Code</strong> 接入 ACP（桥接器开源活跃）。</li>
<li><strong>可预期</strong>：ACP 是开源协议，<strong>更多 Agent（如 Codex CLI、Cursor CLI 等）完全可以接入</strong>；这不是空想，Zed 博文明确鼓励第三方 Agent 与其他编辑器加入。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="行动清单复制即用">行动清单（复制即用）</h2><a class="sl-anchor-link" href="#行动清单复制即用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “行动清单（复制即用）”</span></a></div>
<ol>
<li><strong>Gemini 线路</strong></li>
</ol>
<ul>
<li>升级 Zed 到稳定版（≥0.201.5）。</li>
<li>打开 Agent 面板新建 Gemini 线程；如需升级 CLI：<code dir="auto">npm i -g @google/gemini-cli@latest</code>。</li>
</ul>
<ol start="2">
<li><strong>Claude Code 线路（桥接）</strong></li>
</ol>
<ul>
<li>安装 Claude Code：<code dir="auto">npm i -g @anthropic-ai/claude-code</code>。</li>
<li>在 Zed 设置写入上面的 <code dir="auto">agent_servers</code> 片段，建议 <code dir="auto">ACP_PERMISSION_MODE=acceptEdits</code>。</li>
</ul>
<ol start="3">
<li><strong>调试</strong></li>
</ol>
<ul>
<li><code dir="auto">dev: open acp logs</code> 看日志，排查权限/会话问题。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="思考题">思考题</h2><a class="sl-anchor-link" href="#思考题"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “思考题”</span></a></div>
<ul>
<li>你的项目里，<strong>哪类任务</strong>更适合交给 Gemini？哪类交给 Claude Code？</li>
<li>团队要不要设定<strong>权限策略</strong>（如只自动接受编辑，不自动执行命令）？</li>
<li>要不要做一场“<strong>多 Agent PK</strong>”的内部学习会？</li>
</ul>
<!-- 
---

## 配图建议（交给画图工具即可）

**封面图（2:1，插画风，无中文）：**
“An illustration of a sleek code editor ‘Zed’ docking multiple AI agent robots via a cable labeled ‘ACP’; diff panes glow subtly; clean gradients; 2:1.”

**配图 1（ACP 概念）：**
“Side-by-side analogy panel: LSP connects editor ↔ language servers; ACP connects editor ↔ multiple coding agents; pastel, minimal, 2:1.”

**配图 2（Gemini in Zed）：**
“Editor agent panel chatting with Gemini CLI; multi-buffer diffs highlighted; keyboard shortcut hint; 2:1.”

**配图 3（Claude Code 桥接）：**
“Small bridge device labeled ‘acp-claude-code’ plugging Claude bot into editor via ACP; warning tag ‘acceptEdits’; 2:1.”

---

## 多语言标题 & slug（3 组）

1.

* 简：**Zed 上的多智能体：ACP 接入 Gemini 与 Claude Code 实战**
* 繁：Zed 上的多智能體：ACP 接入 Gemini 與 Claude Code 實戰
* EN: **Many Agents in Zed: ACP with Gemini and Claude Code**
* JP: Zedで多エージェント：ACPでGeminiとClaude Codeを接続
* FR: **Multi-agents dans Zed : ACP avec Gemini et Claude Code**
* ES: **Varios agentes en Zed: ACP con Gemini y Claude Code**
* PT: **Múltiplos agentes no Zed: ACP com Gemini e Claude Code**
* slug: `zed-acp-gemini-claude-code`

2.

* 简：**一个编辑器，多位 AI 同事：Zed ACP 全攻略**
* EN: **One Editor, Many AI Teammates: Your Zed ACP Playbook**
* 繁：一個編輯器，多位 AI 同事：Zed ACP 全攻略
* JP: 1つのエディタで多数のAI同僚：Zed ACP実践ガイド
* FR: Un éditeur, plusieurs coéquipiers IA : le guide ACP de Zed
* ES: Un editor, muchos compañeros IA: guía ACP de Zed
* PT: Um editor, muitos colegas IA: guia ACP do Zed
* slug: `one-editor-many-agents-zed-acp`

3.

* 简：**今天接 Gemini，明天上 Claude Code：ACP 打开多 Agent 之门**
* EN: **Gemini Today, Claude Code Tomorrow: ACP Opens the Door**
* 繁：今天接 Gemini，明天上 Claude Code：ACP 打開多 Agent 之門
* JP: 今日はGemini、明日はClaude Code：ACPが扉を開く
* FR: Gemini aujourd’hui, Claude Code demain : ACP ouvre la voie
* ES: Gemini hoy, Claude Code mañana: ACP abre la puerta
* PT: Gemini hoje, Claude Code amanhã: ACP abre a porta
* slug: `acp-opens-multi-agent`

---

## 朋友圈/评论区 3 条文案

1. **Zed 把“AI 同事”都请进来了**：Gemini 走官方，Claude Code 走桥接。多 Agent PK，生产力起飞。
2. 我把 `ACP_PERMISSION_MODE=acceptEdits` 打开了，自动接文件改动，爽到飞起。你们更喜欢谁来做重构？
3. **一个编辑器，多个 Agent**。这才是工作流自由度。准备试试 Codex/Cursor 的 ACP 版本了。

---

## 参考链接

* **Zed 文档《External Agents》**：版本要求、键位、安装、认证、功能限制、调试日志。
* **Zed 博客**《Bring Your Own Agent to Zed — Featuring Gemini CLI》：ACP 初衷、Apache 开源、数据不经 Zed 服务器、生态展望。
* **Zed 动作一览**：`agent::NewExternalAgentThread` 等快捷动作名。
* **Claude Code 社区桥接器** `acp-claude-code`：配置、权限模式、调试方式。
* **Claude Code 安装与概览**：官方文档与主页。

---

要不要把这篇再**扩写为企业内部培训稿（含演示脚本 + 现场操作清单）**？或者我直接给你**做一页式海报 + 配图包**，发公众号更省心。你觉得呢？

[1]: https://zed.dev/blog/bring-your-own-agent-to-zed "Bring Your Own Agent to Zed — Featuring Gemini CLI — Zed's Blog"
[2]: https://zed.dev/docs/ai/external-agents "External Agents | Zed Code Editor Documentation"
[3]: https://github.com/Xuanwo/acp-claude-code "GitHub - Xuanwo/acp-claude-code: The ACP implementation for Claude Code"
[4]: https://docs.anthropic.com/en/docs/claude-code/setup?utm_source=chatgpt.com "Set up Claude Code"
[5]: https://www.anthropic.com/claude-code?utm_source=chatgpt.com "Claude Code: Deep coding at terminal velocity \ Anthropic"
[6]: https://zed.dev/docs/all-actions "All Actions | Zed Code Editor Documentation" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/zed/" class="astro-sg3lsd66">Zed</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/gemini-cli/" class="astro-sg3lsd66">Gemini CLI</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/agent-client-protocolacp/" class="astro-sg3lsd66">Agent Client Protocol（ACP）</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/zed/2025-08-28-zed-acp-gemini-cli-guide/" class="astro-dr56dw7m">（Claude Code 待续）Zed 引入 ACP 接入外部 Agent（Gemini CLI 已上线）</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-28T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月28日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # （Claude Code 待续）Zed 引入 ACP 接入外部 Agent（Gemini CLI 已上线） -->
<blockquote>
<p><strong>Zed 做了一个 Agent Client Protocol（ACP）</strong>，把“终端里的智能体 Gemini CLI,  Claude Code”等接进编辑器里。第一个落地案例就是 <strong>Gemini CLI</strong>。你继续用熟悉的 CLI，Zed 负责把它嵌到面板里、看得见改动、还能多缓冲区审阅。官方还明说，<strong>ACP 是开源（Apache 2.0）</strong>，欢迎更多 Agent 和编辑器加入生态。</p>
</blockquote>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/zed/acp/chat.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一句话总结tldr">一句话总结（TL;DR）</h2><a class="sl-anchor-link" href="#一句话总结tldr"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一句话总结（TL;DR）”</span></a></div>
<ul>
<li><strong>ACP = 给智能体的“LSP”</strong>：像当年的语言服务器协议一样，把 Agent 和编辑器解耦，想换就换。</li>
<li><strong>Gemini CLI 已可直接在 Zed 用</strong>：打开 Agent 面板即可新建线程；Zed 0.201.5+ 支持。</li>
<li><strong>真实 CLI、非“阉割版”</strong>：Zed 后台跑 Gemini CLI，通过 ACP 对话；可在编辑器里直观看到文件与改动。</li>
<li><strong>开箱就能干活</strong>：没装 CLI 会自动安装；已装则走 PATH；Gemini CLI 需 ≥ <strong>0.2.0</strong>。</li>
<li><strong>可自带任意 Agent</strong>：只要会说 ACP，改下配置就能接；内置调试日志。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="引言">引言</h1><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>很多人问：“<strong>我能不能在一个编辑器里切换多个 AI 编程 Agent？</strong>”
Zed 这波给了答案：能。现在就能。<strong>ACP 把‘代理’和‘编辑器’分开了</strong>，Gemini CLI 率先打样，Neovim 也已跟进支持 ACP 的生态（Code Companion）。<strong>生态的门，打开了。</strong></p>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="为什么-acp-值得关注">为什么 ACP 值得关注？</h1><a class="sl-anchor-link" href="#为什么-acp-值得关注"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “为什么 ACP 值得关注？”</span></a></div>
<p><strong>1）像 LSP 一样“解耦”</strong>
你不必为了换 Agent 换编辑器。<strong>任何讲 ACP 的 Agent 都能插进 Zed 的 UI</strong>，享受多缓冲区对比、语法高亮、以及对改动的实时可视化。<strong>数据只在本地</strong>，不经过 Zed 服务器。</p>
<p><strong>2）“真实能力”+“编辑器体验”</strong>
Zed 不是模拟一个“聊天窗口”，而是<strong>直接把 Gemini CLI 当子进程跑</strong>，用 JSON-RPC 通信。好处是：<strong>你得到 CLI 的全部能力</strong>，同时<strong>获得编辑器级的变更预览与导航</strong>。</p>
<p><strong>3）开放生态</strong>
ACP <strong>开源（Apache 2.0）</strong>，官方还号召其他编辑器加入；Neovim 的 Code Companion 已支持 ACP 兼容 Agent。<strong>这意味着未来你可以在不同编辑器里获得类似体验</strong>。</p>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="现在能干什么gemini-cli-in-zed">现在能干什么？（Gemini CLI in Zed）</h1><a class="sl-anchor-link" href="#现在能干什么gemini-cli-in-zed"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “现在能干什么？（Gemini CLI in Zed）”</span></a></div>
<ul>
<li><strong>直接在 Agent 面板跑 Gemini CLI 线程</strong>（cmd-? 打开面板，右上角 + 号新建）。Zed <strong>Stable v0.201.5+</strong> 支持。</li>
<li><strong>可 @ 引用文件、符号、历史线程</strong>，甚至<strong>抓取网页</strong>；但目前<strong>暂不支持</strong>：<strong>回溯编辑历史消息、从历史恢复、checkpoint、安全壳（SSH）项目里用 Agent</strong>——这些“官方 Agent”特性正在补齐。</li>
<li><strong>键位绑定</strong>示例（你可以给 Gemini 分配快捷键）：</li>
</ul>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"bindings"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"cmd-alt-g"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">agent::NewExternalAgentThread</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, { </span><span style="--0:#7FDBCA;--1:#096E72">"agent"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">gemini</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> }]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="[  {    &#x22;bindings&#x22;: {      &#x22;cmd-alt-g&#x22;: [&#x22;agent::NewExternalAgentThread&#x22;, { &#x22;agent&#x22;: &#x22;gemini&#x22; }]    }  }]"><div></div></button></div></figure></div>
<p>（来自 Zed 文档示例。）</p>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="安装与认证3-步走">安装与认证（3 步走）</h1><a class="sl-anchor-link" href="#安装与认证3-步走"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “安装与认证（3 步走）”</span></a></div>
<p><strong>第 0 步：更新 Zed</strong>
确保 Zed 版本满足 <strong>Stable v0.201.5+</strong>（或更新的 Preview 版本）。</p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/zed/acp/zed-v-0.201.5.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<p><strong>第 1 步：准备 Gemini CLI</strong></p>
<ul>
<li>若你 <strong>未安装</strong>，Zed 会自动装一个版本；</li>
<li>若你 <strong>已安装</strong>，Zed 直接用 PATH 里的；</li>
<li>需 <strong>Gemini CLI ≥ 0.2.0</strong>，版本太旧会报错；升级通常跑：</li>
</ul>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-g</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@google/gemini-cli@latest</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm install -g @google/gemini-cli@latest"><div></div></button></div></figure></div>
<p><strong>第 2 步：登录方式三选一</strong></p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/zed/acp/external-agents.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<ul>
<li><strong>Log in with Google</strong>：浏览器弹出，<strong>Zed 不会看到你的 OAuth/Token</strong>；</li>
<li><strong>Gemini API Key</strong>：若设置了 <code dir="auto">GEMINI_API_KEY</code>，Zed 直接使用；否则会提示你输入，并<strong>安全存到系统钥匙串</strong>；</li>
<li><strong>Vertex AI</strong>：已正确配置 GCP 环境的用户可选。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="进阶接入你自己的-agentacp">进阶：接入你自己的 Agent（ACP）</h1><a class="sl-anchor-link" href="#进阶接入你自己的-agentacp"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “进阶：接入你自己的 Agent（ACP）”</span></a></div>
<p><strong>配置很简单</strong>：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"agent_servers"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"Custom Agent"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"command"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">node</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"args"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">~/projects/agent/index.js</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">--acp</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#7FDBCA;--1:#096E72">"env"</span><span style="--0:#D6DEEB;--1:#403F53">: {}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;agent_servers&#x22;: {    &#x22;Custom Agent&#x22;: {      &#x22;command&#x22;: &#x22;node&#x22;,      &#x22;args&#x22;: [&#x22;~/projects/agent/index.js&#x22;, &#x22;--acp&#x22;],      &#x22;env&#x22;: {}    }  }}"><div></div></button></div></figure></div>
<p>写个会说 ACP 的进程就能接。开发时可用 <strong>“dev: open acp logs”</strong> 打开<strong>调试视图</strong>，看 Zed 与 Agent 的消息收发。</p>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="推荐使用场景">推荐使用场景</h1><a class="sl-anchor-link" href="#推荐使用场景"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “推荐使用场景”</span></a></div>
<p><strong>1）大仓重构 / 批量修补</strong>
多缓冲区同时审阅改动，<strong>一眼看完</strong>；失败重试、重写补丁更顺手。</p>
<p><strong>2）多 Agent 竞争上岗</strong>
今天你想让 Gemini CLI 修测试，<strong>明天换另一个 ACP Agent 做性能实验</strong>。<strong>切换 Agent，不换编辑器</strong>。</p>
<p><strong>3）安全合规团队</strong>
<strong>真实 CLI 在本地跑</strong>，Zed 只是 UI 管理和协议转发；没有把你的代码传到 Zed 服务器。对内网仓、金融医疗等场景更友好。</p>
<p><strong>4）从“命令行工作流”平滑过渡到“编辑器工作流”</strong>
你仍然是 CLI 的肌肉记忆，但<strong>获得编辑器级的变更可视化与导航</strong>，效率更稳。</p>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="现在与下一步">现在与下一步</h1><a class="sl-anchor-link" href="#现在与下一步"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “现在与下一步”</span></a></div>
<ul>
<li><strong>现在就能用</strong>：Zed 已在稳定版开启外部 Agent 支持，Gemini CLI 首发。</li>
<li><strong>生态在扩</strong>：<strong>ACP 开源</strong>，官方也鼓励<strong>其他编辑器</strong>和<strong>更多 Agent</strong>加入；Neovim 已通过 <strong>Code Companion</strong> 接了 ACP 兼容 Agent。</li>
<li><strong>可预期的下一个</strong>：<strong>Claude Code、Codex CLI、Cursor CLI</strong> 等只要实现 ACP，就能无缝进 Zed。<strong>这是趋势判断</strong>（并非官方承诺），但从 ACP 的开放性与官方表态看，<strong>很可能会发生</strong>。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="快速起步清单拷走就用">快速起步清单（拷走就用）</h1><a class="sl-anchor-link" href="#快速起步清单拷走就用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “快速起步清单（拷走就用）”</span></a></div>
<ol>
<li>
<p>升级 Zed ≥ v0.201.5；打开 <strong>Agent Panel（cmd-?）</strong>。</p>
</li>
<li>
<p>终端安装（或让 Zed 自动装）<strong>Gemini CLI ≥ 0.2.0</strong>：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-g</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@google/gemini-cli@latest</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm install -g @google/gemini-cli@latest"><div></div></button></div></figure></div>
<p>然后按提示登录。</p>
</li>
<li>
<p>绑定快捷键（可选）：见上文 JSON 示例。</p>
</li>
<li>
<p>想接自研 Agent？把 <code dir="auto">agent_servers</code> 写进设置，<strong>用 “dev: open acp logs” 调试</strong>。</p>
</li>
</ol>
<hr>
<div class="sl-heading-wrapper level-h1"><h1 id="你可以立刻做的两件事">你可以立刻做的两件事</h1><a class="sl-anchor-link" href="#你可以立刻做的两件事"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “你可以立刻做的两件事”</span></a></div>
<ul>
<li>在你的项目里<strong>开一个 Gemini 线程</strong>，让它<strong>补齐测试 + 出一版重构计划</strong>；</li>
<li>给团队演示：<strong>切换不同 Agent</strong> 解决同一个问题，现场对比效果。</li>
</ul>
<p><strong>你觉得 ACP 还适合干啥？评论区聊聊。</strong></p>
<hr>
<!--
# 配图建议（可直接交给画图工具）

> 要求：**插画风**，**2:1**，**不含中文**。

**封面图 Prompt**
“An illustration of a developer plugging multiple AI agents (little robots labeled ‘CLI’) into a sleek code editor via a simple cable labeled ‘ACP’, with tabs and diff views visible; modern, minimal, gradient background; 2:1 ratio.”

**章节配图 1（ACP 概念）**
“LSP vs ACP analogy: two panels side-by-side; left shows LSP connecting editor to language servers; right shows ACP connecting editor to multiple coding agents; clean lines, pastel colors, 2:1.”

**章节配图 2（Gemini CLI in Zed）**
“A screenshot-style illustration of Zed’s agent panel chatting with a terminal-like Gemini CLI window; multi-buffer diff panes highlighted; 2:1.”

**章节配图 3（生态拓展）**
“An ‘agent marketplace’ style scene: Claude, Codex, Cursor icons represented as generic robot silhouettes lining up to connect via an ‘ACP’ port to the editor; 2:1.”
 
---

## 参考与延伸阅读

* Zed 文档《External Agents》：版本要求、键位、认证与限制说明。
* Zed 博客《Bring Your Own Agent to Zed — Featuring Gemini CLI》：ACP 设计初衷、开源协议、UI 能力、生态展望。
* Zed Release Notes：宣布在稳定/预览版本上线 ACP 支持。
* Gemini CLI GitHub & Docs：CLI 介绍、ReAct、MCP、安装与登录。
* Neovim Code Companion（Oli Morris）：支持 ACP 兼容 Agent。

---

# 结语

**ACP 把“Agent”做成了插件生态。**
Zed 做了第一个样板，**Gemini CLI 已就位**。
当更多 Agent 接上来，**“一个编辑器，多位智能同事”**，会变成日常工作流的一部分。
\*\*现在就去试一把。\*\*然后告诉我：**你要把哪类任务外包给 Agent？**

---

## 3 个多语言标题（含 slug）

1.

* 简：**Zed 接入外部 Agent：ACP + Gemini CLI 实战指南**
* 繁：**Zed 接入外部 Agent：ACP + Gemini CLI 實戰指南**
* EN: **Zed’s External Agents: A Practical Guide to ACP + Gemini CLI**
* JP: **Zedの外部エージェント：ACP＋Gemini CLI実践ガイド**
* FR: **Agents externes dans Zed : Guide pratique d’ACP + Gemini CLI**
* ES: **Agentes externos en Zed: Guía práctica de ACP + Gemini CLI**
* PT: **Agentes externos no Zed: Guia prático de ACP + Gemini CLI**
* slug: `zed-acp-gemini-cli-guide`

2.

* 简：**一个编辑器，多个智能体：ACP 为什么会改变你写代码**
* 繁：**一個編輯器，多個智能體：ACP 為何改變你寫程式**
* EN: **One Editor, Many Agents: Why ACP Changes How You Code**
* JP: **1つのエディタで多数のエージェント：ACPが変える開発体験**
* FR: **Un éditeur, plusieurs agents : comment l’ACP change le développement**
* ES: **Un editor, muchos agentes: por qué ACP cambia tu forma de programar**
* PT: **Um editor, muitos agentes: por que o ACP muda sua forma de codar**
* slug: `one-editor-many-agents-acp`

3.

* 简：**今天接上 Gemini CLI，明天连上 Claude Code 与 Codex CLI？**
* 繁：**今天接上 Gemini CLI，明天連上 Claude Code 與 Codex CLI？**
* EN: **Gemini CLI Today—Claude Code & Codex CLI Tomorrow?**
* JP: **今日はGemini CLI、明日はClaude CodeとCodex CLI？**
* FR: **Gemini CLI aujourd’hui—Claude Code & Codex CLI demain ?**
* ES: **¿Gemini CLI hoy—Claude Code y Codex CLI mañana?**
* PT: **Gemini CLI hoje—Claude Code e Codex CLI amanhã?**
* slug: `gemini-today-claude-codex-tomorrow`

---

## 3 条可复制的朋友圈/评论文案

1. \*\*Zed 把“AI 同事”请进编辑器了！\*\*ACP 一上，Gemini CLI 直接用，改动还能可视化。感觉要换代理，不用换工具了。
2. 刚试了下 **cmd-alt-g** 开线程，Gemini CLI 修补单测还挺稳的。等 **Claude Code** 也接上，爽度应该翻倍。
3. **一个编辑器，多个 Agent PK**，这样才叫工作流。你们都在用哪个 Agent？下方打榜！

---

需要我把这篇文章**扩写成 10,000 字专题**，或配一套**可复制的演讲/培训稿**吗？我现在就整理。

[1]: https://zed.dev/blog/bring-your-own-agent-to-zed?utm_source=chatgpt.com "Bring Your Own Agent to Zed — Featuring Gemini CLI"
[2]: https://zed.dev/docs/ai/external-agents?utm_source=chatgpt.com "External Agents | Zed Code Editor Documentation"
[3]: https://zed.dev/docs/ai/external-agents "External Agents | Zed Code Editor Documentation"
[4]: https://github.com/olimorris/codecompanion.nvim?utm_source=chatgpt.com "olimorris/codecompanion.nvim: ✨ AI Coding, Vim Style"
[5]: https://zed.dev/releases/stable?utm_source=chatgpt.com "Stable Releases"
[6]: https://cloud.google.com/gemini/docs/codeassist/gemini-cli?utm_source=chatgpt.com "Gemini CLI"
[7]: https://github.com/google-gemini/gemini-cli?utm_source=chatgpt.com "google-gemini/gemini-cli: An open-source AI agent that ..." --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/zed/" class="astro-sg3lsd66">Zed</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/gemini-cli/" class="astro-sg3lsd66">Gemini CLI</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/agent-client-protocolacp/" class="astro-sg3lsd66">Agent Client Protocol（ACP）</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/chinese-mainland/2025-08-28-claude-code-china-llms-deepseek-glm45-k2/" class="astro-dr56dw7m">把 Claude Code 接上国产大模型：DeepSeek/GLM-4.5/Kimi K2</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-28T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月28日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 用 Claude Code 接入国内主流大模型：一文跑通 DeepSeek / 智谱 GLM-4.5 / Kimi K2 -->
<blockquote>
<p><strong>把 Claude Code 指向国产模型 API，开箱能写代码、能跑指令、能提 PR。</strong></p>
</blockquote>
<p>——别纠结，照这篇一步步抄就行。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>最近大家都在玩 Claude Code。
<strong>问题是：公司网络/预算不方便直连海外</strong>，那还怎么玩？</p>
<p>好消息是，<strong>国内几家头部模型已经提供了 “Anthropic 兼容” 的接口</strong>。
把 Claude Code 的 <strong>Base URL + Key</strong> 改一改，就能直接用。
本文手把手接好 <strong>DeepSeek、智谱 GLM-4.5、Kimi K2</strong>，顺带给你一份<strong>避坑清单</strong>。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="快速开始3-步就够">快速开始（3 步就够）</h2><a class="sl-anchor-link" href="#快速开始3-步就够"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “快速开始（3 步就够）”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1安装-claude-code">1）安装 Claude Code</h3><a class="sl-anchor-link" href="#1安装-claude-code"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1）安装 Claude Code”</span></a></div>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 需要 Node.js 18+</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-g</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@anthropic-ai/claude-code</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm install -g @anthropic-ai/claude-code"><div></div></button></div></figure></div>
<p>安装完成，终端输入 <code dir="auto">claude</code> 进入交互界面。官方支持 Node18+，交互里还能用 <code dir="auto">/config</code> 调整设置。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="2拿到国内模型的-api-key">2）拿到国内模型的 API Key</h3><a class="sl-anchor-link" href="#2拿到国内模型的-api-key"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2）拿到国内模型的 API Key”</span></a></div>
<ul>
<li><strong>DeepSeek</strong>：平台开通后在 API Keys 页面创建密钥。</li>
<li><strong>智谱 Z.AI（GLM-4.5）</strong>：控制台生成密钥。</li>
<li><strong>Kimi K2（Moonshot）</strong>：控制台生成密钥。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="3设置环境变量临时测试">3）设置环境变量（临时测试）</h3><a class="sl-anchor-link" href="#3设置环境变量临时测试"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3）设置环境变量（临时测试）”</span></a></div>
<blockquote>
<p>直接在当前终端导出变量；<strong>重开终端会失效</strong>。要永久生效见下文“长期配置”。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="方案-adeepseek官方提供-anthropic-兼容">方案 A：DeepSeek（官方提供 Anthropic 兼容）</h2><a class="sl-anchor-link" href="#方案-adeepseek官方提供-anthropic-兼容"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “方案 A：DeepSeek（官方提供 Anthropic 兼容）”</span></a></div>
<p><strong>临时设置：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_BASE_URL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">https://api.deepseek.com/anthropic</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_AUTH_TOKEN</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">你的DeepSeek_API_Key</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_MODEL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">deepseek-chat</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_SMALL_FAST_MODEL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">deepseek-chat</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">API_TIMEOUT_MS</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#F78C6C;--1:#AA0982">600000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export ANTHROPIC_BASE_URL=&#x22;https://api.deepseek.com/anthropic&#x22;export ANTHROPIC_AUTH_TOKEN=&#x22;你的DeepSeek_API_Key&#x22;export ANTHROPIC_MODEL=&#x22;deepseek-chat&#x22;export ANTHROPIC_SMALL_FAST_MODEL=&#x22;deepseek-chat&#x22;export API_TIMEOUT_MS=600000"><div></div></button></div></figure></div>
<p>然后在项目目录里执行：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude"><div></div></button></div></figure></div>
<p>DeepSeek 官方文档给出了 <strong>Anthropic 兼容路径</strong>、<strong>推荐模型名</strong>、以及 <strong>长输出需加超时</strong> 的说明。</p>
<p><strong>长期配置（zsh 示例）：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">cat</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">>></span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">~/.zshrc</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">&#x3C;&#x3C;</span><span style="--0:#D9F5DD;--1:#111111">'EOF'</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECC48D;--1:#984E4D">export ANTHROPIC_BASE_URL="https://api.deepseek.com/anthropic"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECC48D;--1:#984E4D">export ANTHROPIC_AUTH_TOKEN="你的DeepSeek_API_Key"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECC48D;--1:#984E4D">export ANTHROPIC_MODEL="deepseek-chat"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECC48D;--1:#984E4D">export ANTHROPIC_SMALL_FAST_MODEL="deepseek-chat"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECC48D;--1:#984E4D">export API_TIMEOUT_MS=600000</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">EOF</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">source</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">~/.zshrc</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="cat >> ~/.zshrc <<&#x27;EOF&#x27;export ANTHROPIC_BASE_URL=&#x22;https://api.deepseek.com/anthropic&#x22;export ANTHROPIC_AUTH_TOKEN=&#x22;你的DeepSeek_API_Key&#x22;export ANTHROPIC_MODEL=&#x22;deepseek-chat&#x22;export ANTHROPIC_SMALL_FAST_MODEL=&#x22;deepseek-chat&#x22;export API_TIMEOUT_MS=600000EOFsource ~/.zshrc"><div></div></button></div></figure></div>
<p><strong>验证：</strong> 启动后输入 <code dir="auto">/status</code> 看当前模型；也可以 <code dir="auto">echo $ANTHROPIC_BASE_URL</code> 自检。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="方案-b智谱-glm-45zai-官方教程直连-claude-code">方案 B：智谱 GLM-4.5（Z.AI 官方教程直连 Claude Code）</h2><a class="sl-anchor-link" href="#方案-b智谱-glm-45zai-官方教程直连-claude-code"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “方案 B：智谱 GLM-4.5（Z.AI 官方教程直连 Claude Code）”</span></a></div>
<p><strong>临时设置：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_BASE_URL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">https://api.z.ai/api/anthropic</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_AUTH_TOKEN</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">你的Z.AI_API_Key</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 可选：默认模型</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_MODEL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">glm-4.5</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export ANTHROPIC_BASE_URL=&#x22;https://api.z.ai/api/anthropic&#x22;export ANTHROPIC_AUTH_TOKEN=&#x22;你的Z.AI_API_Key&#x22;export ANTHROPIC_MODEL=&#x22;glm-4.5&#x22;"><div></div></button></div></figure></div>
<p>官方页面明确写了 <strong>Anthropic 兼容端点</strong>，并给出在 <code dir="auto">~/.claude/settings.json</code> 中切换 <code dir="auto">glm-4.5</code> 与 <code dir="auto">glm-4.5-air</code> 的方式。</p>
<p><strong>用 settings.json 切模型（可选）：</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"env"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"ANTHROPIC_MODEL"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">glm-4.5-air</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;env&#x22;: {    &#x22;ANTHROPIC_MODEL&#x22;: &#x22;glm-4.5-air&#x22;  }}"><div></div></button></div></figure></div>
<p>保存后新开一个终端再 <code dir="auto">claude</code>，在界面里 <code dir="auto">/status</code> 查看。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="方案-ckimi-k2moonshot-的-anthropic-兼容">方案 C：Kimi K2（Moonshot 的 Anthropic 兼容）</h2><a class="sl-anchor-link" href="#方案-ckimi-k2moonshot-的-anthropic-兼容"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “方案 C：Kimi K2（Moonshot 的 Anthropic 兼容）”</span></a></div>
<p><strong>临时设置（全球域名更通用）：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_BASE_URL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">https://api.moonshot.ai/anthropic</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_AUTH_TOKEN</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">你的Moonshot_API_Key</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 部分部署会把温度做0.6映射，保持默认即可</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export ANTHROPIC_BASE_URL=&#x22;https://api.moonshot.ai/anthropic&#x22;export ANTHROPIC_AUTH_TOKEN=&#x22;你的Moonshot_API_Key&#x22;"><div></div></button></div></figure></div>
<p>Moonshot 团队在 K2 仓库与技术博客多次强调 <strong>同时兼容 OpenAI / Anthropic</strong>；社区与指南也普遍使用 <code dir="auto">https://api.moonshot.ai/anthropic</code> 作为 Base URL。<strong>注意</strong>：有些帖子写成 <code dir="auto">.cn</code> 域名会失败，请以 <code dir="auto">.ai</code> 为准或以控制台文档为准。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一键检查我到底连上没">一键检查：我到底连上没？</h2><a class="sl-anchor-link" href="#一键检查我到底连上没"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一键检查：我到底连上没？”</span></a></div>
<p>进入 <code dir="auto">claude</code> 之后，建议先做 3 件事：</p>
<ol>
<li><strong>看模型</strong>：输入 <code dir="auto">/status</code> 或问 “你现在的模型 ID 是？”</li>
<li><strong>跑个命令</strong>：<code dir="auto">/bash echo "hello cc"</code> 看权限弹窗是否正常。</li>
<li><strong>改个文件</strong>：让它在示例仓库里新建 <code dir="auto">README_CC.md</code>，确认能读写。</li>
</ol>
<p>这些都是 Claude Code 官方推荐的交互与配置方式。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="常见问题--速通排错">常见问题 &#x26; 速通排错</h2><a class="sl-anchor-link" href="#常见问题--速通排错"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “常见问题 &#x26; 速通排错”</span></a></div>
<p><strong>Q1：401 未授权？</strong>
多半是 Key 没带对。Claude Code 支持两种鉴权位：</p>
<ul>
<li><code dir="auto">ANTHROPIC_API_KEY</code>（发到 <code dir="auto">X-Api-Key</code>）</li>
<li><code dir="auto">ANTHROPIC_AUTH_TOKEN</code>（发到 <code dir="auto">Authorization: Bearer</code>）
国产兼容端一般用 <strong>AUTH_TOKEN + 自定义 Base URL</strong> 更稳。</li>
</ul>
<p><strong>Q2：连不上 / 404？</strong></p>
<ul>
<li>Base URL 路径要包含 <strong><code dir="auto">/anthropic</code></strong>（例如 DeepSeek、Moonshot 的兼容端）。</li>
<li>Kimi 用 <code dir="auto">.ai</code> 域名更可靠，部分 <code dir="auto">.cn</code> 会挂。</li>
</ul>
<p><strong>Q3：网页搜索 / WebSearch 工具没反应？</strong>
用的不是官方 Anthropic API 时，<strong>内置 WebSearch 工具不会提供</strong>。需要接 <strong>外部 MCP 搜索</strong>（Tavily/Brave/DuckDuckGo 等）。</p>
<p><strong>Q4：长输出容易超时？</strong>
DeepSeek 官方建议加 <code dir="auto">API_TIMEOUT_MS=600000</code>（10 分钟）。</p>
<p><strong>Q5：多模态/图片消息？</strong>
兼容端可能<strong>不完全支持所有 Anthropic 字段</strong>（比如图片/文档内容）。以厂商文档为准。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="安全与合规小贴士">安全与合规小贴士</h2><a class="sl-anchor-link" href="#安全与合规小贴士"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “安全与合规小贴士”</span></a></div>
<ul>
<li><strong>保护仓库隐私</strong>：在 <code dir="auto">~/.claude/settings.json</code> 里把 <code dir="auto">.env</code>、<code dir="auto">secrets/**</code> 加入 <code dir="auto">permissions.deny</code>。</li>
<li><strong>敏感代码脱敏</strong>：公司代码先过一层 Git 镜像或删秘钥再让 AI 看。</li>
<li><strong>权限模式</strong>：默认保留确认弹窗。<code dir="auto">--dangerously-skip-permissions</code> 仅在你<strong>完全信任</strong>环境时临时使用。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="复制就能用的对照表">复制就能用的「对照表」</h2><a class="sl-anchor-link" href="#复制就能用的对照表"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “复制就能用的「对照表」”</span></a></div>





























<table><thead><tr><th>供应商</th><th>Base URL</th><th>必填环境变量</th><th>推荐模型名</th></tr></thead><tbody><tr><td>DeepSeek</td><td><code dir="auto">https://api.deepseek.com/anthropic</code></td><td><code dir="auto">ANTHROPIC_AUTH_TOKEN</code></td><td><code dir="auto">deepseek-chat</code></td></tr><tr><td>智谱 Z.AI</td><td><code dir="auto">https://api.z.ai/api/anthropic</code></td><td><code dir="auto">ANTHROPIC_AUTH_TOKEN</code></td><td><code dir="auto">glm-4.5</code> / <code dir="auto">glm-4.5-air</code></td></tr><tr><td>Kimi K2</td><td><code dir="auto">https://api.moonshot.ai/anthropic</code></td><td><code dir="auto">ANTHROPIC_AUTH_TOKEN</code></td><td>（按平台路由即可）</td></tr></tbody></table>
<p>以上均为厂商及官方渠道公开说明或实测常用配置。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="进阶把配置写进-claude-code">进阶：把配置写进 Claude Code</h2><a class="sl-anchor-link" href="#进阶把配置写进-claude-code"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “进阶：把配置写进 Claude Code”</span></a></div>
<p>不想每次 <code dir="auto">export</code>？直接把环境变量写入 <code dir="auto">~/.claude/settings.json</code>：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"env"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"ANTHROPIC_BASE_URL"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">https://api.deepseek.com/anthropic</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"ANTHROPIC_AUTH_TOKEN"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">xxxxx</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"ANTHROPIC_MODEL"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">deepseek-chat</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"API_TIMEOUT_MS"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">600000</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;env&#x22;: {    &#x22;ANTHROPIC_BASE_URL&#x22;: &#x22;https://api.deepseek.com/anthropic&#x22;,    &#x22;ANTHROPIC_AUTH_TOKEN&#x22;: &#x22;xxxxx&#x22;,    &#x22;ANTHROPIC_MODEL&#x22;: &#x22;deepseek-chat&#x22;,    &#x22;API_TIMEOUT_MS&#x22;: &#x22;600000&#x22;  }}"><div></div></button></div></figure></div>
<p><code dir="auto">settings.json</code> 是官方推荐的全局/项目分级配置方式，支持 env、权限、hooks 等统一管理。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>接上国内模型后，<strong>Claude Code 依旧是那个“把灵感变代码”的生产力发动机</strong>。
哪家更顺手？<strong>DeepSeek 快、GLM-4.5 思考稳、K2 价格香</strong>，你现场对比就知道。
跑通一条，团队就能<strong>低成本试点 AI 代码协作</strong>，把效率真金白银落地。</p>
<p>你觉得哪个组合更顺手？有没有踩过别的坑？<strong>评论区聊聊你的实践</strong>。</p>
<!-- 
---

## 参考与来源

* Claude Code 配置、环境变量与权限体系（官方）
* DeepSeek **Anthropic 兼容**与 Claude Code 指南（官方）
* Z.AI（智谱）**Claude Code 集成**与模型切换（官方）
* Moonshot K2 **OpenAI/Anthropic 兼容**说明（官方仓库/文档与社区实践）

---

## 配图建议（2:1 插画，英文元素，无中文）

**封面图 Prompt**
“Terminal-based AI coding assistant orchestrating three model ‘engines’ labeled DeepSeek, GLM-4.5, and K2, clean pastel palette, developer at a laptop, flowing cables into a code repository, minimal futuristic style, 2:1.”

**关键章节配图**

1. “Switching API Base URL in a settings panel, toggles and environment variables floating around a terminal, minimal icons, 2:1.”
2. “Security shield blocking .env and secrets folders while AI writes code, playful yet clean, 2:1.”
3. “Three highway lanes to ‘Anthropic-compatible’ gate: DeepSeek, Z.AI, Moonshot, traffic signs, 2:1.”

---

## 3 个多语言标题（附 slug）

1. **把 Claude Code 接上国产大模型：DeepSeek/GLM-4.5/Kimi K2 一文跑通**

   * EN: Plug Claude Code into China LLMs: DeepSeek / GLM-4.5 / Kimi K2 in One Go
   * 繁體: 把 Claude Code 接上國產大模型：DeepSeek／GLM-4.5／Kimi K2 一文跑通
   * 日: Claude Code を国産LLMに接続：DeepSeek・GLM-4.5・Kimi K2 を一気に
   * 法: Connecter Claude Code aux LLM chinois : DeepSeek / GLM-4.5 / Kimi K2
   * 西: Conecta Claude Code a LLMs chinos: DeepSeek / GLM-4.5 / Kimi K2
   * 葡: Conecte o Claude Code aos LLMs chineses: DeepSeek / GLM-4.5 / Kimi K2
   * **slug**: `claude-code-china-llms-deepseek-glm45-k2`

2. **别翻墙也能玩：Claude Code × 国内 API 实战指南**

   * EN: No VPN Needed: Claude Code × China APIs, A Practical Guide
   * 繁體: 不用翻牆也能玩：Claude Code × 國內 API 實戰指南
   * 日: VPN なしで使える：Claude Code × 中国 API 実践ガイド
   * 法: Sans VPN : Guide pratique Claude Code × API chinoises
   * 西: Sin VPN: Guía práctica de Claude Code × APIs chinas
   * 葡: Sem VPN: Guia prático Claude Code × APIs chinesas
   * **slug**: `claude-code-cn-api-playbook`

3. **三步改环境变量，让 Claude Code 跑在 DeepSeek/GLM/K2 上**

   * EN: 3 Env Vars to Run Claude Code on DeepSeek/GLM/K2
   * 繁體: 三步改環境變量，讓 Claude Code 跑在 DeepSeek/GLM/K2
   * 日: 環境変数3つで DeepSeek/GLM/K2 で動く Claude Code
   * 法: 3 variables d’environnement pour faire tourner Claude Code sur DeepSeek/GLM/K2
   * 西: 3 variables para correr Claude Code en DeepSeek/GLM/K2
   * 葡: 3 variáveis para rodar Claude Code no DeepSeek/GLM/K2
   * **slug**: `claude-code-3-env-vars-deepseek-glm-k2`

---

## 朋友圈/评论区文案（3 条）

1. “把 Claude Code 指向 DeepSeek/GLM/K2，真的一行环境变量的事。开完会 10 分钟，我项目就能自动改代码了，爽！”
2. “公司不让直连海外？这篇教程太实用：改 Base URL，配个 Key，Claude Code 继续飞🚀”
3. “实测：DeepSeek 输出快，GLM-4.5 思路稳，K2 便宜量大。你用哪个组合？”

---

需要我把这篇**做成可复制的企业内训手册**，或补一份 **LiteLLM 网关一键整合** 吗？
**你还想加哪家模型，我直接补好配置。**满意吗？要不要我再**扩写升级版**（含 IDE 集成、MCP 搜索与 GitHub Actions 实战）？

[1]: https://docs.anthropic.com/en/docs/claude-code/settings "Claude Code settings - Anthropic"
[2]: https://api-docs.deepseek.com/guides/anthropic_api "Anthropic API | DeepSeek API Docs"
[3]: https://docs.z.ai/scenario-example/develop-tools/claude "Claude Code - Z.AI API DOC"
[4]: https://github.com/MoonshotAI/Kimi-K2 "GitHub - MoonshotAI/Kimi-K2: Kimi K2 is the large language model series developed by Moonshot AI team"
[5]: https://docs.anthropic.com/en/docs/claude-code/setup?utm_source=chatgpt.com "Set up Claude Code"
[6]: https://platform.moonshot.ai/?utm_source=chatgpt.com "Moonshot AI Open Platform - Kimi Large Language Model API ..."
[7]: https://blog.logrocket.com/agentic-ai-with-kimi-k2/?utm_source=chatgpt.com "Agentic AI for 5x less: Why Kimi K2 is a frontend game- ..."
[8]: https://github.com/LLM-Red-Team/kimi-cc/issues/18?utm_source=chatgpt.com "Wrong Base URL for Claude Code Routing · Issue #18"
[9]: https://github.com/feiskyer/claude-code-settings?utm_source=chatgpt.com "Claude Code settings, commands and agents for vibe coding" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/deepseek/" class="astro-sg3lsd66">DeepSeek</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/glm-45/" class="astro-sg3lsd66">GLM-4.5</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/kimi-k2/" class="astro-sg3lsd66">Kimi K2</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/google/translate/2025-08-28-google-translate-live-conversation-ai-practice/" class="astro-dr56dw7m">Google Translate 实时对话 + AI 口语练习，学英语更轻松</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-28T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月28日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Google Translate 实时对话 + AI 口语练习，学英语更轻松 -->
<blockquote>
<p>现在用 Google 翻译，不止“看懂”，还能<strong>听着聊</strong>、<strong>跟着练</strong>。旅行、出差、外贸、交换生…都更省心了。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>出门在外，最难的是<strong>开口</strong>。
这次 Google 给翻译 App 装上了两把“新齿轮”：<strong>实时对话翻译</strong>和<strong>个性化口语练习</strong>。
实际用下来，像多了个随身“同声传译 + 私教”。</p>
<blockquote>
<p><strong>注意</strong>：截至 <strong>2025-08-27（亚太）</strong>，实时对话功能<strong>率先在美国、印度、墨西哥</strong>上线；练习功能正<strong>逐步内测</strong>。支持<strong>70+ 语言</strong>的现场对话（含阿拉伯语、法语、印地语、韩语、西语、泰米尔语等）。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="亮点一览值得你马上试">亮点一览（值得你马上试）</h2><a class="sl-anchor-link" href="#亮点一览值得你马上试"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “亮点一览（值得你马上试）”</span></a></div>
<ul>
<li><strong>一键“Live translate”</strong>：双语来回说、屏幕双语字幕、实时播报，能<strong>自动识别停顿、口音、语调</strong>，在机场、咖啡馆这类<strong>嘈杂环境</strong>也更稳。</li>
<li><strong>AI 口语练习</strong>：按目标生成人机对话场景；<strong>听力点词 + 口语引导</strong>双模式；<strong>每日进度</strong>自动记录。<strong>英语↔️西/法/葡</strong>优先开放。</li>
<li><strong>Gemini 加持</strong>：更强的语义理解、多模态和 TTS，自然度更高。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="上手安装ios--android-都能用">上手安装（iOS / Android 都能用）</h2><a class="sl-anchor-link" href="#上手安装ios--android-都能用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “上手安装（iOS / Android 都能用）”</span></a></div>
<p><strong>iOS</strong>
在 App Store 搜索 <strong>Google Translate</strong> → 安装 → 打开 App → 允许麦克风权限。</p>
<p><strong>Android</strong>
在 Google Play 搜索 <strong>Google Translate</strong> → 安装 → 打开 App → 允许麦克风权限。
可在设置里打开 <strong>Tap to Translate</strong>（悬浮翻译气泡），在任意 App 里复制文字即可快译。</p>
<blockquote>
<p><strong>别混淆</strong>：Pixel 手机上还有系统级 <strong>Live Translate</strong>（设定里开关），与这次“翻译 App 内的 Live translate”不是同一入口。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="实时对话像带了个随身口译">实时对话：像带了个随身口译</h2><a class="sl-anchor-link" href="#实时对话像带了个随身口译"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “实时对话：像带了个随身口译”</span></a></div>
<p><strong>怎么用</strong>
打开 Translate → 点 <strong>Live translate</strong> → 选两种语言 → <strong>直接说</strong>。
App 会<strong>自动在两种语言之间切换</strong>，播报译文并显示双语字幕。</p>
<p><strong>为什么更稳</strong>
采用新的语音/语音识别模型，能<strong>隔离环境噪声</strong>。在<strong>机场、地铁、夜市</strong>这种场景也能用。</p>
<p><strong>当前可用地区</strong>：美国、印度、墨西哥（后续会扩）。</p>
<p><strong>超好用场景</strong></p>
<ul>
<li><strong>学语言</strong>：和外教、同学练口语，App 实时字幕帮你 catch 重点。</li>
<li><strong>打车 &#x26; 路问路</strong>：对司机说中文，乘客听到外语；司机回外语，你这边播报中文。</li>
<li><strong>餐厅点单</strong>：描述忌口/过敏，App 自动口译，避免沟通尴尬。</li>
<li><strong>前台/海关/酒店 check-in</strong>：需要反复确认信息时，双语字幕<strong>可回看记录</strong>更安心。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="口语练习ai-私教按你目标定制">口语练习：AI 私教，按你目标定制</h2><a class="sl-anchor-link" href="#口语练习ai-私教按你目标定制"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “口语练习：AI 私教，按你目标定制”</span></a></div>
<p><strong>入口</strong>：Translate App → <strong>Practice</strong>
<strong>怎么玩</strong>：</p>
<ul>
<li>选水平与目标（旅行生存、商务沟通、日常寒暄）→ App 即时生成<strong>情景对练</strong>。</li>
<li><strong>听力模式</strong>：听对话、点你听到的关键词。</li>
<li><strong>口语模式</strong>：开口说，遇到卡壳给<strong>提示</strong>。</li>
<li><strong>进度记录</strong>：追踪每日练习曲线，<strong>逐步加难</strong>。</li>
</ul>
<p><strong>已知开放</strong>：</p>
<ul>
<li>英语使用者练<strong>西/法</strong>；西/法/葡语使用者练<strong>英语</strong>。其余语言按批次扩展中。</li>
</ul>
<p><strong>适合谁</strong></p>
<ul>
<li><strong>出行前 7 天速成</strong>：每天 10 分钟冲“机场/酒店/餐厅/问路”四大场景。</li>
<li><strong>外贸/客服</strong>：先把“自我介绍、价格条款、售后流程”练熟，再上桌谈。</li>
<li><strong>留学/交换</strong>：宿舍、课堂、社团话题一键生成，先在 App 里“演练”一遍。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="实战技巧清单体验直接拉满">实战技巧清单（体验直接拉满）</h2><a class="sl-anchor-link" href="#实战技巧清单体验直接拉满"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “实战技巧清单（体验直接拉满）”</span></a></div>
<ul>
<li><strong>带一副有线/降噪耳机</strong>：收音更稳，双方更容易听清。</li>
<li><strong>收藏“高频句”</strong>：常用表达建成短语本，配合 Tap to Translate，聊天回覆更快。</li>
<li><strong>离线应急</strong>：文本/相机翻译支持<strong>离线语言包</strong>（先下载）。<em>实时对话通常需联网</em>。</li>
<li><strong>别忘隐私</strong>：现场沟通别读银行卡/私密信息；公共场合注意外放音量。</li>
<li><strong>区分两个“Live Translate”</strong>：系统级（Pixel 设置）与 App 内入口不同，上手别找错。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="推荐使用场景从好用到离不开">推荐使用场景（从“好用”到“离不开”）</h2><a class="sl-anchor-link" href="#推荐使用场景从好用到离不开"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “推荐使用场景（从“好用”到“离不开”）”</span></a></div>
<ul>
<li><strong>背包客 &#x26; 自驾</strong>：问路、订活动、修车救援，一机搞定。</li>
<li><strong>跨国项目沟通</strong>：站会、需求澄清、演示讲解，<strong>先用实时对话</strong>把信息跑通，再补文档。</li>
<li><strong>医疗就诊</strong>：症状描述、过敏史、用药频次，<strong>双语字幕可回看</strong>，减少误解。</li>
<li><strong>教学/志愿者</strong>：和外籍家长、来访学生交流更顺。</li>
<li><strong>跨境电商</strong>：旺季客服高峰，先用对话达成基本理解，再转书面处理。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="可能的限制--预期">可能的限制 &#x26; 预期</h2><a class="sl-anchor-link" href="#可能的限制--预期"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “可能的限制 &#x26; 预期”</span></a></div>
<ul>
<li><strong>地区逐步开放</strong>：今天先到美/印/墨，其他国家会分批上线。关注 App 更新。</li>
<li><strong>语言覆盖与准确度</strong>：70+ 语言对话已可用；专业术语/口音极重时，建议<strong>复述 + 放慢</strong>。</li>
<li><strong>学习与替代</strong>：AI 很强，但<strong>不能替代语言学习的文化与情感价值</strong>——想真正融入当地，还是要多听多说。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一页速记卡收藏即用">一页速记卡（收藏即用）</h2><a class="sl-anchor-link" href="#一页速记卡收藏即用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一页速记卡（收藏即用）”</span></a></div>
<ul>
<li>打开 Translate → <strong>Live translate</strong> → 选语言 → <strong>直接开聊</strong>。</li>
<li>打开 <strong>Practice</strong> → 设水平与目标 → <strong>听力点词 / 口语引导</strong> → 看每日进度。</li>
<li>开 <strong>Tap to Translate</strong>，聊天 App 里复制即翻。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>这波升级，Google 把“会聊 + 会学”塞进了一个 App。
不管你是旅行、做外贸，还是备战交换生，<strong>现在就能少慌、多说、说对</strong>。
你打算先在哪个场景试一把？<strong>评论区聊聊你的“翻车或高光”瞬间</strong>。</p>
<!-- 
---

### 参考与延伸阅读

* Google 官方博客：发布“实时对话 + 口语练习”（2025-08-26）。
* The Verge：Translate 抗衡 Duolingo 的 AI 练习，细节与上手。
* Indian Express：一步步教你打开 Live translate。
* 支持文档：Android **Tap to Translate**；Pixel **系统级 Live Translate**。

- [The Verge](https://www.theverge.com/news/765872/google-translate-ai-language-learning-duolingo?utm_source=chatgpt.com)
- [Financial Times](https://www.ft.com/content/7e49af9a-49a8-4761-a9a3-82dbedac2e70?utm_source=chatgpt.com)
- [TechRadar](https://www.techradar.com/computing/websites-apps/google-translate?utm_source=chatgpt.com)

---

## 多语言标题（3 组）

1. **把“翻译”升到“对话”级：Google Translate 的实时口译 + AI 练习来了**

* EN: Level up from “Translate” to “Talk”: Live Bilingual Chats + AI Practice in Google Translate
* 繁體: 把「翻譯」升級到「對話」級：Google Translate 的即時口譯＋AI 練習來了
* 日: 「翻訳」から「会話」へ。Google翻訳にライブ通訳とAI練習が登場
* FR: De la “traduction” à la “conversation” : interprétation en direct et entraînement IA dans Google Translate
* ES: De “traducir” a “conversar”: traducción en vivo y práctica con IA en Google Translate
* PT: De “traduzir” a “conversar”: tradução ao vivo e prática com IA no Google Translate
* **slug**: google-translate-live-conversation-ai-practice

2. **出国不怂了：用 Google 翻译秒开口，练口语也交给它**

* EN: Travel with Confidence: Speak Instantly and Train Your Speech in Google Translate
* 繁體: 出國不慫了：用 Google 翻譯就能開口，口說練習也交給它
* 日: もう怖くない海外旅行：Google翻訳で即会話＆スピーキング練習
* FR: Voyager serein : parler instantanément et s’entraîner avec Google Translate
* ES: Viaja sin miedo: habla al instante y practica con Google Translate
* PT: Viaje sem medo: fale na hora e treine com o Google Translate
* **slug**: travel-speak-instantly-with-google-translate

3. **一机两用：口译在手，私教随身**

* EN: Two-in-One: Pocket Interpreter and Personal Tutor
* 繁體: 一機兩用：口譯在手，私教隨身
* 日: これ一本：通訳機＋個人チューター
* FR: Deux-en-un : interprète de poche et coach perso
* ES: Dos en uno: intérprete de bolsillo y tutor personal
* PT: Dois em um: intérprete de bolso e tutor pessoal
* **slug**: pocket-interpreter-personal-tutor

---

## 文章配图（给设计/绘图用的提示词）

* **封面图（2:1 插画）**：A traveler sitting on a bench at an airport, speaking into a phone; floating bilingual speech bubbles with translation icons and a microphone; clean pastel palette, modern flat illustration, **no Chinese text**.

* **章节图·实时对话（2:1 插画）**：Two people facing each other with a single phone between them; the screen shows side-by-side transcripts in two languages; subtle background noise elements (café, clinking cups) to imply robust noise isolation; **no Chinese text**.

* **章节图·口语练习（2:1 插画）**：A smartphone UI mock showing “Practice” with goal selection chips (Travel / Business / Daily), a friendly AI assistant giving speaking hints; progress bar at the bottom; **no Chinese text**.

---

## 朋友圈/评论区文案（3 条）

1. 今天用 Google 翻译在咖啡馆和老外聊了 10 分钟，App 自己在两种语言里切换，稳得一批～原来开口没那么难。
2. 出国最怕的不是听不懂，而是不敢说。现在直接点“Live translate”，尴尬瞬间没了。谁先去机场实测？
3. 想练口语但总找不到话题？Translate 的“Practice”能按目标生成对话，像带了个随身外教，走起！

---

我把**亮点、安装、场景、技巧**都写齐了。要不要我再**扩一版企业/团队应用指南**（跨国客服、驻场工程师、海外销售的 SOP）？

[1]: https://blog.google/products/translate/language-learning-live-translate/?utm_source=chatgpt.com "Google Translate adds live translation and language learning"
[2]: https://www.theverge.com/news/765872/google-translate-ai-language-learning-duolingo?utm_source=chatgpt.com "Google is building a Duolingo rival into the Translate app"
[3]: https://techcrunch.com/2025/08/26/google-translate-takes-on-duolingo-with-new-language-learning-tools/?utm_source=chatgpt.com "Google Translate takes on Duolingo with new language ..."
[4]: https://support.google.com/translate/answer/6350658?co=GENIE.Platform%3DAndroid&hl=en&utm_source=chatgpt.com "Translate text in other apps - Android"
[5]: https://support.google.com/pixelphone/answer/11209263?hl=en&utm_source=chatgpt.com "Translate speech & text on your Pixel phone"
[6]: https://indianexpress.com/article/technology/artificial-intelligence/google-translate-now-lets-you-converse-in-over-70-languages-practise-speaking-skills-10214039/?utm_source=chatgpt.com "Google Translate now lets you converse in over 70 ..."
[7]: https://www.techradar.com/computing/websites-apps/google-translate?utm_source=chatgpt.com "This is the one travel app I can't afford to forget"
[8]: https://www.ft.com/content/7e49af9a-49a8-4761-a9a3-82dbedac2e70?utm_source=chatgpt.com "Why learn French when your phone can do it for you?" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/google-translate/" class="astro-sg3lsd66">Google Translate</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/docs/cli/2025-08-28-claude-code-cli-playbook-repl-pipes-sessions-permissions/" class="astro-dr56dw7m">Claude Code 实战指南 1：CLI 常用命令选项</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-28T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月28日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Claude Code CLI 实战指南：搞定常用命令选项 -->
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>图形界面好用，但<strong>命令行更快、更稳、可编排</strong>。
Claude Code CLI 就是那把“顺手的刀”。
开个 REPL 聊天、管道一把梭、恢复历史会话、精细化权限……一行命令就行。</p>
<p>这篇文章，带你用<strong>最少的记忆成本</strong>，搞定日常 90% 的 CLI 用法。
<strong>能复制就不手打</strong>。能自动化就不手动。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="观点给忙人看的-5-句话">观点（给忙人看的 5 句话）</h2><a class="sl-anchor-link" href="#观点给忙人看的-5-句话"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “观点（给忙人看的 5 句话）”</span></a></div>
<ul>
<li><strong>REPL 模式</strong>：<code dir="auto">claude</code> 开聊，<code dir="auto">claude "…" </code>带着问题开聊。</li>
<li><strong>打印/管道模式</strong>：<code dir="auto">-p</code> 非交互，一次性出结果；配合 <code dir="auto">--output-format json/stream-json</code> 可编排。</li>
<li><strong>会话管理</strong>：<code dir="auto">-c</code> 续聊最近；<code dir="auto">-r</code> 选历史；<code dir="auto">--session-id</code> 固定一个会话做长期任务。</li>
<li><strong>权限控制</strong>：<code dir="auto">--permission-mode</code> 精细开关，<code dir="auto">--allowedTools/--disallowedTools</code> 白黑名单更稳。</li>
<li><strong>危险跳过</strong>：<code dir="auto">--dangerously-skip-permissions</code> 只在<strong>离线/沙盒</strong>用，线上坚决别开。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="正文">正文</h2><a class="sl-anchor-link" href="#正文"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “正文”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1-repl-模式像终端里的对话-ide">#1 REPL 模式：像终端里的“对话 IDE”</h3><a class="sl-anchor-link" href="#1-repl-模式像终端里的对话-ide"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#1 REPL 模式：像终端里的“对话 IDE””</span></a></div>
<p><strong>最常用两种启动：</strong></p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 直接开 REPL</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 带初始问题进入 REPL</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">explain this project like I'm new here</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claudeclaude &#x22;explain this project like I&#x27;m new here&#x22;"><div></div></button></div></figure></div>
<p><strong>好用的小技巧：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 连接唯一可用 IDE（有且仅有一个）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--ide</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 给系统提示加一段指令（不开配置文件也能临时生效）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--append-system-prompt</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">You are a careful code reviewer.</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --ideclaude --append-system-prompt &#x22;You are a careful code reviewer.&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p>用法心法：<strong>临时探索、逐步重构、一步步跑通</strong>，REPL 很顺手。
配合 <code dir="auto">--model sonnet</code> 或完整型号，切换模型同样丝滑。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="2-打印--管道模式脚本化一把过">#2 打印 / 管道模式：脚本化、一把过</h3><a class="sl-anchor-link" href="#2-打印--管道模式脚本化一把过"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#2 打印 / 管道模式：脚本化、一把过”</span></a></div>
<p><strong>核心就是 <code dir="auto">-p</code></strong>：从 stdin 读入 → 输出一次结果 → 退出。
适合脚本、CI、批处理。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 单次问答</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">explain this function</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 处理文件内容</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">cat</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">server.log</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">summarize error patterns</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 处理代码 diff</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">git</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">diff</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">write a clear PR description</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;explain this function&#x22;cat server.log | claude -p &#x22;summarize error patterns&#x22;git diff | claude -p &#x22;write a clear PR description&#x22;"><div></div></button></div></figure></div>
<p><strong>编排友好的输出格式：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 机器可读</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">summarize as JSON</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">json</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 实时流式 JSON（上游/下游都能流）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">cat</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">api.md</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--input-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">stream-json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">stream-json</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;summarize as JSON&#x22; --output-format jsoncat api.md | claude -p --input-format stream-json --output-format stream-json"><div></div></button></div></figure></div>
<p><strong>组合拳示例（配 jq）：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">git</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">diff</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">summarize as JSON with keys: title, bullets</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">jq</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">"# \(.title)\n- " + (.bullets | join("\n- "))</span><span style="--0:#D9F5DD;--1:#111111">'</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="git diff | claude -p &#x22;summarize as JSON with keys: title, bullets&#x22; --output-format json \  | jq -r &#x27;&#x22;# \(.title)\n- &#x22; + (.bullets | join(&#x22;\n- &#x22;))&#x27;"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="3-会话管理续聊回溯固化-id">#3 会话管理：续聊、回溯、固化 ID</h3><a class="sl-anchor-link" href="#3-会话管理续聊回溯固化-id"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#3 会话管理：续聊、回溯、固化 ID”</span></a></div>
<p><strong>常用 4 连：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 续聊最近一个</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-c</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 续聊 + 一句指令后直接退出（非交互）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-c</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Check for type errors</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 选择历史会话（交互式列表）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 用会话 ID 恢复（支持非交互批处理）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">550e8400-e29b-41d4-a716-446655440000</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--no-interactive</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">fix all linting issues</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -cclaude -c -p &#x22;Check for type errors&#x22;claude -rclaude -r &#x22;550e8400-e29b-41d4-a716-446655440000&#x22; --no-interactive &#x22;fix all linting issues&#x22;"><div></div></button></div></figure></div>
<p><strong>固化会话 ID（做“长期项目管家”）：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">CC_SID</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">12345678-1234-1234-1234-123456789abc</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--session-id</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">$CC_SID</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Keep maintaining the release plan</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export CC_SID=&#x22;12345678-1234-1234-1234-123456789abc&#x22;claude --session-id $CC_SID &#x22;Keep maintaining the release plan&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p>实战建议：<strong>给每个长期任务固定一个 <code dir="auto">--session-id</code></strong>。上下文更稳定，历史更可追溯。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="4-权限模式既要效率也要边界">#4 权限模式：既要效率，也要边界</h3><a class="sl-anchor-link" href="#4-权限模式既要效率也要边界"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#4 权限模式：既要效率，也要边界”</span></a></div>
<p><strong>四种模式概念清晰：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 默认模式：遇到风险行为会请求确认</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-mode</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">default</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 只自动接受 “Edit” 类操作，写文件/改代码很顺</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-mode</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">acceptEdits</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 计划模式：先出完整计划，再执行</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-mode</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">plan</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 全面绕过权限（⚠️ 风险高，通常不建议）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-mode</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">bypassPermissions</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --permission-mode defaultclaude --permission-mode acceptEditsclaude --permission-mode planclaude --permission-mode bypassPermissions"><div></div></button></div></figure></div>
<p><strong>非交互场景的“权限提示代理”</strong>（比如 CI 无法点确认）：</p>
<blockquote>
<p>让某个 MCP 工具来“代表你”处理权限提示。</p>
</blockquote>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-prompt-tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">mcp_auth_tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">run code review</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p --permission-prompt-tool mcp_auth_tool &#x22;run code review&#x22;"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="5-危险跳过模式只在离线沙盒使用">#5 危险跳过模式：只在<strong>离线/沙盒</strong>使用</h3><a class="sl-anchor-link" href="#5-危险跳过模式只在离线沙盒使用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#5 危险跳过模式：只在离线/沙盒使用”</span></a></div>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 绕过所有权限检查（字面意思就很危险）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--dangerously-skip-permissions</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --dangerously-skip-permissions"><div></div></button></div></figure></div>
<p><strong>什么时候可以用？</strong></p>
<ul>
<li>本地<strong>无网络的沙盒容器</strong>。</li>
<li>演示/教学环境，<strong>只读文件系统</strong>或镜像快照可随时回滚。</li>
<li>一次性临时环境，跑完就销毁。</li>
</ul>
<p><strong>什么时候别用？</strong></p>
<ul>
<li>生产环境、含密钥的仓库、CI 写入真实资源。</li>
<li>任何你不希望“自动执行 shell/写文件”的地方。</li>
</ul>
<blockquote>
<p>记一句：<strong>能不用就不用</strong>。真的要用，<strong>先隔离</strong>。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="6-工具名称列表白黑名单更稳">#6 工具名称列表：白/黑名单更稳</h3><a class="sl-anchor-link" href="#6-工具名称列表白黑名单更稳"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#6 工具名称列表：白/黑名单更稳”</span></a></div>
<p>精确控制哪些工具能被用，语法支持“子命令通配”。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 允许：所有 git 子命令的 Bash、代码编辑器</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(git:*), Edit</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 禁止：所有 rm 子命令（哪怕允许了 Bash）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--disallowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(rm:*)</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --allowedTools &#x22;Bash(git:*), Edit&#x22;claude --disallowedTools &#x22;Bash(rm:*)&#x22;"><div></div></button></div></figure></div>
<p><strong>CI 场景推荐：</strong>
仅开放必要编辑能力，封死危险命令。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-mode</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">acceptEdits</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Edit</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--disallowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(rm:*), Bash(curl:*), Bash(wget:*)</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p \  --permission-mode acceptEdits \  --allowedTools &#x22;Edit&#x22; \  --disallowedTools &#x22;Bash(rm:*), Bash(curl:*), Bash(wget:*)&#x22;"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="7-输入输出格式接上游接下游都优雅">#7 输入/输出格式：接上游、接下游，都优雅</h3><a class="sl-anchor-link" href="#7-输入输出格式接上游接下游都优雅"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#7 输入/输出格式：接上游、接下游，都优雅”</span></a></div>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 输入文本、输出文本（默认）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">explain</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 输入流式 JSON、输出流式 JSON</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--input-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">stream-json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">stream-json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--replay-user-messages</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;explain&#x22;claude -p --input-format stream-json --output-format stream-json --replay-user-messages"><div></div></button></div></figure></div>
<p><strong><code dir="auto">--replay-user-messages</code> 干嘛用？</strong>
在流式 JSON 管道里，把 stdin 的“用户消息”原样回放到 stdout，方便<strong>中间件对齐</strong>上下游事件流。</p>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="8-进阶三件套模型--目录--设置">#8 进阶三件套：模型 / 目录 / 设置</h3><a class="sl-anchor-link" href="#8-进阶三件套模型--目录--设置"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “#8 进阶三件套：模型 / 目录 / 设置”</span></a></div>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 模型与回退</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--model</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">sonnet</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--fallback-model</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">opus</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">explain the migration plan</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 允许访问额外目录 &#x26; 指定工作目录</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--add-dir</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">../apps</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">../lib</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--cwd</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./apps/web</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 一把加载设置（文件或 JSON 字符串）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--settings</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./cc.settings.json</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --model sonnet --fallback-model opus -p &#x22;explain the migration plan&#x22;claude --add-dir ../apps ../lib --cwd ./apps/webclaude --settings ./cc.settings.json"><div></div></button></div></figure></div>
<p>示例 <code dir="auto">cc.settings.json</code>：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"verbose"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#FF6A83;--1:#A24848">true</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"maxTurns"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#F78C6C;--1:#AA0982">8</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"appendSystemPrompt"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Prefer clear diffs and small PRs.</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;verbose&#x22;: true,  &#x22;maxTurns&#x22;: 8,  &#x22;appendSystemPrompt&#x22;: &#x22;Prefer clear diffs and small PRs.&#x22;}"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="速查清单cheat-sheet可收藏">速查清单（Cheat Sheet｜可收藏）</h2><a class="sl-anchor-link" href="#速查清单cheat-sheet可收藏"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “速查清单（Cheat Sheet｜可收藏）”</span></a></div>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 开 REPL</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 带问题开 REPL</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">help write a release note</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 单次问答（脚本化）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">explain this function</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">text</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 处理日志</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">cat</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">logs.txt</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">find top 5 recurring errors</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># JSON 输出给下游</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">git</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">diff</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">summarize as JSON</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">json</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 续聊最近</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-c</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 恢复指定会话（非交互）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">550e8400-e29b-41d4-a716-446655440000</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--no-interactive</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">finish the refactor</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 固定会话 ID</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--session-id</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">12345678-1234-1234-1234-123456789abc</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 计划模式（先出方案再执行）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-mode</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">plan</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 白名单工具（只允许编辑）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Edit</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 黑名单危险命令</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--disallowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(rm:*)</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># ⚠️ 仅沙盒使用</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--dangerously-skip-permissions</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claudeclaude &#x22;help write a release note&#x22;claude -p &#x22;explain this function&#x22; --output-format textcat logs.txt | claude -p &#x22;find top 5 recurring errors&#x22;git diff | claude -p &#x22;summarize as JSON&#x22; --output-format jsonclaude -cclaude -r &#x22;550e8400-e29b-41d4-a716-446655440000&#x22; --no-interactive &#x22;finish the refactor&#x22;claude --session-id 12345678-1234-1234-1234-123456789abcclaude --permission-mode planclaude --allowedTools &#x22;Edit&#x22;claude --disallowedTools &#x22;Bash(rm:*)&#x22;claude --dangerously-skip-permissions"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="小结">小结</h2><a class="sl-anchor-link" href="#小结"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “小结”</span></a></div>
<p>命令行的价值，就两点：<strong>快</strong>、<strong>可编排</strong>。
REPL 处理探索式任务，<code dir="auto">-p</code> 负责自动化与流水线。
<strong>会话可追溯、权限可控、输出可编排</strong>，就能把 Claude Code 融进你的日常工程节奏。</p>
<p>愿你少敲十倍命令，多交付十倍结果。</p>
<p><strong>你在用哪种组合最好用？</strong>
欢迎在评论区分享你的“命令流”，我会挑几条做成海报，送你一套 Vibe Coding 快速上手包。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="互动区">互动区</h2><a class="sl-anchor-link" href="#互动区"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “互动区”</span></a></div>
<ul>
<li><strong>你更常用 REPL 还是 <code dir="auto">-p</code>？为什么？</strong></li>
<li><strong>你会在什么场景打开 <code dir="auto">acceptEdits</code>？</strong></li>
<li>**有没有一条让你“直呼好用”的管道命令？**贴出来一起抄作业。</li>
</ul>
<!-- 
---

## 推荐标题（3 组｜多语种＋slug）

1.

* 简体：**Claude Code CLI 实战清单：REPL、管道、会话与权限一篇通关**
* English: Claude Code CLI Playbook: REPL, Pipes, Sessions & Permissions
* 繁體：Claude Code CLI 實戰清單：REPL、管道、會話與權限一篇通關
* 日本語：Claude Code CLI実践ガイド：REPL・パイプ・セッション・権限を一気通貫
* Français : Guide pratique Claude Code CLI : REPL, pipes, sessions et permissions
* Español: Guía práctica de Claude Code CLI: REPL, tuberías, sesiones y permisos
* Português: Guia prático do Claude Code CLI: REPL, pipes, sessões e permissões
* **slug**：`claude-code-cli-playbook-repl-pipes-sessions-permissions`

2.

* 简体：**把 Claude 装进终端：最常用 CLI 命令与安全玩法**
* English: Put Claude in Your Terminal: Must-Use CLI Commands & Safe Patterns
* 繁體：把 Claude 裝進終端：最常用 CLI 指令與安全玩法
* 日本語：端末でClaudeを使い倒す：必須CLIコマンドと安全なワークフロー
* Français : Claude au terminal : commandes CLI essentielles et usages sûrs
* Español: Claude en tu terminal: comandos CLI esenciales y usos seguros
* Português: Claude no terminal: comandos CLI essenciais e usos seguros
* **slug**：`claude-in-terminal-essential-cli-commands-safe-patterns`

3.

* 简体：**工程师的 Claude Code CLI 速通课：一行命令提效十倍**
* English: Engineer’s Fast Track to Claude Code CLI: 10× Output in One Line
* 繁體：工程師的 Claude Code CLI 速通課：一行指令效率十倍
* 日本語：エンジニア向けClaude Code CLI速習：一行で生産性10倍
* Français : Parcours express CLI Claude Code : 10× d’efficacité en une ligne
* Español: Curso exprés de Claude Code CLI: 10× productividad en una línea
* Português: Trilha rápida do Claude Code CLI: 10× produtividade em uma linha
* **slug**：`fast-track-claude-code-cli-10x-one-line`

---

## 配图生成提示（插画风｜2:1｜图中文字用英文）

**封面图 Prompt**
“An illustration of a developer in a dark terminal room orchestrating AI agents via command lines; floating command bubbles like `claude -p`, `--permission-mode plan`, `--allowedTools Edit`; clean vector style, soft gradients, minimal, wide 2:1 aspect ratio, no Chinese text.”

**章节配图 1（REPL vs -p）**
“Split scene: left side interactive terminal with chat bubbles (REPL), right side a conveyor belt of tasks (pipes) producing neat reports; modern flat illustration, 2:1, no Chinese text.”

**章节配图 2（Sessions）**
“Timeline of conversation cards with a highlighted UUID tag and ‘resume’ arrow; terminal aesthetics, vector icons, 2:1, no Chinese text.”

**章节配图 3（Permissions & Tools）**
“Shield icon guarding file edits; toggles labeled ‘acceptEdits’, ‘plan’, and tool badges ‘Bash(git:\*)’, ‘Edit’; friendly security vibe, 2:1, no Chinese text.”

---

## 朋友圈/评论区文案（3 条）

1. **“把 Claude 装进终端，效率就会长在指尖上。”** 我用这套 CLI 流程，提效真的离谱：REPL 探索，`-p` 编排，`acceptEdits` 改代码，稳！
2. 学会这几条命令，**PR 描述自己会长出来**。git diff → `claude -p --output-format json` → 一键格式化，写文档不头疼了。
3. 这文直接收藏了。**会话固定 ID** 这招太顶了，持续项目像有人记小本本，接着聊、接着改，**体验拉满**。

---

需要我**把这些命令做成一页式速查表**（PNG/PDF）吗？
或者**根据你公司 CI 写一份专属模板**？
我可以直接按你的仓库结构出一套可用脚本。你觉得呢？ --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/docs/cli/2025-08-28-mastering-claude-code-sessions-continue-resume-automate/" class="astro-dr56dw7m">Claude Code 实战指南 1.5：Claude Code 会话管理继续接着聊</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-28T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月28日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Claude Code 会话管理继续接着聊 -->
<p>**教你用 <code dir="auto">--continue / --resume / --session-id / 非交互模式</code> 四件套，稳定续上上一轮思考，把多任务协作与自动化玩明白。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>写代码像健身——<strong>最怕中断</strong>。
昨天和 Claude Code 正聊到一半的重构方案，今天进来就忘了哪一步？多开几个任务就“串味”？脚本里跑两轮就丢上下文？</p>
<p>这篇就讲清楚：<strong>Claude Code 的会话（Session）怎么管</strong>，怎么<strong>一键续聊、精确点聊、并行多聊、脚本里接着聊</strong>。让你的 Vibe Coding 节奏不掉线。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="你需要会话管理的-4-个真实场景">你需要会话管理的 4 个真实场景</h2><a class="sl-anchor-link" href="#你需要会话管理的-4-个真实场景"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “你需要会话管理的 4 个真实场景”</span></a></div>
<ul>
<li><strong>继续昨天的坑</strong>：直接接着上次那段对话继续推进。</li>
<li><strong>同时搞两条线</strong>：一个分支修 Bug，一个分支做新功能，互不干扰。</li>
<li><strong>脚本自动化</strong>：CI/脚本里多轮交互，不丢上下文。</li>
<li><strong>隐私与成本</strong>：会话本地保存与摘要成本心里有数。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="会话管理四件套">会话管理四件套</h2><a class="sl-anchor-link" href="#会话管理四件套"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “会话管理四件套”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1最快速继续最近的对话--continue---c">1）最快速：继续最近的对话（<code dir="auto">--continue / -c</code>）</h3><a class="sl-anchor-link" href="#1最快速继续最近的对话--continue---c"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1）最快速：继续最近的对话（--continue / -c）”</span></a></div>
<ul>
<li>
<p>命令：</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--continue</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 或</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-c</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --continueclaude -c"><div></div></button></div></figure></div>
</li>
<li>
<p>用法心法：啥也不选，<strong>立刻续上“最近一次”会话</strong>，连环境都不用重配。</p>
</li>
<li>
<p>小技巧：要在脚本里续上最近会话并输出结果：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--continue</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--print</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">继续刚才的重构，补齐单测</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --continue --print &#x22;继续刚才的重构，补齐单测&#x22;"><div></div></button></div></figure></div>
<p>（<code dir="auto">--print</code> 等价 <code dir="auto">-p</code>，走非交互输出）</p>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="2更精准恢复指定会话--resume---r">2）更精准：恢复指定会话（<code dir="auto">--resume / -r</code>）</h3><a class="sl-anchor-link" href="#2更精准恢复指定会话--resume---r"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2）更精准：恢复指定会话（--resume / -r）”</span></a></div>
<ul>
<li>
<p>交互式“会话选择器”：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --resume"><div></div></button></div></figure></div>
<p>会弹出历史会话列表（<strong>开始时间 / 首条提示或摘要 / 消息数</strong>），方向键选择即可。适合一天切好几条线的同学。</p>
</li>
<li>
<p>直接用 <strong>会话 ID</strong> 恢复：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">550e8400-e29b-41d4-a716-446655440000</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">把 API 抽象层改完</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 或</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">550e8400-e29b-41d4-a716-446655440000</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">继续写集成测试</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --resume 550e8400-e29b-41d4-a716-446655440000 &#x22;把 API 抽象层改完&#x22;claude -r 550e8400-e29b-41d4-a716-446655440000 &#x22;继续写集成测试&#x22;"><div></div></button></div></figure></div>
<p>适合 <strong>脚本/自动化</strong> 精确点名。</p>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="3脚本必备拿到-session_id--非交互多轮">3）脚本必备：拿到 <code dir="auto">session_id</code> + 非交互多轮</h3><a class="sl-anchor-link" href="#3脚本必备拿到-session_id--非交互多轮"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3）脚本必备：拿到 session_id + 非交互多轮”</span></a></div>
<p><strong>思路</strong>：先启动一轮拿到 <code dir="auto">session_id</code>，后续每步都用 <code dir="auto">--resume $sid</code> 串起来。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 第一步：起一个会话并抓 session_id（JSON 输出里自带）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">sid</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53">$(</span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">开启重构会话：先列出风险点</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">jq</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">.session_id</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 第二步：多轮非交互续写</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C5E478;--1:#3B61B0">$sid</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">按照上一步计划，先改 utils/date.ts</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C5E478;--1:#3B61B0">$sid</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">补充 ts-jest 配置与单测样例</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sid=$(claude -p &#x22;开启重构会话：先列出风险点&#x22; --output-format json | jq -r &#x27;.session_id&#x27;)claude -p --resume &#x22;$sid&#x22; &#x22;按照上一步计划，先改 utils/date.ts&#x22;claude -p --resume &#x22;$sid&#x22; &#x22;补充 ts-jest 配置与单测样例&#x22;"><div></div></button></div></figure></div>
<ul>
<li>关键点：<code dir="auto">--output-format json</code> 的返回体里包含 <code dir="auto">session_id</code> 字段；也可用 <code dir="auto">--no-interactive</code> 配合 <code dir="auto">--resume</code> 做纯非交互续写。</li>
</ul>
<blockquote>
<p>⚠️ 排雷：有开发者反馈，在<strong>非交互</strong>里反复用 <code dir="auto">--continue</code> 可能会<strong>生成新的 session</strong>，导致上下文“看着像合上了”，其实换了 ID。<strong>自动化建议固定用 <code dir="auto">session_id</code> + <code dir="auto">--resume</code>。</strong></p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="4在-repl-里也能选resume-指令">4）在 REPL 里也能选：<code dir="auto">/resume</code> 指令</h3><a class="sl-anchor-link" href="#4在-repl-里也能选resume-指令"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “4）在 REPL 里也能选：/resume 指令”</span></a></div>
<p>进入交互 REPL 后，直接敲：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">/resume</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/resume"><div></div></button></div></figure></div>
<p>就能列出会话并恢复。这个入口与 <code dir="auto">--resume/--continue</code> 同源，<strong>触发同一套 SessionStart/Resume 逻辑</strong>。
（Hooks 文档里明确写了 <code dir="auto">resume</code> 匹配来源：<code dir="auto">--resume</code>、<code dir="auto">--continue</code>、<code dir="auto">/resume</code>）</p>
<blockquote>
<p>顺手再记两个常用键：</p>
<ul>
<li><code dir="auto">Esc Esc</code>：编辑上条消息</li>
<li><code dir="auto">↑ / ↓</code>：翻阅本会话历史
用来微调上一轮提问，贼高效。</li>
</ul>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="并行不串台用-git-worktree-隔离多会话">并行不串台：用 Git Worktree 隔离多会话</h2><a class="sl-anchor-link" href="#并行不串台用-git-worktree-隔离多会话"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “并行不串台：用 Git Worktree 隔离多会话”</span></a></div>
<p>要<strong>同时</strong>推进“修 Bug”和“开新功能”？用 <strong>git worktree</strong> 把仓库拉成两个工作目录，在各自目录里分别开 Claude Code，<strong>上下文天然隔离</strong>：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">git</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">worktree</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">../proj-feature-a</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-b</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">feature-a</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">git</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">worktree</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">add</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">../proj-bugfix</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">bugfix-123</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">cd</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">../proj-feature-a</span><span style="--0:#D6DEEB;--1:#403F53"> &#x26;&#x26; </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">cd</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">../proj-bugfix</span><span style="--0:#D6DEEB;--1:#403F53">   &#x26;&#x26; </span><span style="--0:#82AAFF;--1:#3B61B0">claude</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="git worktree add ../proj-feature-a -b feature-agit worktree add ../proj-bugfix bugfix-123cd ../proj-feature-a &#x26;&#x26; claudecd ../proj-bugfix   &#x26;&#x26; claude"><div></div></button></div></figure></div>
<p>官方工作流里强推这招，<strong>会话和文件状态互不影响</strong>。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="隐私--成本会话保存与摘要消费">隐私 &#x26; 成本：会话保存与摘要消费</h2><a class="sl-anchor-link" href="#隐私--成本会话保存与摘要消费"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “隐私 &#x26; 成本：会话保存与摘要消费”</span></a></div>
<ul>
<li><strong>本地保存</strong>：客户端会将会话在本地保留（默认可配置，常见上限 30 天），用于 <code dir="auto">--resume</code>。企业合规可以设为零数据保留。</li>
<li><strong>后台摘要</strong>：为了让 <code dir="auto">--resume</code> 有“可选列表”和摘要，Claude Code 会做<strong>后台会话摘要</strong>，这会产生少量 Token 开销。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一键抄走的会话工具箱">一键抄走的“会话工具箱”</h2><a class="sl-anchor-link" href="#一键抄走的会话工具箱"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一键抄走的“会话工具箱””</span></a></div>
<p><strong>Bash 版多轮模板</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 开会话并保存 ID</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">sid</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53">$(</span><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">准备发布：生成变更清单</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#7FDBCA;--1:#096E72">|</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">jq</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#ECC48D;--1:#984E4D">.session_id</span><span style="--0:#D9F5DD;--1:#111111">'</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 后续步骤都续这个会话</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C5E478;--1:#3B61B0">$sid</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">生成 release note，中文+英文</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C5E478;--1:#3B61B0">$sid</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">检查 CI 失败原因并给出修复命令</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C5E478;--1:#3B61B0">$sid</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">最后输出 checklist.md</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="sid=$(claude -p &#x22;准备发布：生成变更清单&#x22; --output-format json | jq -r &#x27;.session_id&#x27;)claude -p --resume &#x22;$sid&#x22; &#x22;生成 release note，中文+英文&#x22;claude -p --resume &#x22;$sid&#x22; &#x22;检查 CI 失败原因并给出修复命令&#x22;claude -p --resume &#x22;$sid&#x22; &#x22;最后输出 checklist.md&#x22;"><div></div></button></div></figure></div>
<p>（<code dir="auto">--print/-p</code> 非交互；要强制非交互也可 <code dir="auto">--no-interactive</code>）</p>
<p><strong>交互式快速入口</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 最近一次</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--continue</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 选择历史</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--resume</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 在 REPL 里</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">/resume</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude --continueclaude --resume/resume"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="进阶把会话钩到团队工作流可选">进阶：把会话钩到团队工作流（可选）</h2><a class="sl-anchor-link" href="#进阶把会话钩到团队工作流可选"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “进阶：把会话钩到团队工作流（可选）”</span></a></div>
<p>如果你在项目里配了 <strong>Hooks</strong>，例如 <code dir="auto">SessionStart</code>/<code dir="auto">SessionEnd</code>，<strong>恢复会话时也会触发</strong>。这意味着你可以在恢复瞬间<strong>自动加载最新 issue、变更摘要或安全检查</strong>。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>会话管理不是“锦上添花”，而是<strong>让灵感不断档</strong>的底层设施。
把 <code dir="auto">--continue</code> 用在<strong>临时续聊</strong>，把 <code dir="auto">--resume + session_id</code> 用在<strong>长期、可回放</strong>的任务，用 <strong>worktree</strong> 做物理隔离，再把这套<strong>搬进脚本</strong>，你的 Vibe Coding 就会从“灵感速写”进化到“可复盘的创作流水线”。</p>
<p><strong>你觉得呢？你现在最需要哪种会话管理姿势？评论区见。</strong></p>
<!-- 
---

## 推荐标题（3 组，含多语与 slug）

1. **把 Claude Code 用成“多脑并行”：会话管理全攻略**

   * EN: Mastering Claude Code Sessions: Continue, Resume, Automate
   * 繁: 把 Claude Code 用成「多腦並行」：會話管理全攻略
   * 日: セッション管理完全攻略：Claude Codeを止めない
   * 法: Guide complet des sessions Claude Code
   * 西: Guía total de sesiones en Claude Code
   * 葡: Guia completo de sessões no Claude Code
   * **slug**: mastering-claude-code-sessions-continue-resume-automate

2. **别让灵感断电：Claude Code 会话续写 4 招**

   * EN: Don’t Drop the Thread: 4 Ways to Resume Claude Code
   * 繁: 別讓靈感斷電：Claude Code 續寫四招
   * 日: 途切れさせない：Claude Code再開の4テク
   * 法: Ne perdez pas le fil : 4 méthodes pour reprendre Claude Code
   * 西: No pierdas el hilo: 4 formas de reanudar Claude Code
   * 葡: Não perca o fio: 4 formas de retomar no Claude Code
   * **slug**: dont-drop-the-thread-4-ways-resume-claude-code

3. **自动化到位：用 `session_id` 驾驭你的 Claude Code**

   * EN: Automate with Confidence: Drive Claude Code via `session_id`
   * 繁: 自動化到位：用 `session_id` 駕馭 Claude Code
   * 日: `session_id`で操る自動化Claude Code
   * 法: Automatisez avec `session_id` dans Claude Code
   * 西: Automatiza con `session_id` en Claude Code
   * 葡: Automatize com `session_id` no Claude Code
   * **slug**: automate-claude-code-with-session-id

---

## 配图建议（2:1 插画风，无中文）

**封面图 Prompt（英文）**
“An illustration of a developer juggling multiple floating chat bubbles labeled ‘continue’, ‘resume’, and ‘session\_id’, each connected to different Git branches as lanes; clean pastel palette, minimal lines, modern flat style, 2:1.”

**关键章节配图（英文）**

1. “Terminal window with a highlighted ‘session\_id’ JSON field popping out, arrows showing how steps chain via ‘--resume’; 2:1, flat illustration.”
2. “Two parallel worktrees on a conveyor belt, each with its own Claude avatar working independently; subtle tech vibe, 2:1.”

---

## 朋友圈/评论区金句（3 条）

1. **“会话没管好，等于把灵感设成易失性内存。”** 今天起用 `--resume`，你的想法再也不掉线。
2. “多任务别硬扛，**worktree+session** 才是最优解。”并行不串台，效率直接翻倍。
3. “脚本里续聊这件事，**先拿 `session_id` 再干活**，稳得一匹。”

---

*文中命令与特性基于官方文档与实例：CLI 参考与工作流（`--continue / --resume` 列表选择、非交互示例与 JSON 输出含 `session_id`）、REPL 快捷键与 `/resume`、worktree 并行隔离、数据本地保存与 `--resume` 后台摘要成本、以及社区 issue 的 `--continue` 非交互注意事项。* 

需要我把上面的命令做成一键脚本/Makefile，**或者按你团队的 CI 模板改造**吗？我可以直接给你可跑的版本。

[1]: https://docs.anthropic.com/en/docs/claude-code/common-workflows "Common workflows - Anthropic"
[2]: https://docs.anthropic.com/en/docs/claude-code/sdk/sdk-headless "Headless mode - Anthropic"
[3]: https://docs.anthropic.com/en/docs/claude-code/data-usage?utm_source=chatgpt.com "Data usage"
[4]: https://docs.anthropic.com/en/docs/claude-code/cli-reference "CLI reference - Anthropic"
[5]: https://github.com/anthropics/claude-code/issues/4343?utm_source=chatgpt.com "[BUG] Resume Conversation Forgets Non-Interactive Mode ..."
[6]: https://docs.anthropic.com/en/docs/claude-code/hooks "Hooks reference - Anthropic"
[7]: https://docs.anthropic.com/en/docs/claude-code/interactive-mode "Interactive mode - Anthropic"
[8]: https://docs.anthropic.com/en/docs/claude-code/costs?utm_source=chatgpt.com "Manage costs effectively" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/docs/cli/2025-08-28-outsourcing-permissions-with-claude-code-permission-prompt-tool/" class="astro-dr56dw7m">Claude Code 实战指南 1.10：用 claude code --permission-prompt-tool 把权限“外包”给你的 MCP 工具</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-28T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月28日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 用 claude code --permission-prompt-tool 把权限“外包”给你的 MCP 工具 -->
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>是不是常被权限弹窗打断思路？
想把 Claude Code 放进 CI/CD、夜间批处理、远程容器里跑，又不敢开“全放行”？</p>
<p><strong>答案就是这个开关：<code dir="auto">--permission-prompt-tool</code>。</strong>
它把“是否允许用某个工具”的决定，交给你指定的 <strong>MCP 工具</strong> 来做。支持按需审批、审计留痕、条件放行，还能跑在纯命令行的无人值守模式。CLI 文档里明确写了它的用途：在非交互模式下由 MCP 工具处理权限提示。**</p>
<blockquote>
<p>权限顺序也很清楚：<strong>先看 <code dir="auto">settings.json</code> / <code dir="auto">--allowedTools</code> / <code dir="auto">--disallowedTools</code>。有结论就直接执行或拒绝。否则才调用你传入的 <code dir="auto">--permission-prompt-tool</code>。</strong> 官方 SDK 文档给出了完整流程与返回格式要求。**</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="省流版">省流版</h2><a class="sl-anchor-link" href="#省流版"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “省流版”</span></a></div>
<ul>
<li><strong>它是什么</strong>：一个把“是否放行工具调用”的决定交给 MCP 工具的桥。适合自动化、无人值守、安全合规。**</li>
<li><strong>怎么判定</strong>：静态规则优先（<code dir="auto">settings</code>/<code dir="auto">allowed</code>/<code dir="auto">disallowed</code>），没命中才调用你的权限代理。返回 <code dir="auto">allow/deny</code> 的 JSON。**</li>
<li><strong>最佳场景</strong>：CI/CD、批处理重构、远程容器/Server、IDE/插件联动、企业级合规审计。**</li>
<li><strong>对安全团队的意义</strong>：可审核、可记录、可细粒度放行，符合 <strong>IAM + 最小权限</strong> 思路。搭配 MCP 白名单更稳。**</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="它到底做了什么">它到底做了什么</h2><a class="sl-anchor-link" href="#它到底做了什么"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “它到底做了什么”</span></a></div>
<p><strong>把“要不要放行这次工具调用”的问题，转发给你指定的 MCP 工具。</strong>
这个 MCP 工具可以接入审批、黑白名单、时段策略、Slack 人工确认、风控打分……你来定规则。CLI 与 Headless 模式都支持这一机制。**</p>
<p>Claude Code 的三层权限检查机制：</p>
<div class="sl-heading-wrapper level-h3"><h3 id="第一层静态配置检查">第一层：静态配置检查</h3><a class="sl-anchor-link" href="#第一层静态配置检查"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “第一层：静态配置检查”</span></a></div>
<p>先检查这些预设的权限规则</p>
<ul>
<li><code dir="auto">settings.json</code> 文件中的配置</li>
<li>命令行参数 <code dir="auto">--allowedTools</code></li>
<li>命令行参数 <code dir="auto">--disallowedTools</code></li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="第二层决策逻辑">第二层：决策逻辑</h3><a class="sl-anchor-link" href="#第二层决策逻辑"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “第二层：决策逻辑”</span></a></div>
<p>如果第一层有明确答案 → 直接执行或拒绝
如果第一层没有规则 → 进入第三层</p>
<div class="sl-heading-wrapper level-h3"><h3 id="第三层动态权限询问">第三层：动态权限询问</h3><a class="sl-anchor-link" href="#第三层动态权限询问"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “第三层：动态权限询问”</span></a></div>
<p>调用你指定的 MCP 工具来做决定
<code dir="auto">--permission-prompt-tool your_custom_tool</code></p>
<div class="sl-heading-wrapper level-h3"><h3 id="实际运行示例">实际运行示例</h3><a class="sl-anchor-link" href="#实际运行示例"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “实际运行示例”</span></a></div>
<p>假设 Claude 要执行 Write 工具修改文件：</p>
<p>情况1：静态配置已决定</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame has-title not-content"><figcaption class="header"><span class="title">settings.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"allowedTools"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Write</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;allowedTools&#x22;: [&#x22;Write&#x22;, &#x22;Read&#x22;]}"><div></div></button></div></figure></div>
<p>结果：直接允许，不调用 MCP 工具</p>
<p>情况2：静态配置禁止</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">settings.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"disallowedTools"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Write</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;disallowedTools&#x22;: [&#x22;Write&#x22;]}"><div></div></button></div></figure></div>
<p>结果：直接拒绝，不调用 MCP 工具</p>
<p>情况3：静态配置无规则</p>
<div class="expressive-code"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">settings.json</span></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"allowedTools"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#919F9F;--1:#5D6376">// 没有关于 Write 的规则</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;allowedTools&#x22;: [&#x22;Read&#x22;]  // 没有关于 Write 的规则}"><div></div></button></div></figure></div>
<p>结果：调用 —permission-prompt-tool 指定的 MCP 工具询问</p>
<p>用代码逻辑表示</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="python"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">def</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">check_permission</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#7FDBCA;--1:#096E72">tool_name</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F"># 第一层：检查静态配置</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> tool_name </span><span style="--0:#C792EA;--1:#8844AE">in</span><span style="--0:#D6DEEB;--1:#403F53"> settings.allowedTools:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FF6A83;--1:#A24848">True</span><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#919F9F;--1:#5F636F"># 直接允许</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> tool_name </span><span style="--0:#C792EA;--1:#8844AE">in</span><span style="--0:#D6DEEB;--1:#403F53"> settings.disallowedTools:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#FF6A83;--1:#A24848">False</span><span style="--0:#D6DEEB;--1:#403F53">  </span><span style="--0:#919F9F;--1:#5F636F"># 直接拒绝</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F"># 第二层：没有明确规则，调用 MCP 工具</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> permission_prompt_tool:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> permission_prompt_tool.</span><span style="--0:#B2CCD6;--1:#096E72">ask_permission</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">tool_name</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#919F9F;--1:#5F636F"># 默认行为（通常是询问用户）</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#B2CCD6;--1:#096E72">prompt_user</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">tool_name</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="def check_permission(tool_name):    # 第一层：检查静态配置    if tool_name in settings.allowedTools:        return True  # 直接允许    if tool_name in settings.disallowedTools:        return False  # 直接拒绝    # 第二层：没有明确规则，调用 MCP 工具    if permission_prompt_tool:        return permission_prompt_tool.ask_permission(tool_name)    # 默认行为（通常是询问用户）    return prompt_user(tool_name)"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="实际应用场景距离">实际应用场景距离</h3><a class="sl-anchor-link" href="#实际应用场景距离"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “实际应用场景距离”</span></a></div>
<p>企业环境：大部分工具预先配置，特殊情况动态审批</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="shell"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">code</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Read,Grep,LS</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#82AAFF;--1:#3B61B0">--disallowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash:rm,Bash:sudo</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-prompt-tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">enterprise_approver</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">analyze codebase</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude code --allowedTools &#x22;Read,Grep,LS&#x22; \            --disallowedTools &#x22;Bash:rm,Bash:sudo&#x22; \            --permission-prompt-tool enterprise_approver \            &#x22;analyze codebase&#x22;"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="工作流程">工作流程：</h3><a class="sl-anchor-link" href="#工作流程"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “工作流程：”</span></a></div>
<ul>
<li>
<ol>
<li>Claude 想用 Read → 静态允许 ✅</li>
</ol>
</li>
<li>
<ol start="2">
<li>Claude 想用 Bash:rm → 静态拒绝 ❌</li>
</ol>
</li>
<li>
<ol start="3">
<li>Claude 想用 Write → 没有规则，调用 enterprise_approver 询问 ❓</li>
</ol>
</li>
</ul>
<p>这种设计的好处是：</p>
<ul>
<li>性能：常用工具静态配置，快速决策</li>
<li>灵活性：特殊情况可以动态处理</li>
<li>安全性：默认拒绝，明确授权才能使用</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="4-大高效用法场景">4 大高效用法场景</h2><a class="sl-anchor-link" href="#4-大高效用法场景"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “4 大高效用法场景”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1-cicd-与无人值守脚本">1) CI/CD 与无人值守脚本</h3><a class="sl-anchor-link" href="#1-cicd-与无人值守脚本"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1) CI/CD 与无人值守脚本”</span></a></div>
<ul>
<li><strong>诉求</strong>：流水线里跑代码修改、测试修复、生成报告，不想被权限卡住。</li>
<li><strong>做法</strong>：</li>
</ul>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">fix flaky tests and commit</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Read,Grep</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--disallowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(rm*),Write</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--mcp-config</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">ci-tools.json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-prompt-tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">mcp__sec__approval_prompt</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">json</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;fix flaky tests and commit&#x22; \  --allowedTools &#x22;Read,Grep&#x22; \  --disallowedTools &#x22;Bash(rm*),Write&#x22; \  --mcp-config ci-tools.json \  --permission-prompt-tool mcp__sec__approval_prompt \  --output-format json"><div></div></button></div></figure></div>
<ul>
<li><strong>效果</strong>：凡是静态规则没覆盖的调用，交给 <code dir="auto">mcp__sec__approval_prompt</code> 远程审批。流水线不中断。**</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="2-大规模批处理与重构">2) 大规模批处理与重构</h3><a class="sl-anchor-link" href="#2-大规模批处理与重构"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2) 大规模批处理与重构”</span></a></div>
<ul>
<li><strong>诉求</strong>：夜间批量改文件、跑格式化、生成迁移 PR。</li>
<li><strong>做法</strong>：把“对关键路径的编辑”设为需审批，其余静态放行。发生变更时自动记录审计日志。</li>
<li><strong>依据</strong>：工具级/路径级细粒度规则可以在 IAM 里定义，如 <code dir="auto">Edit(docs/**)</code>、<code dir="auto">Bash(npm run test:*)</code>。**</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="3-远程容器--开发服务器">3) 远程容器 &#x26; 开发服务器</h3><a class="sl-anchor-link" href="#3-远程容器--开发服务器"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3) 远程容器 &#x26; 开发服务器”</span></a></div>
<ul>
<li><strong>诉求</strong>：没有交互 UI 的 Docker/SSH 环境也能安全放行必要操作。</li>
<li><strong>做法</strong>：在 Headless（非交互）模式下启用权限提示工具：</li>
</ul>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">build and publish image</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-prompt-tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">mcp__guard__prompt</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--mcp-config</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">/etc/mcp/servers.json</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;build and publish image&#x22; \  --permission-prompt-tool mcp__guard__prompt \  --mcp-config /etc/mcp/servers.json"><div></div></button></div></figure></div>
<ul>
<li><strong>来源</strong>：Headless 文档明确标注 <code dir="auto">--permission-prompt-tool</code> 只在 <code dir="auto">--print</code> 非交互模式下生效。**</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="4-ide--插件里的代办人">4) IDE / 插件里的“代办人”</h3><a class="sl-anchor-link" href="#4-ide--插件里的代办人"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “4) IDE / 插件里的“代办人””</span></a></div>
<ul>
<li><strong>诉求</strong>：把 IDE 里的审批弹窗交给一个 GUI 代理或 Slack Bot，让同事点“允许”。</li>
<li><strong>做法</strong>：MCP 工具弹出 GUI 或发 Slack 卡片，点击后回传 <code dir="auto">allow/deny</code>。</li>
<li><strong>安全补充</strong>：MCP 服务器要可信、可审计，符合团队安全策略。**</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="工作原理官方机制落地翻译">工作原理（官方机制落地翻译）</h2><a class="sl-anchor-link" href="#工作原理官方机制落地翻译"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “工作原理（官方机制落地翻译）”</span></a></div>
<ul>
<li>
<p><strong>优先级</strong>：先检查 settings.json 与命令行的 <code dir="auto">--allowedTools / --disallowedTools</code>。能决策就直接放行或拒绝；否则再调用你传入的 MCP 工具。**</p>
</li>
<li>
<p><strong>返回格式（必须 JSON 字符串）</strong>：</p>
<ul>
<li>
<p>允许：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#7FDBCA;--1:#096E72">"behavior"</span><span style="--0:#D6DEEB;--1:#403F53">:</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">allow</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span><span style="--0:#7FDBCA;--1:#096E72">"updatedInput"</span><span style="--0:#D6DEEB;--1:#403F53">:{</span><span style="--0:#FFFFFF;--1:#984E4D">...</span><span style="--0:#D6DEEB;--1:#403F53">}}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{&#x22;behavior&#x22;:&#x22;allow&#x22;,&#x22;updatedInput&#x22;:{...}}"><div></div></button></div></figure></div>
</li>
<li>
<p>拒绝：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span><span style="--0:#7FDBCA;--1:#096E72">"behavior"</span><span style="--0:#D6DEEB;--1:#403F53">:</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">deny</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span><span style="--0:#7FDBCA;--1:#096E72">"message"</span><span style="--0:#D6DEEB;--1:#403F53">:</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">...</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{&#x22;behavior&#x22;:&#x22;deny&#x22;,&#x22;message&#x22;:&#x22;...&#x22;}"><div></div></button></div></figure></div>
</li>
<li>
<p><code dir="auto">updatedInput</code> 可把人机协作后的新输入回传给模型（比如人工修改过的 diff）。**</p>
</li>
</ul>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="最小可用范例mcp-工具">最小可用范例（MCP 工具）</h2><a class="sl-anchor-link" href="#最小可用范例mcp-工具"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “最小可用范例（MCP 工具）”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="typescript-版本概念示例">TypeScript 版本（概念示例）</h3><a class="sl-anchor-link" href="#typescript-版本概念示例"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “TypeScript 版本（概念示例）”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="ts"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">server</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#7FDBCA;--1:#096E72">new</span><span style="--0:#C792EA;--1:#8844AE"> </span><span style="--0:#82AAFF;--1:#3B61B0">McpServer</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">{ name:</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">sec-approval</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C792EA;--1:#8844AE">, version:</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">0.0.1</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C792EA;--1:#8844AE"> }</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">server</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">tool</span><span style="--0:#D6DEEB;--1:#403F53">(</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">approval_prompt</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Return allow/deny for tool use</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{ tool_name: z</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">string</span><span style="--0:#D6DEEB;--1:#403F53">(), input: z</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">object</span><span style="--0:#D6DEEB;--1:#403F53">({})</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">passthrough</span><span style="--0:#D6DEEB;--1:#403F53">() },</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C792EA;--1:#8844AE">async</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--1:#403F53"><span style="--0:#D6DEEB">{ </span><span style="--0:#D7DBE0">tool_name</span><span style="--0:#D6DEEB">, </span><span style="--0:#D7DBE0">input</span><span style="--0:#D6DEEB"> }</span></span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">=></span><span style="--0:#D6DEEB;--1:#403F53"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">allow</span><span style="--0:#C792EA;--1:#8844AE"> = await </span><span style="--0:#82AAFF;--1:#3B61B0">riskCheck</span><span style="--0:#D6DEEB;--1:#403F53">(tool_name</span><span style="--0:#C792EA;--1:#8844AE">, </span><span style="--0:#D6DEEB;--1:#403F53">input); </span><span style="--0:#919F9F;--1:#5D6376">// 你的风控逻辑</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">const </span><span style="--0:#82AAFF;--1:#3B61B0">payload</span><span style="--0:#C792EA;--1:#8844AE"> = </span><span style="--0:#D6DEEB;--1:#403F53">allow</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8844AE">?</span><span style="--0:#D6DEEB;--1:#403F53"> { behavior: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">allow</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, updatedInput: input }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#C792EA;--1:#8844AE">:</span><span style="--0:#D6DEEB;--1:#403F53"> { behavior: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">deny</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, message: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Policy denied by SEC team</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> };</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> { content: [{ type: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">text</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, text: </span><span style="--0:#82AAFF;--1:#3B61B0">JSON</span><span style="--0:#C792EA;--1:#8844AE">.</span><span style="--0:#82AAFF;--1:#3B61B0">stringify</span><span style="--0:#D6DEEB;--1:#403F53">(payload) }] };</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">);</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="const server = new McpServer({ name:&#x22;sec-approval&#x22;, version:&#x22;0.0.1&#x22; });server.tool(  &#x22;approval_prompt&#x22;,  &#x22;Return allow/deny for tool use&#x22;,  { tool_name: z.string(), input: z.object({}).passthrough() },  async ({ tool_name, input }) => {    const allow = await riskCheck(tool_name, input); // 你的风控逻辑    const payload = allow      ? { behavior: &#x22;allow&#x22;, updatedInput: input }      : { behavior: &#x22;deny&#x22;, message: &#x22;Policy denied by SEC team&#x22; };    return { content: [{ type: &#x22;text&#x22;, text: JSON.stringify(payload) }] };  });"><div></div></button></div></figure></div>
<p><strong>启动：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">migrate configs safely</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Read,Grep</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--disallowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(rm*),Write</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--mcp-config</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">security-tools.json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-prompt-tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">mcp__sec-approval__approval_prompt</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;migrate configs safely&#x22; \  --allowedTools &#x22;Read,Grep&#x22; \  --disallowedTools &#x22;Bash(rm*),Write&#x22; \  --mcp-config security-tools.json \  --permission-prompt-tool mcp__sec-approval__approval_prompt"><div></div></button></div></figure></div>
<blockquote>
<p>Headless + CLI 的用法与参数对照见官方文档。**</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="python-版本概念示例">Python 版本（概念示例）</h3><a class="sl-anchor-link" href="#python-版本概念示例"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Python 版本（概念示例）”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="python"><code><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">async</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">def</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">approval_prompt</span><span style="--0:#D9F5DD;--1:#111111">(</span><span style="--0:#7FDBCA;--1:#096E72">tool_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">str</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#7FDBCA;--1:#096E72">input</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">dict</span><span style="--0:#D9F5DD;--1:#111111">)</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">ok </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#B2CCD6;--1:#096E72">policy_match</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">tool_name</span><span style="--0:#D9F5DD;--1:#111111">,</span><span style="--1:#3B61B0"><span style="--0:#82AAFF"> </span><span style="--0:#C5E478">input</span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> ok:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> json.</span><span style="--0:#B2CCD6;--1:#096E72">dumps</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">{</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">behavior</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">:</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">allow</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">,</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">updatedInput</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--1:#3B61B0"><span style="--0:#82AAFF">:</span><span style="--0:#C5E478">input</span><span style="--0:#82AAFF">}</span></span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> json.</span><span style="--0:#B2CCD6;--1:#096E72">dumps</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#82AAFF;--1:#3B61B0">{</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">behavior</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">:</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">deny</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">,</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">message</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#82AAFF;--1:#3B61B0">:</span><span style="--0:#C792EA;--1:#8844AE">f</span><span style="--0:#ECC48D;--1:#984E4D">"Denied </span><span style="--0:#82AAFF;--1:#3B61B0">{tool_name}</span><span style="--0:#ECC48D;--1:#984E4D">"</span><span style="--0:#82AAFF;--1:#3B61B0">}</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="async def approval_prompt(tool_name: str, input: dict):    ok = policy_match(tool_name, input)    if ok:        return json.dumps({&#x22;behavior&#x22;:&#x22;allow&#x22;,&#x22;updatedInput&#x22;:input})    return json.dumps({&#x22;behavior&#x22;:&#x22;deny&#x22;,&#x22;message&#x22;:f&#x22;Denied {tool_name}&#x22;})"><div></div></button></div></figure></div>
<blockquote>
<p>官方 SDK 文档也给出了 Python/TS 的结构与字段要求。**</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="和直接跳过权限的区别">和「直接跳过权限」的区别</h2><a class="sl-anchor-link" href="#和直接跳过权限的区别"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “和「直接跳过权限」的区别”</span></a></div>
<ul>
<li><code dir="auto">--dangerously-skip-permissions</code>：<strong>粗暴</strong>跳过所有提示，官方明确“谨慎使用”。**</li>
<li><code dir="auto">--permission-prompt-tool</code>：<strong>可控</strong>、<strong>可审计</strong>、<strong>可扩展</strong>，符合企业安全与合规。还能按目录/命令做细粒度规则，如 <code dir="auto">Bash(npm run test:*)</code>、<code dir="auto">Edit(docs/**)</code>。**</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="最佳实践清单企业可直接落地">最佳实践清单（企业可直接落地）</h2><a class="sl-anchor-link" href="#最佳实践清单企业可直接落地"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “最佳实践清单（企业可直接落地）”</span></a></div>
<ol>
<li>
<p><strong>三层权限</strong>：
<strong>静态规则优先</strong>（settings/allowed/disallowed）→ <strong>MCP 代理兜底</strong> → <strong>默认拒绝</strong>。**</p>
</li>
<li>
<p><strong>MCP 白名单</strong>：
仅连接<strong>受信任</strong>的 MCP 服务器，并通过仓库内的配置纳管。**</p>
</li>
<li>
<p><strong>细粒度匹配</strong>：
用 <code dir="auto">Bash(…)</code>、<code dir="auto">Edit(…)</code>、<code dir="auto">mcp__server</code>、<code dir="auto">mcp__server__tool</code> 做精确授权；<strong>MCP 不支持通配符</strong>。**</p>
</li>
<li>
<p><strong>审计与回放</strong>：
在权限代理里落日志、打审计标签，配合 <code dir="auto">--output-format json</code> 保存流水。**</p>
</li>
<li>
<p><strong>风险隔离</strong>：
可在容器/DevContainer里运行，减少误操作影响面。**</p>
</li>
</ol>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="常见坑位与规避">常见坑位与规避</h2><a class="sl-anchor-link" href="#常见坑位与规避"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “常见坑位与规避”</span></a></div>
<ul>
<li><strong>工具名写法不对</strong>：MCP 名称是 <code dir="auto">mcp__&#x3C;server>__&#x3C;tool></code>，只写 <code dir="auto">mcp__&#x3C;server></code> 代表允许该服务器<strong>所有</strong>工具。通配符不支持。**</li>
<li><strong>在交互模式里期望它也弹</strong>：该开关主要用于 <code dir="auto">--print</code> 的非交互模式。**</li>
<li><strong>把它当万能钥匙</strong>：基础权限请放在 settings / allowed / disallowed 里，<strong>减少调用次数</strong>与网络风险。**</li>
<li><strong>忽视 MCP 安全</strong>：第三方服务器要审慎评估、最小权限接入。**</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="速查卡复制即用">速查卡（复制即用）</h2><a class="sl-anchor-link" href="#速查卡复制即用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “速查卡（复制即用）”</span></a></div>
<p><strong>允许常用只读 + 拒绝危险命令 + 权限代理兜底</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">refactor and open PR</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Read,Grep,LS</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--disallowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(rm*),Write</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--mcp-config</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">team-mcp.json</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-prompt-tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">mcp__approver__prompt</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--output-format</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">json</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;refactor and open PR&#x22; \  --allowedTools &#x22;Read,Grep,LS&#x22; \  --disallowedTools &#x22;Bash(rm*),Write&#x22; \  --mcp-config team-mcp.json \  --permission-prompt-tool mcp__approver__prompt \  --output-format json"><div></div></button></div></figure></div>
<p><strong>按命令粒度放行</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">run tests</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--allowedTools</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Bash(npm run test:*),Read</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">--permission-prompt-tool</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">mcp__approver__prompt</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="claude -p &#x22;run tests&#x22; \  --allowedTools &#x22;Bash(npm run test:*),Read&#x22; \  --permission-prompt-tool mcp__approver__prompt"><div></div></button></div></figure></div>
<blockquote>
<p>以上参数与权限模式、工具匹配写法，均见官方 CLI / IAM / Headless 文档。**</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p><code dir="auto">--permission-prompt-tool</code> 不是单个开关，而是**企业级“权限中台”**接口。
你可以把风险判断、人工审批、操作留痕，全部塞进一个 MCP 工具里。
<strong>自动化不必冒险，效率与安全两手都要硬。</strong></p>
<p><strong>你觉得这样的权限设计，够满足你们的合规要求吗？</strong>
欢迎在评论区聊聊你想怎么接 Slack/飞书/工单系统做“点一下才放行”。</p>
<!-- 
---

## 参考与延伸阅读

* CLI 参考：`--permission-prompt-tool` 用途与示例。**
* SDK Headless：非交互模式参数与用法对照。**
* SDK（中文）：权限检查顺序、返回 JSON 结构、示例命令。**
* IAM：工具级精确授权规则写法。**
* 安全实践：MCP 安全、默认只读、网络请求审批等。**
* MCP 能力概览与常见服务器：可连接第三方工具的清单与风险提示。**

---

# 生成推荐标题（3 组 × 7 语种 + slug）

1.

* **简体**：把权限外包给安全代理：`--permission-prompt-tool` 实战指南
* **English**: Outsource Permissions to a Secure Agent: A Hands-On Guide to `--permission-prompt-tool`
* **繁體**：把權限外包給安全代理：`--permission-prompt-tool` 實戰指南
* **日本語**：権限を安全エージェントに委任：`--permission-prompt-tool` 実践ガイド
* **Français** : Déléguer les permissions à un agent sécurisé : guide pratique de `--permission-prompt-tool`
* **Español**: Externaliza permisos a un agente seguro: guía práctica de `--permission-prompt-tool`
* **Português**: Tercerize permissões para um agente seguro: guia prático do `--permission-prompt-tool`
* **slug**：`outsourcing-permissions-with-claude-code-permission-prompt-tool`

2.

* **简体**：CI/CD 不再被权限打断：`--permission-prompt-tool` 4 大场景
* **English**: No More Permission Pop-ups in CI/CD: 4 Prime Uses of `--permission-prompt-tool`
* **繁體**：CI/CD 不再被權限打斷：`--permission-prompt-tool` 四大場景
* **日本語**：CI/CDで権限ポップアップを撲滅：`--permission-prompt-tool` 4つの使いどころ
* **Français** : Fin des pop-ups de permission en CI/CD : 4 usages clés de `--permission-prompt-tool`
* **Español**: Adiós a los permisos en CI/CD: 4 usos clave de `--permission-prompt-tool`
* **Português**: Chega de prompts na CI/CD: 4 usos-chave de `--permission-prompt-tool`
* **slug**：`permission-prompt-tool-in-cicd-four-use-cases`

3.

* **简体**：自动化也要可审计：用 MCP 审批 `--permission-prompt-tool`
* **English**: Automation with Audit Trails: MCP-Backed `--permission-prompt-tool`
* **繁體**：自動化也要可稽核：用 MCP 審批 `--permission-prompt-tool`
* **日本語**：監査可能な自動化：MCP連携の `--permission-prompt-tool`
* **Français** : Automatisation traçable : `--permission-prompt-tool` avec MCP
* **Español**: Automatización trazable: `--permission-prompt-tool` con MCP
* **Português**: Automação rastreável: `--permission-prompt-tool` com MCP
* **slug**：`auditable-automation-with-mcp-permission-prompt-tool`

---

# 配图生成（插画式，2:1，比例；**内暂时不要显示中文**）

## 封面图 Prompt

* *“An illustration of a developer delegating permission decisions to a small friendly ‘security agent’ octopus holding APPROVE/DENY signs, pipelines and servers around, clean pastel palette, minimal lines, 2:1 ratio, no text.”*

## 关键章节配图 Prompts

1. **权限顺序机制**

* *“A three-layer flow diagram: static rules (settings/allowlist/denylist) → MCP gateway → final action, with subtle arrows and lock icons, 2:1, illustration, no text.”*

2. **CI/CD 场景**

* *“Assembly line style CI/CD pipeline, a robot arm asking a security kiosk for approval before passing to deploy, warm minimal illustration, 2:1, no text.”*

3. **IDE/GUI 代理**

* *“A laptop IDE window, a pop-up ‘agent’ character handing a green ticket to the tool runner, modern flat illustration, 2:1, no text.”*

---

# 圈友评论（3 条，口语化）

1. “这个太实用了！CI 一跑就卡权限的老毛病，终于有体面解法了，今晚就接 Slack 审批试下～”
2. “不敢开跳过权限，这个代理兜底太香了。自动化跟合规，鱼和熊掌都要！”
3. “写得清楚，抄命令就能跑。哪位同学做个飞书审批的 MCP 模板分享下？”

---

需要我把 **settings.json 模板 + 最小 MCP 服务器** 打包成一套 Demo 给你吗？或者把文章扩写成“企业落地手册版”？

[1]: https://docs.anthropic.com/en/docs/claude-code/cli-reference "CLI reference - Anthropic"
[2]: https://docs.anthropic.com/zh-CN/docs/claude-code/sdk "Claude Code SDK - Anthropic"
[3]: https://docs.anthropic.com/en/docs/claude-code/sdk/sdk-headless "Headless mode - Anthropic"
[4]: https://docs.anthropic.com/en/docs/claude-code/iam "Identity and Access Management - Anthropic"
[5]: https://docs.anthropic.com/en/docs/claude-code/security "Security - Anthropic"
[6]: https://docs.anthropic.com/en/docs/claude-code/mcp "Connect Claude Code to tools via MCP - Anthropic" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/management/2025-08-27-claude-code-vibe-coding-users/" class="astro-dr56dw7m">Claude Code 值得谁用？不同角色眼中的 Claude Code：Vibe Coding 体验与应用场景分析</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-27T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月27日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Claude Code 值得谁用？不同角色眼中的 Claude Code：Vibe Coding 体验与应用场景分析 -->
<p>近年来 AI 编程助手层出不穷，其中 Anthropic 的 <strong>Claude Code</strong>（简称 CC）以“终端里的智能编程工具”定位引发关注。</p>
<p>所谓 <strong>Vibe Coding</strong>，指的是借助这类 AI 工具快速把脑海中的想法转化为代码，实现一种高速迭代、灵感驱动的编程体验。</p>
<p>本文通过调研不同类型用户对 CC 的使用反馈，分析这些现象背后的原因，并总结 Claude Code 在 Vibe Coding 场景下的最佳用例。<br>
同时，我们也将 CC 与其他同类工具（如 Cursor、GitHub Copilot、OpenAI Codex CLI、Cursor CLI、Google Gemini CLI 等）进行对比，看看各自的优劣与适用场景。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="不同人群的-claude-code-使用体验">不同人群的 Claude Code 使用体验</h2><a class="sl-anchor-link" href="#不同人群的-claude-code-使用体验"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “不同人群的 Claude Code 使用体验”</span></a></div>
<p>不同背景的用户在使用 CC 进行 Vibe Coding 时感受差异明显：</p>
<div class="sl-heading-wrapper level-h3"><h3 id="1-零编程基础的用户举步维艰">1. 零编程基础的用户：举步维艰</h3><a class="sl-anchor-link" href="#1-零编程基础的用户举步维艰"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1. 零编程基础的用户：举步维艰”</span></a></div>
<ul>
<li>Claude Code 并非“一键生成应用”的万能神器。它要求用户能用自然语言清晰描述需求，才能据此**“制定计划、编写代码并确保其正常工作”**</li>
<li>完全不懂代码的人难以提供有效的指令，也无法判断生成代码的对错，因而“基本玩不转”。</li>
<li>CC 主要在终端中运行，需要一定的开发环境和命令行经验，这对小白来说门槛不低。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="2-资深架构师持保留态度">2. 资深架构师：持保留态度</h3><a class="sl-anchor-link" href="#2-资深架构师持保留态度"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2. 资深架构师：持保留态度”</span></a></div>
<ul>
<li>这类用户认为 CC 的价值**“有限”**，自行编写代码更安心可靠。</li>
<li>CC 虽能用于“调试和修复问题”，通过分析代码库找 bug 并补丁，但实际效果仍需人工审核。</li>
<li>其权限机制每一步都需用户批准（可开启 <em>Yolo 模式</em> 跳过确认），反而显得低效。</li>
<li>CC 仍处于测试阶段，不够稳定</li>
<li>因此资深开发者更愿意将其作为辅助，而不会完全依赖。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="3-技术型-pm--ceo如获新助力">3. 技术型 PM / CEO：如获新助力</h3><a class="sl-anchor-link" href="#3-技术型-pm--ceo如获新助力"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3. 技术型 PM / CEO：如获新助力”</span></a></div>
<ul>
<li>相比之下，PM、创业者和 CEO 则称其为“终于能快速落地脑中点子的神器”。</li>
<li>许多**“不好意思请团队做”**的创意，现在能用 CC 自行尝试实现，例如：
<ul>
<li>个性化信息流应用</li>
<li>笔记工具</li>
<li>Apple Watch 数据解析小 App</li>
<li>个人网站</li>
</ul>
</li>
<li>在企业内部，CTO 们用 CC 为旧系统做 LLM 改造，嵌入智能客服或推荐系统。</li>
<li>Intercom 的案例：Claude Code <strong>“让我们能够构建之前没有精力顾及的应用—from AI 数据标注工具到销售团队用的 ROI 计算器”</strong>。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="claude-code-在内部系统集成中的应用">Claude Code 在内部系统集成中的应用</h2><a class="sl-anchor-link" href="#claude-code-在内部系统集成中的应用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Claude Code 在内部系统集成中的应用”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="-快速集成异构系统">⚡ 快速集成异构系统</h3><a class="sl-anchor-link" href="#-快速集成异构系统"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “⚡ 快速集成异构系统”</span></a></div>
<ul>
<li>
<p>CC 擅长**“自动化繁琐任务”**，如修复 lint、解决合并冲突、生成发布说明</p>
</li>
<li>
<p>能快速生成 API、数据库、文件系统的整合代码，试验效率高。</p>
</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="-为旧系统注入-llm-智能">🤖 为旧系统注入 LLM 智能</h3><a class="sl-anchor-link" href="#-为旧系统注入-llm-智能"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “🤖 为旧系统注入 LLM 智能”</span></a></div>
<ul>
<li>可快速生成接入 LLM 的接口代码，把自然语言能力封装进现有系统。</li>
<li>例如：内部知识库对话机器人、CRM 智能推荐模块。</li>
<li>CC 能**“保持对整个项目结构的感知”，甚至通过 MCP 拉取 Google Drive、Figma、Slack 数据**</li>
</ul>
<p>👉 <strong>定位：加速器，而非完整替代品</strong>。最终仍需结合监控测试与成熟架构打磨。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="claude-code-推广面临的挑战">Claude Code 推广面临的挑战</h2><a class="sl-anchor-link" href="#claude-code-推广面临的挑战"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Claude Code 推广面临的挑战”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1-可靠性不足">1. 可靠性不足</h3><a class="sl-anchor-link" href="#1-可靠性不足"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1. 可靠性不足”</span></a></div>
<ul>
<li>
<p>LLM 属于概率预测，难保证每次结果准确。</p>
</li>
<li>
<p>在全局变量重命名等任务上，<strong>“让 IDE 自带的重构功能来做更靠谱”</strong></p>
</li>
<li>
<p>社区反馈：CC 在 Swift/iOS 的表现不如前端</p>
</li>
<li>
<p>总体而言：适合作为<strong>辅助工具</strong>，不适合完全自动化生成商业级软件。</p>
</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="2-成本高昂">2. 成本高昂</h3><a class="sl-anchor-link" href="#2-成本高昂"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2. 成本高昂”</span></a></div>
<ul>
<li>
<p>个人订阅尚可，但企业级使用成本过高。</p>
</li>
<li>
<p>官方数据：平均每人每天 ~$6，美金，团队使用 Sonnet 4 模型人均月费可达 $100～200</p>
</li>
<li>
<p>定价模式：Pro ~$17/月，Max 最高 $200/月</p>
</li>
<li>
<p><strong>结论</strong>：个人开发没问题，但做产品/服务时，API 成本难以承受。</p>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="claude-code-适合的-vibe-coding-使用场景">Claude Code 适合的 Vibe Coding 使用场景</h2><a class="sl-anchor-link" href="#claude-code-适合的-vibe-coding-使用场景"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Claude Code 适合的 Vibe Coding 使用场景”</span></a></div>
<ul>
<li>
<p><strong>创意原型 &#x26; 个人项目</strong>：快速搭建小型应用、算法原型或验证脚本。</p>
<ul>
<li>可在数分钟内生成数百行代码</li>
</ul>
</li>
<li>
<p><strong>复杂代码库理解与重构</strong>：分析逻辑、绘制架构图、提出全局改造方案</p>
</li>
<li>
<p><strong>日常开发提效 &#x26; 自动化</strong>：自动生成测试/文档、修正格式、从 Issue 到完整补丁提交</p>
</li>
</ul>
<p>👉 最佳实践：<strong>“人 + AI 协作”</strong>。人把控方向，AI 提速执行。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="与其他-ai-编程助手的比较">与其他 AI 编程助手的比较</h2><a class="sl-anchor-link" href="#与其他-ai-编程助手的比较"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “与其他 AI 编程助手的比较”</span></a></div>















































<table><thead><tr><th>工具</th><th>特点</th><th>优势场景</th><th>局限</th></tr></thead><tbody><tr><td><strong>Claude Code</strong></td><td>终端智能代理，复杂推理</td><td>深度调试、大型代码库、创意原型</td><td>成本高，可靠性不足</td></tr><tr><td><strong>GitHub Copilot</strong></td><td>IDE 插件，代码补全</td><td>日常小步编码</td><td>不能全局规划，难支持 0→1 开发</td></tr><tr><td><strong>Cursor 编辑器</strong></td><td>VS Code 增强版</td><td>IDE 用户友好，前端开发</td><td>Agent 模式笨重，稳定性一般</td></tr><tr><td><strong>Cursor CLI</strong></td><td>命令行版，跨模型</td><td>灵活，支持 Anthropic/OpenAI/Google</td><td>Beta 阶段，稳定性不足</td></tr><tr><td><strong>OpenAI Codex CLI</strong></td><td>终端 AI 代理，多模态</td><td>调试、自动执行、开源灵活</td><td>尚在演进，代码质量略逊</td></tr><tr><td><strong>Google Gemini CLI</strong></td><td>免费开源，百万 Token</td><td>大项目、低预算、广泛任务</td><td>社区未成熟，推理深度略弱</td></tr></tbody></table>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="总结与建议">总结与建议</h2><a class="sl-anchor-link" href="#总结与建议"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “总结与建议”</span></a></div>
<ul>
<li><strong>适合人群</strong>：
<ul>
<li>有一定技术背景的 <strong>PM / CEO / 创业者</strong>：快速落地创意。</li>
<li><strong>开发团队</strong>：内部集成、实验 LLM 化。</li>
</ul>
</li>
<li><strong>不太适合</strong>：
<ul>
<li>完全零基础用户（门槛太高）。</li>
<li>对稳定性和精度要求极高的资深架构师（更适合当辅助）。</li>
</ul>
</li>
</ul>
<p>Claude Code 并非万能，但在 Vibe Coding 的舞台上，它让更多点子能从脑海走向现实。未来谁能在成本与可靠性上找到平衡，谁就可能成为这场 <strong>AI 开发力革命</strong> 的最大赢家。</p>
<hr> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/vibe-coding/" class="astro-sg3lsd66">Vibe Coding</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/cursor/" class="astro-sg3lsd66">Cursor</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/github-copilot/" class="astro-sg3lsd66">GitHub Copilot</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/openai-codex-cli/" class="astro-sg3lsd66">OpenAI Codex CLI</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/cursor-cli/" class="astro-sg3lsd66">Cursor CLI</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/google-gemini-cli/" class="astro-sg3lsd66">Google Gemini CLI</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/management/2025-08-27-stop-arguing-ship-with-claude-code/" class="astro-dr56dw7m">没必要争论 Claude Code：应该把团队的分歧变成协作</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-27T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月27日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 没必要争论 Claude Code：应该把团队的分歧变成协作 -->
<blockquote>
<p>Claude Code 正把“少写代码、多做事”的老趋势推到极致。<strong>写代码只是工程的一小部分</strong>，而<strong>对话与协作</strong>能让“门外汉”和工程师把 Unknown Unknowns 变成 Known Unknowns，真正把 Claude Code 用出生产力。</p>
</blockquote>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/management/collaboration.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言为什么会吵起来">引言｜为什么会吵起来？</h2><a class="sl-anchor-link" href="#引言为什么会吵起来"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言｜为什么会吵起来？”</span></a></div>
<p>最近一条讨论火了：有人说 LLM 让“门外汉”也能上手写点软件；专业工程师反驳：<strong>软件工程不是只写代码</strong>，更重要是需求、架构、集成与长期维护。两边都没错，只是<strong>站位不同</strong>。这场争论的背后，其实是行业几十年来少写代码”的一条主线**，而 Claude Code 正把它推向下一阶段。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一这波变化并不突兀">一、这波变化，并不突兀</h2><a class="sl-anchor-link" href="#一这波变化并不突兀"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一、这波变化，并不突兀”</span></a></div>
<p><strong>软件圈一直在减少机械劳动：</strong></p>
<ul>
<li><strong>Rails 脚手架</strong>：一条命令生成 MVC，原型飞快起步。</li>
<li><strong>Protocol Buffers</strong>：跨语言高效通信，少写重复序列化代码。</li>
<li><strong>Scala implicits / given</strong>：用类型系统消除样板，减少胶水代码。</li>
</ul>
<p><strong>LLM 只是这条路的延长线</strong>：让我们<strong>写更少的代码、完成更多工作</strong>。但“工程”的部分从没消失。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="二claude-code-到底改变了什么">二、Claude Code 到底改变了什么？</h2><a class="sl-anchor-link" href="#二claude-code-到底改变了什么"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “二、Claude Code 到底改变了什么？”</span></a></div>
<ul>
<li><strong>在终端工作，不是另一个聊天窗</strong>；</li>
<li><strong>会直接动手</strong>：编辑文件、运行命令、创建 commit；</li>
<li><strong>能接入外部系统</strong>（MCP 读设计文档、改 Jira、使用自定义工具）。</li>
</ul>
<p>而且它还把自动化<strong>搬进 CI/CD</strong>：GitHub Actions 支持在 PR/Issue 里 @claude，自动做代码审查、开分支、提修复。</p>
<p>更现实的是，<strong>企业版推广</strong>正在发生——团队可以分配 Claude/Claude Code 的标准或高级席位，集中管理与度量。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="三为什么门外汉感觉特别爽">三、为什么“门外汉”感觉特别爽？</h2><a class="sl-anchor-link" href="#三为什么门外汉感觉特别爽"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “三、为什么“门外汉”感觉特别爽？”</span></a></div>
<p>因为这次 AI 真的给了非工程师一个<strong>可用的接口</strong>：</p>
<ul>
<li>PM 能用自然语言<strong>拉起原型</strong>，更早发现歧义；</li>
<li>运营、设计能<strong>直接改小功能/写脚本</strong>，不必层层排期。</li>
</ul>
<p>媒体也在观察这一趋势——<strong>“Vibe Coding”</strong> 的讨论升温，Notion 等公司实践“<strong>对着 AI 编程</strong>”，记者亲身去“配对编程”，两天就能改 UI 小功能、做小特性。</p>
<p>“Vibe Coding”一词最早在 2025 年初走红，被总结为<strong>更靠近意图、少盯代码</strong>的开发范式。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="四工程师在担心什么">四、工程师在担心什么？</h2><a class="sl-anchor-link" href="#四工程师在担心什么"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “四、工程师在担心什么？”</span></a></div>
<p><strong>长期性与可控性</strong>：</p>
<ul>
<li>架构边界、数据契约、性能预算、可观测性……这些都不是“写两段代码”能解决的。</li>
<li><strong>测试与验收</strong>需要明确化。比如用 <strong>Cucumber/Gherkin</strong> 把业务语言写成可执行验收用例，团队都看得懂，也方便让 AI 参与生成与维护。</li>
</ul>
<p>换句话说：<strong>AI 能帮我们少写代码，但工程的“组织与约束”必须更强。</strong></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="五两类常见误解来自那条讨论">五、两类常见误解（来自那条讨论）</h2><a class="sl-anchor-link" href="#五两类常见误解来自那条讨论"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “五、两类常见误解（来自那条讨论）”</span></a></div>
<ol>
<li><strong>把编程当成“写代码”本身</strong>；</li>
<li><strong>以为自己借助 AI 拼出来的小应用，就代表了行业软件形态，因此行业会被替代</strong>。</li>
</ol>
<p>这两点，在初级程序员身上也常见。<strong>经验会让人明白：软件工程的核心，是“工程”。</strong></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="六别吵了来一套协作剧本">六、别吵了，来一套“协作剧本”</h2><a class="sl-anchor-link" href="#六别吵了来一套协作剧本"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “六、别吵了，来一套“协作剧本””</span></a></div>
<p><strong>目标</strong>：把 Unknown Unknowns 变成 Known Unknowns。下面这套最小闭环，团队今天就能落地。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="1-用共同语言定边界">1) 用“共同语言”定边界</h3><a class="sl-anchor-link" href="#1-用共同语言定边界"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1) 用“共同语言”定边界”</span></a></div>
<ul>
<li><strong>写 5 条 Gherkin 验收</strong>（Feature / Scenario），由 PM/业务主笔，工程师把关可测性；</li>
<li>让 Claude Code <strong>读这些 .feature</strong>，生成最小实现草稿与测试骨架。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="2-用-claude-code-起步而非定稿">2) 用 Claude Code 起步而非定稿</h3><a class="sl-anchor-link" href="#2-用-claude-code-起步而非定稿"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2) 用 Claude Code 起步而非定稿”</span></a></div>
<ul>
<li>让它<strong>生成原型与改动 PR</strong>，但把<strong>合并权</strong>放在负责人手里；</li>
<li>对关键模块加“<strong>守门规则</strong>”：必须过基准测试/性能预算才可合并。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="3-把自动化塞进-ci">3) 把自动化塞进 CI</h3><a class="sl-anchor-link" href="#3-把自动化塞进-ci"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3) 把自动化塞进 CI”</span></a></div>
<ul>
<li>在 GitHub Actions 配置：<strong>新 Issue/失败的 CI/特定标签</strong> 自动触发 @claude 建议或修复；</li>
<li>让它写<strong>风险说明</strong>与<strong>回滚方案</strong>模版，减少合并焦虑。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="4-数据与文档一体化">4) 数据与文档一体化</h3><a class="sl-anchor-link" href="#4-数据与文档一体化"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “4) 数据与文档一体化”</span></a></div>
<ul>
<li>通过 MCP 让 Claude 读取<strong>设计文档与技术决策记录（ADR）</strong>；</li>
<li>PR 必须同步更新 ADR/接口契约（Proto/JSON Schema），<strong>“代码-契约-测试”三件套</strong>保持一致。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="5-持续复盘">5) 持续复盘</h3><a class="sl-anchor-link" href="#5-持续复盘"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “5) 持续复盘”</span></a></div>
<ul>
<li>每周一次<strong>人机联席 Code Review</strong>：列出“AI 盲点清单”；</li>
<li>对“AI 贡献的变更”单独看<strong>故障率与回滚率</strong>，用数据决定使用边界。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语对话--争论">结语｜对话 > 争论</h2><a class="sl-anchor-link" href="#结语对话--争论"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语｜对话 > 争论”</span></a></div>
<p>让“门外汉”参与，是<strong>好事</strong>：他们更靠近业务，更敢于从 0 到 1。让工程师主导“边界与约束”，是<strong>必要</strong>：系统才跑得久、跑得稳。<strong>吵不出结论，协作才能跑通闭环。</strong></p>
<blockquote>
<p><strong>下一步</strong>：把你们产品里一个 3～5 天的小需求，按上面“协作剧本”走一遍。做完复盘，再决定 Claude Code 的“开闸力度”。</p>
</blockquote>
<!-- 
---

## 配图建议（2:1 插画风，无中文）

1. **封面图**：
   “产品经理与工程师在终端前击掌，屏幕上有命令行、PR、Gherkin 场景卡片与 AI 小助手图标；暖色调科技插画，留白充足。”

2. **关键章节配图**：

* **“少写代码的历史”**：Rails 脚手架、Proto 契约、Scala given/implicit 三个图标沿时间轴。
* **“Claude Code 能力”**：终端界面 + 文件树 + Git 提交箭头 + Jira/Drive 小图标连接线。
* **“协作剧本”**：五步流程卡片（验收→原型→CI→契约→复盘），像看板一样串联。

---

## 互动

* **你觉得团队里，Claude Code 应该开到多大权限？为什么？**
* **有没有被 AI“坑过”的真实案例？你们后来怎么防的？**

---

## 多语言标题（3 组）

1.

* **简中**：**别吵了，用 Claude Code 开工吧：把“门外汉”与工程师变成一支队**
* **English**: Stop Arguing—Ship with Claude Code: Turn “Newcomers” and Engineers into One Team
* **繁中**：別吵了，用 Claude Code 開工吧：把「門外漢」與工程師變成一支隊
* **日本語**：議論はもうやめて、Claude Codeで出荷しよう。素人とエンジニアを“一つのチーム”に
* **Français** : Assez de débats — Livrez avec Claude Code : unissez “non-codeurs” et ingénieurs
* **Español**: Basta de discutir: entrega con Claude Code y une a “no técnicos” y a ingenieros
* **Português**: Chega de briga: entregue com Claude Code e una “não técnicos” e engenheiros
* **slug**: stop-arguing-ship-with-claude-code

2.

* **简中**：**写得少，做得多：Claude Code 如何把争论变成协作**
* **English**: Write Less, Ship More: How Claude Code Turns Debate into Collaboration
* **繁中**：寫得少，做得多：Claude Code 如何把爭論變成協作
* **日本語**：書く量を減らして成果を増やす：Claude Codeが“論争→協業”に変える方法
* **Français** : Écrire moins, livrer plus : Claude Code transforme les débats en collaborations
* **Español**: Escribe menos, entrega más: Claude Code convierte el debate en colaboración
* **Português**: Escreva menos, entregue mais: Claude Code transforma debate em colaboração
* **slug**: write-less-ship-more-claude-code

3.

* **简中**：**Vibe Coding 落地指南：把 Unknown Unknowns 变成 Known Unknowns**
* **English**: Vibe Coding Playbook: Turn Unknown Unknowns into Known Unknowns
* **繁中**：Vibe Coding 落地指南：把 Unknown Unknowns 變成 Known Unknowns
* **日本語**：Vibe Coding実践：Unknown UnknownsをKnown Unknownsへ
* **Français** : Guide Vibe Coding : transformer les inconnues inconnues en inconnues connues
* **Español**: Guía de Vibe Coding: de incógnitas desconocidas a incógnitas conocidas
* **Português**: Guia de Vibe Coding: do desconhecido-desconhecido ao conhecido-desconhecido
* **slug**: vibe-coding-playbook-unknowns

---

## 圈友评论文案（任选 3）

1. “这篇把**吵架的点**讲明白了：AI 不是替代工程，而是**放大协作**。收藏，准备照着跑一个小需求。”
2. “看完直接在项目里上了\*\*@claude + Gherkin\*\*，效率起飞。以后开会先写验收，再写代码。”
3. “**门外汉 x 工程师** 联手才是王炸。谁再吵替代与不替代，我就甩这篇。”

---

是否需要我把协作剧本”**细化成可复制的**GitHub Actions 模板 + Gherkin 示例\*\*，直接用于你们团队的下一个需求？

---

### 参考与延伸阅读

* X 上的讨论原帖，提出“工程 vs 写代码”的分歧与协作主张。
* Claude Code 能力与 MCP 扩展。
* GitHub Actions 集成与官方 Action。
* 企业席位与团队落地趋势报道。
* Vibe Coding 的走红与一线实践报道（Notion 案例、播客）。
* Cucumber/Gherkin：用自然语言写验收测试。
* “少写代码”的历史脉络：Rails 脚手架、Protobuf、Scala implicits。

- [WIRED](https://www.wired.com/story/why-did-a-10-billion-dollar-startup-let-me-vibe-code-for-them-and-why-did-i-love-it?utm_source=chatgpt.com)
- [WIRED](https://www.wired.com/story/uncanny-valley-podcast-how-to-become-a-vibe-coder?utm_source=chatgpt.com)
- [TechRadar](https://www.techradar.com/pro/anthropic-is-adding-claude-code-to-business-plans-so-now-all-your-workers-can-enjoy-a-major-ai-boost?utm_source=chatgpt.com)

[1]: https://x.com/beihuo/status/1960394306411487523?utm_source=chatgpt.com "首先要搞清楚我们正在经历的变化。 过去几十年，软件行业 ..."
[2]: https://guides.rubyonrails.org/v3.2/getting_started.html?utm_source=chatgpt.com "Getting Started with Rails"
[3]: https://protobuf.dev/overview/?utm_source=chatgpt.com "Overview | Protocol Buffers Documentation"
[4]: https://docs.scala-lang.org/scala3/book/ca-implicit-conversions.html?utm_source=chatgpt.com "Implicit Conversions | Scala 3 — Book"
[5]: https://docs.anthropic.com/en/docs/claude-code/overview?utm_source=chatgpt.com "Claude Code overview"
[6]: https://docs.anthropic.com/en/docs/claude-code/github-actions?utm_source=chatgpt.com "Claude Code GitHub Actions"
[7]: https://github.com/anthropics/claude-code-action?utm_source=chatgpt.com "anthropics/claude-code-action"
[8]: https://www.techradar.com/pro/anthropic-is-adding-claude-code-to-business-plans-so-now-all-your-workers-can-enjoy-a-major-ai-boost?utm_source=chatgpt.com "Anthropic is adding Claude Code to business plans - so now all your workers can enjoy a major AI boost"
[9]: https://www.wired.com/story/why-did-a-10-billion-dollar-startup-let-me-vibe-code-for-them-and-why-did-i-love-it?utm_source=chatgpt.com "Why Did a $10 Billion Startup Let Me Vibe-Code for Them-and Why Did I Love It?"
[10]: https://simonwillison.net/2025/Mar/19/vibe-coding/?utm_source=chatgpt.com "Not all AI-assisted programming is vibe coding ..."
[11]: https://ramp.com/blog/what-is-vibe-coding?utm_source=chatgpt.com "What Is Vibe Coding? Meaning & Where It Came From"
[12]: https://cucumber.io/?utm_source=chatgpt.com "Cucumber"
[13]: https://www.indeed.com/career-advice/career-development/cucumber-testing?utm_source=chatgpt.com "Cucumber Testing: What Is It and How Do You Use It?" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/finance/fed/2025-08-27-trump-fed-reform-market-fears/" class="astro-dr56dw7m">川普改造美联储：市场究竟担心什么？</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-27T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月27日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 川普“改造”美联储：市场究竟担心什么？ -->
<!-- 市场最看重的，是经济基本面和政策的效果，而不是政治风声本身。 -->
<p>美国总统川普近期不断挑动美联储的神经。一方面，他在公开场合要求美联储主席鲍威尔尽快降息，甚至扬言“鲍威尔越早走人越好”；另一方面，川普已经提名白宫经济顾问委员会主席斯蒂芬·米兰（Stephen Miran）出任美联储理事，并通过社交媒体宣布即刻罢免美联储理事丽莎·库克（Lisa Cook）。此种史无前例的连番举措立刻引发市场震荡：投资者抛售了美国股票、债券和美元，金价纷纷飙升；与此同时，美联储“独立性”受损的担忧不断升级。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="美联储独立性相对而非绝对">美联储“独立性”：相对而非绝对</h2><a class="sl-anchor-link" href="#美联储独立性相对而非绝对"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “美联储“独立性”：相对而非绝对”</span></a></div>
<p>严格来说，美联储的独立性是相对的、逐渐形成的制度安排。虽然如今我们习惯将美联储视为不受政府短期干预的“钢铁长城”，但历史上并非如此：美联储正式独立要到1951年才实现，而且直到1980年代沃尔克担任美联储主席时通过高利率遏制恶性通胀，美联储独立性的声誉才真正树立。分析指出，川普对美联储官员的持续攻击正成为数十年来对央行独立性最大的挑战——央行独立性一直被视作抑制通胀、维护全球金融稳定的关键。不过，观察人士认为，这次事件最终的影响还要看结果本身：只要美联储能继续维持经济稳定、控制好通胀，市场可能逐渐接受新的政策组合；一旦政策放松过度、出现通胀或债务危机，市场就会以加大风险溢价来作出惩罚。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="川普对美联储的连环出击">川普对美联储的“连环出击”</h2><a class="sl-anchor-link" href="#川普对美联储的连环出击"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “川普对美联储的“连环出击””</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="施压鲍威尔降息">施压鲍威尔降息</h3><a class="sl-anchor-link" href="#施压鲍威尔降息"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “施压鲍威尔降息”</span></a></div>
<p>今年4月，川普在社交媒体上再度向鲍威尔施压，要求美联储立即降息，并称“鲍威尔行动太慢，越早走人越好”。川普的这些言论令市场大为不安——报道称，投资者担心川普将解雇鲍威尔，纷纷抛售美国股票、美债和美元，导致市场短期剧烈波动。然而，鲍威尔本人也多次表态，美联储不会屈从政治压力，降息决策仍以抗通胀为主。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="提名亲信米兰">提名“亲信”米兰</h3><a class="sl-anchor-link" href="#提名亲信米兰"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “提名“亲信”米兰”</span></a></div>
<p>8月7日，川普正式提名斯蒂芬·米兰（Stephen Miran）出任美联储理事。米兰被认为是川普新一届政府贸易政策的重要策划者，在政策观点上偏鹰派，主张更迅速地降息刺激经济。分析称，此前川普在七人理事会中已有2位同调者，如果再成功补入米兰，川普阵营将可能掌控美联储理事会的多数席位。财政部长贝森特（Scott Bessent）在接受采访时也直言，川普将很快拥有美联储理事会多数席位，这“将改变美联储的话语权”。这意味着未来货币政策立场可能更加偏向川普的意愿。</p>
<div class="sl-heading-wrapper level-h3"><h3 id="解除理事库克">解除理事库克</h3><a class="sl-anchor-link" href="#解除理事库克"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “解除理事库克”</span></a></div>
<p>8月25日深夜，川普在其社交媒体上发布公开信，宣布“立即”撤销库克的美联储理事职务。库克是拜登提名的首位非洲裔美联储理事，按规定任期至2038年。川普信中指责库克在申请房贷时虚报住所等罪名，声称已有“充分理由”将其罢免。这是美联储百余年历史上首次有理事被总统罢免的先例，库克方面已表示将通过法律途径坚决抗争。分析人士指出，总统虽有权罢免Fed理事，但法律要求“正当理由”，不能仅凭政治分歧；换言之，即便此举引发宪法争议，最终成败仍可能通过司法程序决定。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="市场担忧避险情绪与实际风险">市场担忧：避险情绪与实际风险</h2><a class="sl-anchor-link" href="#市场担忧避险情绪与实际风险"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “市场担忧：避险情绪与实际风险”</span></a></div>
<p>川普上述动作令市场短期惊慌，但更深层的担忧在于：未来货币政策走向是否偏离其原本使命？投资者真正关心的，是美联储在新格局下能否继续控制通胀、保持经济增速，而不仅仅是“独立性”这一个口号。近期多家机构都提醒，若市场预期美联储降息过猛，反而会削弱央行抗通胀的公信力。事实上，当下美国仍处于高债务、潜在通胀风险下——关税政策可能抬高物价、财政赤字持续发行新债、再加上潜在的新一轮减税或刺激措施，都可能推高经济的中长期借贷成本。因此，即便短端政策利率下降，市场多有观点认为长期利率不降反升：投资者担忧，一旦美联储独立性受损、过度降息，大幅扩张性货币环境最终会推高通胀预期与债券收益率。正如一家投顾指出：“更廉价的资金会助推经济和美元走弱，但同时显著推高通胀”。</p>
<p>在债市上，这种担心尤为明显。近期2年期与30年期美债收益率之差已经跃升至2022年初以来高位，表明投资者一面看好短期政策放松、短端利率下行，一面担心长期通胀回升、要求更高溢价。汇率方面，8月底川普行动宣布后，美元指数也出现下跌。市场分析认为，只要美国仍旧位居全球领导地位，美元和美债作为储备资产的地位不会轻易动摇，但如果政策冲击加剧，短期避险抛售也在情理之中。此外，信用评级机构标普和穆迪近期已警告，如果美联储的独立性遭到“严重破坏”，美国主权信用评级可能面临下调，这将进一步推高美国政府融资成本。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="短期波动-vs-长期前景">短期波动 vs. 长期前景</h2><a class="sl-anchor-link" href="#短期波动-vs-长期前景"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “短期波动 vs. 长期前景”</span></a></div>
<p>短期来看，川普的激烈表态和举措确实加剧了市场的谨慎情绪。股债汇市场出现了“冰火两重天”：股指期货微跌，多空博弈加剧；美元和中长期美债收益率波动加大。但也有人认为，这种急躁的政策操作未必会持续。特朗普历来言行有时“言过其实”——早在4月他声称会解雇鲍威尔后不久就反口说“无意解雇”；同样，此次对库克的行动也可能在司法挑战下面临变数。此外，贝森特等理性派人士的存在，意味着未来政策方向未必完全出乎意料。换句话说，虽然川普政府正试图往联储理事会里安插“忠诚派”，但市场往往最终还是看结果：如果这些变动能够真正提振美国经济、降低债务负担，宽松的货币政策至少在短期内也会推高风险资产；反之，一旦通胀或债务问题失控，则会迅速被市场所惩罚。正如摩根士丹利所言，市场最看重的，是经济基本面和政策的效果，而不是政治风声本身。</p>
<p>综上所述，市场对川普“改造”美联储的反应分为两个层面：一是对美联储独立性暂时受损的担忧，包括信用评级和长债收益率上升的风险；二是对政策最终效果的关注，即看这些“新面孔”能否稳住通胀、刺激增长。短期震荡不可避免，但只要美国经济基本盘稳健、财政政策有配合，全球风险资产并不会轻易丧失吸引力。后续仍需关注美联储官员的人事变动进程以及美国财政状况演变，因为真正左右市场走向的，终究是经济基本面和结果，而非单一事件。</p>
<p><em>注：本报告基于公开信息分析，不构成投资建议，投资有风险，入市需谨慎。</em></p> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/finance/" class="astro-sg3lsd66">Finance</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/federal-reserve/" class="astro-sg3lsd66">Federal Reserve</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/finance/nvidia/2025-08-27-nvidia-q2-earnings-preview-three-key-focus/" class="astro-dr56dw7m">期待今晚英伟达二季度财报公布</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-27T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月27日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 期待今晚英伟达二季度财报公布 -->
<p>随着AI热潮持续，英伟达(NVIDIA) 也备受瞩目。今晚美股盘后，英伟达将公布二季度财报。结合台积电、富士康、京元电等供应链对AI服务器需求的预示，市场普遍预期成绩依旧强劲。投资者最关心的核心要点包括：</p>
<ul>
<li><strong>毛利率</strong>：英伟达能否借产品组合优化和成本杠杆效应，让非GAAP毛利率重回约75%的水平？</li>
<li><strong>新品周期</strong>：Blackwell Ultra（B300系列）GPU产能爬坡情况如何？下一代“Rubin”架构何时登场？</li>
<li><strong>中国市场</strong>：针对中国市场的H20产品影响有多大？是否会有新版中国特供芯片推出？</li>
<li><strong>财报指引</strong>：管理层给出的三季度及全年指引是否强劲？此前英伟达已开始偏保守地引导预期，这次会怎样？指引强弱决定市场对AI主线的信心和短期股价走势。</li>
</ul>
<p>下面我们逐一分析这些问题。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="毛利率能否重回75">毛利率：能否重回75%？</h2><a class="sl-anchor-link" href="#毛利率能否重回75"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “毛利率：能否重回75%？”</span></a></div>
<p>2023年底到2024年初英伟达的非GAAP毛利率曾在76%-79%之间高位盘整（Q4 FY24-Q1 FY25分别为76.7%、78.9%）。进入2024年下半年以后，随着产品组合变化，毛利率出现回落：Q2 FY25约75.7%，Q3 FY25回到75.0%，Q4 FY25降至73.5%。今年第一季度（Q1 FY26），由于中国市场H20库存冲击，非GAAP毛利率骤降至61.0%。</p>
<p>事实上，公司财报指出，如果剔除这次H20库存减记，一季度非GAAP毛利率本应约71.3%。</p>
<p>市场预期本季毛利率会有所修复。根据财报展望，英伟达预计Q2财季非GAAP毛利率约为72.0%（GAAP毛利率71.8%）。管理层表示将持续努力，年内争取让毛利率回升到约75%的中高位水平。从以上数据看，若本季业绩符合预期，毛利率曲线将出现V型回升趋势，但要达到75%仍需留意高配GPU供给和成本控制进展。因此，市场将密切关注财报中对产品组合、库存及成本项目的说明，以及全年毛利率指引。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="产品线blackwell-ultra加速rubin蓄势">产品线：Blackwell Ultra加速，Rubin蓄势</h2><a class="sl-anchor-link" href="#产品线blackwell-ultra加速rubin蓄势"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “产品线：Blackwell Ultra加速，Rubin蓄势”</span></a></div>
<p>英伟达CEO黄仁勋已确认，Blackwell Ultra（代号B300系列）仍在稳步放量。行业报道称，黑白（Blackwell）超算加速卡将在今年下半年推出，性能比现有产品大幅提升。同时，他表示“下一代（GPU）被称为Rubin”，合作伙伴已经在为Rubin架构做准备。换言之，未来两年内数据中心GPU将经历从Blackwell到Vera Rubin的换代。</p>
<p>对投资者来说，本次财报发布后，重点会看B300系列产品产能情况，以及公司是否提及未来Rubin GPU的开发进展等。上述路线图显示，Rubin平台将在2026年推出8堆栈HBM4显存版，到2027年进一步扩展到12堆栈版。如果英伟达提到Rubin的里程碑或试产进展，也将被市场视为前瞻信号。总的来说，只要Blackwell Ultra供货加快、Rubin前景明朗，就能进一步巩固公司在AI硬件赛道的领先地位。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="中国市场h20停产及新特供">中国市场：H20停产及新特供</h2><a class="sl-anchor-link" href="#中国市场h20停产及新特供"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “中国市场：H20停产及新特供”</span></a></div>
<p>中国市场一直充满不确定性。今年4月，美国出台新管制令，暂停向中国出口英伟达最新高端GPU，使面向中国设计的“H20”版本暂时停产。根据报道，8月22日有消息称英伟达已通知相关供应商暂停H20产品生产。英伟达随后回应称，这只是正常供应链调整，并重申H20并非军用产品，中国有足够国产芯片满足需求。</p>
<p>据了解，H20芯片是特别针对中国市场的版本，2024年曾大规模出货。初期版本搭载96GB HBM3显存，带宽达4.0TB/s；后期升级为141GB显存，NVLink带宽900GB/s，FP16算力高达148TFLOPS。不过今年4月禁令生效后，H20交付被迫中断。直到7月黄仁勋访华前后，美国才重新批准H20芯片出口许可，生产和出货有望恢复。但需注意，此次开放需要向美方报备用户清单等，仍给客户带来顾虑。</p>
<p>有业内传闻称，英伟达正计划推出一个针对中国的新“特供”芯片，代号可能是B30A。这款芯片据传算力约为主线Blackwell产品的一半。如果这一消息属实，说明英伟达试图用性能折衷的方案满足中国市场需求，同时应对出口限制。市场将密切关注财报中对中国市场出货量和产品组合的描述，以及是否有类似信息发布。总体而言，中国的不确定性可能让英伟达暂时对中国市场指引更为谨慎，这也是本次财报需重点留意的风险点之一。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="指引前瞻强劲还是保守">指引前瞻：强劲还是保守？</h2><a class="sl-anchor-link" href="#指引前瞻强劲还是保守"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “指引前瞻：强劲还是保守？”</span></a></div>
<p>对于英伟达这样的成长股，最重要的信号之一是未来指引：公司对下季度及全年的预估。过去一年中，由于市场对AI景气极度乐观，英伟达已多次开始使用“预期管理”策略，给出相对保守的指引以降低市场期待。2024年Q2之后每次财报都出现过类似情形。</p>
<p>今晚财报后的指导内容尤为关键。一方面，如果公司对第三季度及全年的营收和毛利率做出强劲指引，表明AI需求依旧旺盛，市场信心将增强；另一方面，如果指引显得保守，则可能短期打压股价。特别是在中国市场受限的大背景下，英伟达可能会在财报电话会议上谨慎看待短期业绩。投资者将密切聆听管理层对下半年的需求状况、库存清理程度以及研发投入的展望。</p>
<p>目前可参考的是一季度财报中对Q2的指引：营收预计45亿美元上下（已剔除约80亿美元的H20损失），非GAAP毛利率约72%。未来几个季度是否能接近此前预期的“75%毛利率”和持续翻番的营收增速，将是市场聚焦的焦点。如果指引相对稳健或高于预期，可视作AI趋势的延续；如果偏低，则需警惕短线波动。</p>
<div class="sl-heading-wrapper level-h2"><h2 id="投资展望财报后股价大概率走高">投资展望：财报后股价大概率走高</h2><a class="sl-anchor-link" href="#投资展望财报后股价大概率走高"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “投资展望：财报后股价大概率走高”</span></a></div>
<p>综合来看，英伟达二季度业绩很可能符合或略超市场预期，主要受益于数据中心AI加速需求的爆发式增长。毛利率只要达到指引水平，供应链紧张的问题正在缓解，公司也在积极扩产Blackwell Ultra，未来生态布局持续深化。从长期看，AI需求并未见顶，黄仁勋也明确表示公司规划已经超前进入Rubin时代，这意味着增长动能仍在持续累积。</p>
<p>虽然中国市场不确定性和指引保守可能导致短期股价波动，但考虑到英伟达在AI硬件领域的龙头地位以及产业升级大趋势，市场对其前景整体仍保持乐观。综合各方信息判断，此次财报后，英伟达股价大概率继续走高，投资者可以关注财报公布后的买入机会。结合基本面和技术面，不少分析师仍给出看多评级，认为只要业绩达到预期、指引稳定，股价有望刷新历史高点。</p>
<p><strong>注：本报告基于公开信息分析，不构成投资建议，投资有风险，入市需谨慎。</strong></p> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/finance/" class="astro-sg3lsd66">Finance</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/nvidia/" class="astro-sg3lsd66">Nvidia</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/nasdaq-nvda/" class="astro-sg3lsd66">NASDAQ: NVDA</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/github-actions/2025-08-27-claude-code-github-actions-integration/" class="astro-dr56dw7m">用 Claude Code + GitHub Actions，把 @claude 变成你团队的自动化同事</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-27T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月27日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 用 Claude Code + GitHub Actions，把 @claude 变成你团队的自动化同事 -->
<blockquote>
<p>在 PR、Issue、计划任务里直接 <strong>@claude</strong>，它会按你仓库的 <strong>CLAUDE.md</strong> 规范自动审代码、修 Bug、写功能，还能发日报。零服务器运维负担，直接跑在 GitHub 托管 runner 上。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>你有过这种体验吗？
PR 堆成山，代码审不过来；Issue 描述很清楚，但没人愿意先动第一刀。</p>
<p><strong>现在用 Claude Code 的 GitHub Actions，一句 <code dir="auto">@claude</code> 就能把这些“机械重复但又必须做”的活交出去。</strong>
它会读取上下文、遵循你的项目规范、自动创建或更新 PR，甚至给出实现方案。</p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/anthropic/claude-code/github-actions/intro.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="亮点一览为什么值得上车">亮点一览（为什么值得上车）</h2><a class="sl-anchor-link" href="#亮点一览为什么值得上车"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “亮点一览（为什么值得上车）”</span></a></div>
<ul>
<li><strong>@claude 即用</strong>：在 PR、Issue 评论区点名即可触发，支持「交互式回复」或「自动执行」两种模式，<strong>v1 会自动识别</strong>触发方式。</li>
<li><strong>跟你团队的规范对齐</strong>：根目录放一份 <strong>CLAUDE.md</strong>，写清代码风格、评审规则、常用模式；Claude 执行时会遵循它。</li>
<li><strong>多云选型</strong>：既可直连 Anthropic API，也可走 <strong>AWS Bedrock / Google Vertex AI</strong>，更好满足企业合规与计费策略。</li>
<li><strong>SDK 可扩展</strong>：官方 <strong>Claude Code SDK</strong> 支持 Headless/TS/Python，多语言业务都能把“会写代码的 Agent”嵌入工作流。</li>
<li><strong>无需自搭基础设施</strong>：默认用 GitHub 托管 runner，减少部署成本；私有仓库会计入 Actions 分钟数，公有仓库免费。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="安装与升级指南超快落地">安装与升级指南（超快落地）</h2><a class="sl-anchor-link" href="#安装与升级指南超快落地"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “安装与升级指南（超快落地）”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="a-快速安装推荐">A. 快速安装（推荐）</h3><a class="sl-anchor-link" href="#a-快速安装推荐"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “A. 快速安装（推荐）”</span></a></div>
<ol>
<li>在终端打开 <strong>claude</strong>，执行命令：<code dir="auto">/install-github-app</code>。</li>
<li>根据引导完成 GitHub App 安装与 <strong>ANTHROPIC_API_KEY</strong> 机密配置。</li>
<li>在仓库评论中 <strong>@claude</strong> 测试一次。</li>
</ol>
<blockquote>
<p>如果走不通，也可 <strong>手动安装</strong>：安装官方 GitHub App → 仓库里添加 <code dir="auto">ANTHROPIC_API_KEY</code> → 拷贝 <code dir="auto">examples/claude.yml</code> 到 <code dir="auto">.github/workflows/</code>。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="b-从-beta-升级到-v1有破坏性变更">B. 从 Beta 升级到 v1（有破坏性变更）</h3><a class="sl-anchor-link" href="#b-从-beta-升级到-v1有破坏性变更"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “B. 从 Beta 升级到 v1（有破坏性变更）”</span></a></div>
<ul>
<li>动作版本：<code dir="auto">@beta</code> → <code dir="auto">@v1</code></li>
<li>删除 <code dir="auto">mode:</code> 配置（v1 <strong>自动识别</strong>触发模式）</li>
<li><code dir="auto">direct_prompt</code> 改为 <code dir="auto">prompt</code></li>
<li>CLI 选项移动到 <code dir="auto">claude_args</code>（如 <code dir="auto">--max-turns</code>、<code dir="auto">--model</code>、<code dir="auto">--system-prompt</code> 等）</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="最小可用工作流示例按需拷贝">最小可用工作流示例（按需拷贝）</h2><a class="sl-anchor-link" href="#最小可用工作流示例按需拷贝"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “最小可用工作流示例（按需拷贝）”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1-在评论里用-claude-做代码评审">1) 在评论里用 @claude 做代码评审</h3><a class="sl-anchor-link" href="#1-在评论里用-claude-做代码评审"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1) 在评论里用 @claude 做代码评审”</span></a></div>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">Claude Code (mentions)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF6A83;--1:#A24848">on</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">issue_comment</span><span style="--0:#D6DEEB;--1:#403F53">: { </span><span style="--0:#7FDBCA;--1:#111111">types</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#ECC48D;--1:#3B61B0">created</span><span style="--0:#D6DEEB;--1:#403F53">] }</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">pull_request_review_comment</span><span style="--0:#D6DEEB;--1:#403F53">: { </span><span style="--0:#7FDBCA;--1:#111111">types</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#ECC48D;--1:#3B61B0">created</span><span style="--0:#D6DEEB;--1:#403F53">] }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">jobs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">run</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">runs-on</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">ubuntu-latest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">steps</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#7FDBCA;--1:#111111">uses</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">anthropics/claude-code-action@v1</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#111111">with</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#111111">anthropic_api_key</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">${{ secrets.ANTHROPIC_API_KEY }}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#919F9F;--1:#5F636F"># 留空 prompt，自动响应 @claude</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="name: Claude Code (mentions)on:  issue_comment: { types: [created] }  pull_request_review_comment: { types: [created] }jobs:  run:    runs-on: ubuntu-latest    steps:      - uses: anthropics/claude-code-action@v1        with:          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}          # 留空 prompt，自动响应 @claude"><div></div></button></div></figure></div>
<blockquote>
<p>行为说明：当有人在 PR/Issue 评论区写 <code dir="auto">@claude 这段代码可能有并发问题，给建议并修复</code>，Action 会读取上下文给出回复，必要时提交变更。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="2-用斜杠命令做自动化代码审查">2) 用斜杠命令做自动化代码审查</h3><a class="sl-anchor-link" href="#2-用斜杠命令做自动化代码审查"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2) 用斜杠命令做自动化代码审查”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">Code Review</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF6A83;--1:#A24848">on</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">pull_request</span><span style="--0:#D6DEEB;--1:#403F53">: { </span><span style="--0:#7FDBCA;--1:#111111">types</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#ECC48D;--1:#3B61B0">opened</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#ECC48D;--1:#3B61B0">synchronize</span><span style="--0:#D6DEEB;--1:#403F53">] }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">jobs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">review</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">runs-on</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">ubuntu-latest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">steps</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#7FDBCA;--1:#111111">uses</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">anthropics/claude-code-action@v1</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#111111">with</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#111111">anthropic_api_key</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">${{ secrets.ANTHROPIC_API_KEY }}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#111111">prompt</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">/review</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#111111">claude_args</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">--max-turns 5</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="name: Code Reviewon:  pull_request: { types: [opened, synchronize] }jobs:  review:    runs-on: ubuntu-latest    steps:      - uses: anthropics/claude-code-action@v1        with:          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}          prompt: &#x22;/review&#x22;          claude_args: &#x22;--max-turns 5&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p>说明：新 PR 或有更新时，固定触发 <code dir="auto">/review</code> 工作流进行轻量审查，控制轮次防止过度往返。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="3-每天-9-点生成团队日报">3) 每天 9 点生成团队日报</h3><a class="sl-anchor-link" href="#3-每天-9-点生成团队日报"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3) 每天 9 点生成团队日报”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">Daily Report</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF6A83;--1:#A24848">on</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">schedule</span><span style="--0:#D6DEEB;--1:#403F53">: [{ </span><span style="--0:#7FDBCA;--1:#111111">cron</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">0 9 * * *</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> }]</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">jobs</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">report</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">runs-on</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">ubuntu-latest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">steps</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#7FDBCA;--1:#111111">uses</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">anthropics/claude-code-action@v1</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#7FDBCA;--1:#111111">with</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#111111">anthropic_api_key</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">${{ secrets.ANTHROPIC_API_KEY }}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#111111">prompt</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Summarize yesterday's commits and open issues</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#7FDBCA;--1:#111111">claude_args</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">--model claude-sonnet-4-20250514</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="name: Daily Reporton:  schedule: [{ cron: &#x22;0 9 * * *&#x22; }]jobs:  report:    runs-on: ubuntu-latest    steps:      - uses: anthropics/claude-code-action@v1        with:          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}          prompt: &#x22;Summarize yesterday&#x27;s commits and open issues&#x22;          claude_args: &#x22;--model claude-sonnet-4-20250514&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p>说明：定时扫描仓库提交与未解决 Issue，输出日报到评论或新 Issue。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="推荐使用场景真能省事">推荐使用场景（真·能省事）</h2><a class="sl-anchor-link" href="#推荐使用场景真能省事"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “推荐使用场景（真·能省事）”</span></a></div>
<ul>
<li><strong>安全审查与合规清单</strong>：给 PR 加一条安全/隐私检查流程。<strong>减少漏项</strong>，拉齐“最低审查线”。</li>
<li><strong>Bug 复现与小修小补</strong>：评论里描述报错，@claude 让它复现、定位并提交小范围修复 PR。</li>
<li><strong>单测补全</strong>：给关键模块自动生成缺失用例，配合 CLAUDE.md 约束用例风格。</li>
<li><strong>多仓库一致化改造</strong>：配合 SDK/Headless 模式，批量执行“统一脚手架、升级依赖、替换老函数”。</li>
<li><strong>企业上云合规</strong>：如有数据驻留或计费要求，可切换 <strong>Bedrock / Vertex</strong> 通道，统一账号体系与审计。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="写好-claudemd让-ai-真正懂你的项目">写好 CLAUDE.md（让 AI 真正懂你的项目）</h2><a class="sl-anchor-link" href="#写好-claudemd让-ai-真正懂你的项目"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “写好 CLAUDE.md（让 AI 真正懂你的项目）”</span></a></div>
<p>在仓库根目录放一份 <code dir="auto">CLAUDE.md</code>，建议包含：</p>
<ul>
<li>代码风格与目录规范</li>
<li>提交信息格式（如 Conventional Commits）</li>
<li>组件/服务的<strong>首选实现模式</strong>与<strong>反模式</strong></li>
<li>评审清单：安全、性能、可测试性、可观测性</li>
<li>参考实现链接（允许 <code dir="auto">@file</code> 引用关键文档与示例）</li>
</ul>
<blockquote>
<p>小贴士：<code dir="auto">CLAUDE.md</code> 要<strong>短而硬</strong>。越清晰，Claude 产出越稳。长文档用链接或 <code dir="auto">@file</code> 组合拆分。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="成本与安全老板最关心的两件事">成本与安全（老板最关心的两件事）</h2><a class="sl-anchor-link" href="#成本与安全老板最关心的两件事"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “成本与安全（老板最关心的两件事）”</span></a></div>
<p><strong>成本怎么控？</strong></p>
<ul>
<li>公有仓库使用 <strong>托管 runner 免费</strong>；私有仓库消耗分钟数与存储配额，超额计费。</li>
<li>设置 <code dir="auto">--max-turns</code>，避免长对话拉高 Tokens；必要时给任务加 <strong>超时</strong> 与 <strong>并发</strong> 限流。</li>
<li>定时任务避开高峰；减少无谓触发；控制 artifact 存储时间。</li>
</ul>
<p><strong>安全怎么做？</strong></p>
<ul>
<li><strong>API Key 只放 Secrets</strong>，工作流里用 <code dir="auto">${{ secrets.ANTHROPIC_API_KEY }}</code> 引用，<strong>不要硬编码</strong>。</li>
<li>最小化权限：给 GitHub App 只开需要的 Repo 权限；审计 CI 触发事件。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="进阶玩法给高手的-bonus">进阶玩法（给高手的 Bonus）</h2><a class="sl-anchor-link" href="#进阶玩法给高手的-bonus"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “进阶玩法（给高手的 Bonus）”</span></a></div>
<ul>
<li><strong>自定义 GitHub App</strong>：企业想用自家头像/昵称、细粒度权限，可自建 App 并在工作流里用 <code dir="auto">create-github-app-token</code> 登录。</li>
<li><strong>结合加速 Runner</strong>：对大仓库或重任务，考虑自托管或加速型 Runner，缩短作业时长、控制花费。</li>
<li><strong>SDK 编排子任务</strong>：用 <strong>Claude Code SDK</strong> 调度“读仓库→生成补丁→验证→发 PR”的流水线，形成你们的“工程化 Agent”。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>团队越忙，越需要一个稳定的“自动化同事”。
把「规范写进 CLAUDE.md、工作流写进 GitHub Actions」，你就能把<strong>枯燥但关键</strong>的工程任务交给 Claude，给人留出更高价值的创造时间。</p>
<p><strong>你会先把哪条流程交给 @claude？</strong>
留言说说你的想法，或者把这篇文章转给需要的同事，今天就试起来。</p>
<!-- 
---

## 推荐标题（多语言 & slug）

1. **把 @claude 接入 GitHub Actions：你的自动化同事上线了**

   * EN: Plug @claude into GitHub Actions: Your Automated Teammate Is Live
   * 繁體: 把 @claude 接入 GitHub Actions：你的自動化同事上線了
   * 日本語: GitHub Actions に @claude を接続：自動化チームメイトが始動
   * Français : Connecter @claude à GitHub Actions : votre coéquipier automatisé
   * Español: Conecta @claude a GitHub Actions: tu compañero automatizado
   * Português: Conecte @claude ao GitHub Actions: seu colega automatizado
   * **slug:** `claude-code-github-actions-automated-teammate`

2. **一条评论触发一次交付：Claude Code x GitHub Actions 实战**

   * EN: One Comment, One Delivery: Claude Code x GitHub Actions in Practice
   * 繁體: 一條評論觸發一次交付：Claude Code x GitHub Actions 實戰
   * 日本語: コメントひとつでデリバリー：Claude Code × GitHub Actions 実践
   * Français : Un commentaire, une livraison : Claude Code × GitHub Actions
   * Español: Un comentario, una entrega: Claude Code × GitHub Actions
   * Português: Um comentário, uma entrega: Claude Code × GitHub Actions
   * **slug:** `one-comment-one-delivery-claude-code-github-actions`

3. **把评审、修复、日报交给 AI：GitHub Actions 集成指南**

   * EN: Offload Reviews, Fixes, and Reports to AI: A GitHub Actions Guide
   * 繁體: 把評審、修復、日報交給 AI：GitHub Actions 集成指南
   * 日本語: レビューも修正も日報も AI に：GitHub Actions 連携ガイド
   * Français : Confiez revues, correctifs et rapports à l’IA : Guide GitHub Actions
   * Español: Delega revisiones, correcciones y reportes en IA: Guía de GitHub Actions
   * Português: Delegue revisões, correções e relatórios à IA: Guia GitHub Actions
   * **slug:** `ai-reviews-fixes-reports-github-actions-guide`

---

## 配图生成（插画风 2:1，无中文）

**封面图 Prompt：**
“An illustration of a developer typing ‘@claude’ in a GitHub pull request while an AI assistant materializes task cards like ‘Review’, ‘Fix tests’, and ‘Create PR’; clean pastel palette, minimal UI shapes, soft shadows, 2:1 ratio, no Chinese text.”

**关键章节配图 Prompt（任选几张）：**

1. “Flow diagram of GitHub comment → Claude analysis → PR update; modern flat illustration, arrows and cards, 2:1.”
2. “A CLAUDE.md style guide document pinned on a board with checkmarks for security, tests, performance; 2:1.”
3. “Bedrock & Vertex AI cloud icons connecting to GitHub Actions runner; compliance shield; 2:1.”
4. “A cost dashboard showing minutes and tokens with sliders ‘max-turns’ and ‘timeouts’; 2:1.”

---

## 朋友圈/评论区文案（3 条）

1. “把 @claude 接进 GitHub Actions，PR 自己会写自己会修，日报也有人发了。真·自动化同事上线 ✅”
2. “我们把评审清单塞进 CLAUDE.md，一句评论触发审查+补测+提交，效率离谱…谁还想回到从前 🫠”
3. “私有仓库也稳，Secrets 管密钥、Bedrock/Vertex 走合规，省时省心还省钱，香。”

---

需要我把上面的 **YAML 工作流 + CLAUDE.md 模板** 打包成可直接落地的文件吗？或者想让我按你们仓库结构**定制一套** Actions 配置？我可以现在就补上。需要的话我也能**扩写成企业内训讲稿**和**演示 Demo**。你觉得呢？

[1]: https://docs.anthropic.com/en/docs/claude-code/github-actions?utm_source=chatgpt.com "Claude Code GitHub Actions"
[2]: https://github.com/anthropics/claude-code-action?utm_source=chatgpt.com "anthropics/claude-code-action"
[3]: https://github.com/marketplace/actions/claude-code-action-official?utm_source=chatgpt.com "Claude Code Action Official - Marketplace"
[4]: https://docs.anthropic.com/en/docs/claude-code/sdk?utm_source=chatgpt.com "Claude Code SDK"
[5]: https://docs.github.com/en/actions/concepts/billing-and-usage?utm_source=chatgpt.com "Billing and usage - GitHub Actions"
[6]: https://github.com/pricing?utm_source=chatgpt.com "Pricing · Plans for every developer"
[7]: https://www.reddit.com/r/ClaudeAI/comments/1lr6occ/tip_managing_large_claudemd_files_with_document/?utm_source=chatgpt.com "Tip: Managing Large CLAUDE.md Files with Document ..."
[8]: https://docs.github.com/billing/managing-billing-for-github-actions/about-billing-for-github-actions?utm_source=chatgpt.com "GitHub Actions billing"
[9]: https://depot.dev/blog/claude-code-in-github-actions?utm_source=chatgpt.com "Faster Claude Code agents in GitHub Actions - Depot.dev" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/github-actions/" class="astro-sg3lsd66">GitHub Actions</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/github-copilot/2025-08-27-claude-code-copilot-lifeline/" class="astro-dr56dw7m">Claude Code 用 GitHub Copilot Sonnet 模型</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-27T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月27日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Claude Code 用 GitHub Copilot Sonnet 模型 -->
<blockquote>
<p><strong>场景</strong>：Claude Code 用到关键时刻提示配额不够，但你<strong>手里正好有 GitHub Copilot 订阅</strong>。
这时用一个<strong>开源的 Copilot API 代理</strong>，把 Copilot 暴露成<strong>OpenAI/Anthropic 兼容接口</strong>，就能把 Claude Code 接上继续 Vibe Coding。本文带你上手，并给出<strong>安全合规</strong>的推荐用法。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="这是什么能做啥">这是什么？能做啥</h2><a class="sl-anchor-link" href="#这是什么能做啥"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “这是什么？能做啥”</span></a></div>
<p>这是一个<strong>反向工程的 GitHub Copilot API 代理</strong>，把 Copilot 变成<strong>OpenAI <code dir="auto">/v1/chat/completions</code><strong>和</strong>Anthropic <code dir="auto">/v1/messages</code></strong> 兼容服务。好处是：任何支持这两套 API 的工具都能用，包括<strong>Claude Code</strong>。项目自带<strong>用量仪表盘</strong>、<strong>速率限制</strong>、<strong>手动审单</strong>、<strong>企业/业务版账号支持</strong>等。</p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/anthropic/claude-code/github-copilot/intro.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<blockquote>
<p><strong>注意</strong>：它不是 GitHub 官方支持。GitHub 对<strong>过度自动化/批量请求</strong>有明确限制，可能触发风控或临停。请<strong>自担风险，理性使用</strong>。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="为什么值得一试">为什么值得一试</h2><a class="sl-anchor-link" href="#为什么值得一试"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “为什么值得一试”</span></a></div>
<p><strong>三点刚需价值：</strong></p>
<ul>
<li><strong>低中断</strong>：Claude Code 断粮时，用 Copilot 继续写、改、测。</li>
<li><strong>低改造</strong>：直接走 OpenAI/Anthropic 兼容端点，Claude Code 无感切换。</li>
<li><strong>可控可查</strong>：自带<strong>用量看板</strong>、<strong>限流/等待机制</strong>、<strong>手动审批</strong>，避免误触风控。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="快速上手3-条命令就够">快速上手：3 条命令就够</h2><a class="sl-anchor-link" href="#快速上手3-条命令就够"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “快速上手：3 条命令就够”</span></a></div>
<blockquote>
<p>前提：你有<strong>有效的 GitHub Copilot 订阅</strong>。</p>
</blockquote>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 1) 交互式登录</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npx</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">copilot-api@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">auth</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 2) 启动代理，并生成 Claude Code 接入命令</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npx</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">copilot-api@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">start</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--claude-code</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 3) 在新终端粘贴运行（或手动指定环境变量）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_API_KEY</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#ECC48D;--1:#3B61B0">sk-dummy</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">\</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">ANTHROPIC_BASE_URL=http://localhost:4141 </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">claude </span><span style="--0:#82AAFF;--1:#3B61B0">--dangerously-skip-permissions</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npx copilot-api@latest authnpx copilot-api@latest start --claude-codeANTHROPIC_API_KEY=sk-dummy \ANTHROPIC_BASE_URL=http://localhost:4141 \claude --dangerously-skip-permissions"><div></div></button></div></figure></div>
<p>以上流程来自项目内置的 <code dir="auto">--claude-code</code> 交互向导；也可用 <strong><code dir="auto">.claude/settings.json</code></strong> 固化环境，避免每次敲变量。</p>
<blockquote>
<p><strong>更稳的做法</strong>：别长期用 <code dir="auto">--dangerously-skip-permissions</code>。改用 <strong>Claude Code 的权限与环境设置</strong>，在项目级 <code dir="auto">.claude/settings.json</code> 配置 <code dir="auto">ANTHROPIC_BASE_URL</code>、默认模型和<strong>权限白名单</strong>，防止误操作。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="docker--npx-二选一">Docker / npx 二选一</h2><a class="sl-anchor-link" href="#docker--npx-二选一"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Docker / npx 二选一”</span></a></div>
<ul>
<li>
<p><strong>npx 一键跑</strong>：<code dir="auto">npx copilot-api@latest start</code>（可加 <code dir="auto">--port 8080 --verbose</code>）</p>
</li>
<li>
<p><strong>Docker 保持登录态</strong>：挂载 <code dir="auto">./copilot-data</code> 持久化令牌，容器重启不丢。</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">mkdir</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">./copilot-data</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">docker</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">run</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">4141:4141</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#82AAFF;--1:#3B61B0">-v</span><span style="--0:#D6DEEB;--1:#403F53"> $(</span><span style="--0:#C5E478;--1:#3B61B0">pwd</span><span style="--0:#D6DEEB;--1:#403F53">)</span><span style="--0:#ECC48D;--1:#3B61B0">/copilot-data:/root/.local/share/copilot-api</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#ECC48D;--1:#3B61B0">copilot-api</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mkdir -p ./copilot-datadocker run -p 4141:4141 \  -v $(pwd)/copilot-data:/root/.local/share/copilot-api \  copilot-api"><div></div></button></div></figure></div>
<p>支持在 <strong>build/run</strong> 阶段传入 <code dir="auto">GH_TOKEN</code> 环境变量，适合 CI/CD。</p>
</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="推荐安全合规姿势强烈建议收藏">推荐“安全合规”姿势（强烈建议收藏）</h2><a class="sl-anchor-link" href="#推荐安全合规姿势强烈建议收藏"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “推荐“安全合规”姿势（强烈建议收藏）”</span></a></div>
<ul>
<li><strong>只绑定本机</strong>：监听 <code dir="auto">127.0.0.1:4141</code>，别裸露到公网。必要时走内网隧道/VPN。</li>
<li><strong>开启限流</strong>：<code dir="auto">--rate-limit 30 --wait</code> + 需要时 <code dir="auto">--manual</code> 手动审单，降低异常频率。</li>
<li><strong>分清账号类型</strong>：个人 / Business / Enterprise 用 <code dir="auto">--account-type</code> 明示。</li>
<li><strong>遵守条款</strong>：阅读 GitHub <strong>Acceptable Use Policies</strong> 与 <strong>Copilot Terms</strong>，避免<strong>过度自动化/批量刷请求</strong>。</li>
<li><strong>权限最小化</strong>：用 Claude Code 的 <code dir="auto">permissions.deny</code> 排除 <code dir="auto">.env</code>、<code dir="auto">secrets/**</code> 等敏感目录。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="常见踩坑与排查">常见踩坑与排查</h2><a class="sl-anchor-link" href="#常见踩坑与排查"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “常见踩坑与排查”</span></a></div>
<ul>
<li><strong>提示 token/模型受限</strong>：关注 Issues 中的 <code dir="auto">max_prompt_tokens</code>、上下文太大等讨论与修复建议。</li>
<li><strong>Headless 机器登录困难</strong>：参考 <code dir="auto">auth</code> 子命令产 token，再用 <code dir="auto">--github-token</code> 传入。</li>
<li><strong>被风控</strong>：先<strong>停用自动批量任务</strong>，提高延时、开启 <code dir="auto">--manual</code>，再检查条款合规性。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="适合谁--不适合谁">适合谁 / 不适合谁</h2><a class="sl-anchor-link" href="#适合谁--不适合谁"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “适合谁 / 不适合谁”</span></a></div>
<ul>
<li><strong>适合</strong>：个人开发者、小团队，已付费 Copilot，希望在<strong>Claude Code 配额见底</strong>时有<strong>平滑备援</strong>。</li>
<li><strong>不太适合</strong>：严格合规的大企业；建议走 <strong>Claude Code 官方对接</strong>（如 Bedrock/Vertex/LLM 网关/企业代理等官方路径）。</li>
</ul>
<p>[配图建议 | 2:1 插画]
<strong>主题</strong>：左右对比：左侧“个人工作台”轻装上阵；右侧“企业机房”合规盾牌、云服务徽标。
<strong>英文提示词</strong>：Split-screen illustration: indie desk setup vs enterprise server room with a compliance shield. Minimal, 2:1.</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一键参考清单可直接抄">一键参考清单（可直接抄）</h2><a class="sl-anchor-link" href="#一键参考清单可直接抄"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一键参考清单（可直接抄）”</span></a></div>
<p><strong>本地一键跑：</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npx</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">copilot-api@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">auth</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npx</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">copilot-api@latest</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">start</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--rate-limit</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">30</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--wait</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--claude-code</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 新终端按提示运行 Claude Code 启动命令</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npx copilot-api@latest authnpx copilot-api@latest start --rate-limit 30 --wait --claude-code"><div></div></button></div></figure></div>
<p>**项目级固定环境：**在项目根目录 <code dir="auto">.claude/settings.json</code></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"env"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"ANTHROPIC_BASE_URL"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">http://localhost:4141</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">},</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"permissions"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"deny"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(./.env)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(./.env.*)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(./secrets/**)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;env&#x22;: {    &#x22;ANTHROPIC_BASE_URL&#x22;: &#x22;http://localhost:4141&#x22;  },  &#x22;permissions&#x22;: {    &#x22;deny&#x22;: [&#x22;Read(./.env)&#x22;, &#x22;Read(./.env.*)&#x22;, &#x22;Read(./secrets/**)&#x22;]  }}"><div></div></button></div></figure></div>
<p>（更多可选项见官方设置文档。）</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p><strong>它像是一块应急电源</strong>。在关键时刻，帮你把 Vibe Coding 的节奏接上；平时，也能当低成本的<strong>联机备援</strong>。但记住——<strong>稳、合规、最少权限</strong>，才是真正让人安心的生产力。</p>
<p>你会把它做成<strong>长期兜底</strong>，还是只在<strong>应急</strong>时启用？<strong>你觉得呢？</strong></p>
<!-- 
---

### 参考与延伸

* 项目主页与说明：**ericc-ch/copilot-api**（特性、端点、Docker、`--claude-code` 向导、用量看板、限流与风控提示）。
* Claude Code 设置与 IDE 集成（环境变量、权限、企业策略）。
* GitHub 使用政策与 Copilot 条款（合规必读）。
* 另辟蹊径：OpenCode 自带 Copilot Provider（如果你已经用 OpenCode，或许**无需**本项目）。

---

## 3 个标题（多语 & slug）

1. **把 Claude Code 接上 Copilot：一键代理续命指南**

   * EN: *Plug Claude Code into Copilot: A One-Command Lifeline*
   * 繁中: *把 Claude Code 接上 Copilot：一鍵代理續命指南*
   * 日本語: *Claude Code を Copilot に接続：ワンコマンド救命ガイド*
   * Français : *Brancher Claude Code sur Copilot : la bouée en une commande*
   * Español: *Conecta Claude Code a Copilot: salvavidas en un comando*
   * Português: *Conecte o Claude Code ao Copilot: salvação em um comando*
   * **slug**: `claude-code-copilot-lifeline`

2. **Copilot API 代理实战：配额告急时的 Plan B**

   * EN: *Copilot API Proxy in Practice: Your Plan B for Quota Crunch*
   * 繁中: *Copilot API 代理實戰：配額告急時的 Plan B*
   * 日本語: *Copilot API プロキシ実践：枯渇時のプランB*
   * Français : *Proxy Copilot API : le plan B en cas de quota*
   * Español: *Proxy de Copilot API: plan B cuando se agota la cuota*
   * Português: *Proxy do Copilot API: plano B no aperto de cota*
   * **slug**: `copilot-api-proxy-plan-b`

3. **Vibe Coding 不掉线：用 Copilot 托管 Claude Code**

   * EN: *Vibe Coding Without Outages: Run Claude Code on Copilot*
   * 繁中: *Vibe Coding 不掉線：用 Copilot 託管 Claude Code*
   * 日本語: *止まらない Vibe Coding：Copilot で Claude Code*
   * Français : *Vibe Coding ininterrompu : Claude Code sur Copilot*
   * Español: *Vibe Coding sin cortes: Claude Code sobre Copilot*
   * Português: *Vibe Coding sem quedas: Claude Code no Copilot*
   * **slug**: `vibe-coding-copilot-backend`

---

## 封面与配图提示词（2:1 插画风，**不含中文**）

* **封面**：“终端里的小机器人举着连接线，另一端插入写有‘Copilot’的云，旁边一个小盾牌写着‘Safe & Minimal’”。
  *Prompt*: *Playful flat illustration of a tiny terminal robot plugging a cable into a cloud labeled “Copilot”, a small shield labeled “Safe & Minimal”, clean lines, soft gradients, 2:1.*

* **关键节1（工作原理）**：接线图（终端→代理→Copilot），带“Rate limit”“Manual review”徽章。
  *Prompt*: *Diagram-style illustration: terminal → proxy box → Copilot cloud, badges “Rate limit” and “Manual review”, minimalist lines, 2:1.*

* **关键节2（安全合规）**：路障与合规盾牌，后面是城市高楼与代码窗口。
  *Prompt*: *Compliance shield and gentle road barriers in front of a city skyline and a code window, calm pastel palette, 2:1.*

---

## 朋友圈/评论区文案（3 条）

1. **Claude Code 配额告急？** 我用一个小代理把 Copilot 接上了，十分钟复活工作流，顺便做了限流+审单，稳。要不要试试？
2. 今天学到的：**Plan B 也要可观测**。用量面板+速率限制=心里有数，不怕风控。
3. 做开发像健身：**别硬撑，学会切换动作**。Copilot 当备用电源，Claude Code 不掉线。 --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/github-copilot/" class="astro-sg3lsd66">GitHub Copilot</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/2025-08-26-spokenly-claude-code-voice-vibe-coding-mac/" class="astro-dr56dw7m">用 Spokenly + Claude Code，在 Mac 张口就来 Vibe Coding 编程开发</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-26T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月26日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 用 Spokenly + Claude Code，在 Mac 张口就来 Vibe Coding 编程开发 -->
<blockquote>
<p>你说、它写、立刻跑。手离键盘，代码照样飞。</p>
</blockquote>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/anthropic/claude-code/spokenly/claude-code.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>这两个月我彻底被 <strong>Vibe Coding</strong> 上了瘾。
装上 <strong>Spokenly</strong> 做语音输入，再配上 <strong>Claude Code</strong> 当终端里的“能干小助手”。
一口气开三扇窗：<strong>规划</strong>、<strong>写码</strong>、<strong>审查</strong>。
我去倒杯茶，回来就只剩“验收”和“续命”。
睡前丢个大任务，第二天像“无良老板”查工单，一天的节奏就稳了。</p>
<p>这篇就把 <strong>macOS 上如何用 Spokenly 语音驱动 Claude Code</strong> 的完整打法讲透，装完即用，今晚就开干。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="tldr">TL;DR</h2><a class="sl-anchor-link" href="#tldr"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “TL;DR”</span></a></div>
<ul>
<li><strong>Spokenly</strong>：一键热键，任何输入框即刻听写；支持本地 <strong>Whisper</strong> 模型，<strong>离线可用</strong>，也可自带云厂商 API Key；有 <strong>Agent Mode</strong>（语音控 Mac）。</li>
<li><strong>Claude Code</strong>：终端里的智能结对编程，<code dir="auto">npm i -g @anthropic-ai/claude-code</code> 后，直接 <code dir="auto">claude</code> 开整；支持 <strong>/model /config /ide /compact</strong> 等 Slash 命令，与 VSCode/JetBrains IDE 深度集成。</li>
<li>语音交互小技巧：Option+Enter 或 <code dir="auto">/terminal-setup</code> 解决多行输入；Esc Esc 回改上一条；三窗口分工跑通“计划-执行-审核”。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一工具清单与安装">一、工具清单与安装</h2><a class="sl-anchor-link" href="#一工具清单与安装"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一、工具清单与安装”</span></a></div>
<p><strong>1）Spokenly（语音 → 文本）</strong></p>
<ul>
<li>官网：<a href="https://spokenly.app/">https://spokenly.app/</a> 支持 <strong>本地 Apple Speech Recognition</strong>、** Whisper**、100+ 语言、<strong>Local-only 隐私模式</strong>、<strong>Agent Mode</strong>、历史检索；Mac+iPhone。</li>
<li>App Store：<strong>免费</strong>下载，Pro 订阅可用云模型；近期版本支持 <strong>Soniox</strong>、<strong>Parakeet v3</strong>、历史重转写等。</li>
</ul>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/anthropic/claude-code/spokenly/intro.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<p><strong>2）Claude Code（终端智能体）</strong></p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Node.js 18+</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">i</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-g</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@anthropic-ai/claude-code</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">cd</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">your-project</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">claude</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npm i -g @anthropic-ai/claude-codecd your-projectclaude"><div></div></button></div></figure></div>
<p>30 秒起步；支持 MCP、执行命令、编辑文件、创建提交，还能接 IDE。</p>
<p><strong>3）IDE（可选，但强烈建议）</strong></p>
<ul>
<li>VS Code/Cursor/Windsurf：在集成终端 <code dir="auto">claude</code> 会 <strong>自动安装扩展</strong>。</li>
<li>JetBrains 家族：装插件后重启；外部终端可用 <strong>/ide</strong> 连接到 IDE。</li>
</ul>
<blockquote>
<p>备选：<strong>苹果原生听写</strong> 也能用，但功能与私密性不及 Spokenly（尤其在多语言与离线 Whisper）。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="二5-分钟搞定语音驱动">二、5 分钟搞定语音驱动</h2><a class="sl-anchor-link" href="#二5-分钟搞定语音驱动"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “二、5 分钟搞定语音驱动”</span></a></div>
<p><strong>Step 1：配置 Spokenly</strong></p>
<ul>
<li>安装后首启，授予麦克风权限。</li>
<li>在偏好设置里设一个 <strong>全局 Push-to-Talk 热键</strong>（如 <code dir="auto">Right Command</code>）。</li>
<li>选择 <strong>Local-only</strong>，调用 Apple Speech Recognition 模型，<strong>离线更私</strong>。</li>
<li>打开 <strong>Auto language</strong>，中英混说不卡壳。</li>
<li>模式选“在光标处输入”（它会“像你在打字”一样把文本塞进终端或编辑器）。</li>
</ul>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/anthropic/claude-code/spokenly/apple-speech-recognize.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<p><strong>Step 2：启动 Claude Code</strong></p>
<ul>
<li>
<p>在你的项目目录里执行 <code dir="auto">claude</code>。</p>
</li>
<li>
<p>需要多行粘贴或口述长需求？</p>
<ul>
<li>直接 <strong>Option+Enter</strong> 多行；或执行 <code dir="auto">/terminal-setup</code> 为 <strong>Shift+Enter</strong> 绑定换行。</li>
</ul>
</li>
<li>
<p>跑在 IDE 里？外部终端可先开 <code dir="auto">claude</code>，再 <code dir="auto">/ide</code> 连接到 VSCode/JetBrains，启用 <strong>选区上下文</strong>、<strong>IDE Diff</strong> 等能力。</p>
</li>
</ul>
<p><strong>Step 3：语音开喷</strong></p>
<ul>
<li>聚焦到 Claude 终端输入框 → <strong>按住热键说</strong> → 松开即发送。</li>
<li>需要改前一句？<strong>Esc Esc</strong> 回到上一条编辑。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="三三窗口vibe-coding流计划执行审核">三、三窗口「Vibe Coding」流：计划｜执行｜审核</h2><a class="sl-anchor-link" href="#三三窗口vibe-coding流计划执行审核"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “三、三窗口「Vibe Coding」流：计划｜执行｜审核”</span></a></div>
<p><strong>窗口 A：Architect（规划）</strong></p>
<ul>
<li>口述：“帮我在 Next.js 项目<strong>新增 OAuth 登录</strong>，<strong>先出任务清单和文件改动列表</strong>，每步 20 行内。”</li>
<li>命令：<code dir="auto">/model</code> 选合适模型；<code dir="auto">/compact</code> 压缩上下文，保持专注。</li>
</ul>
<p><strong>窗口 B：Builder（实现）</strong></p>
<ul>
<li>口述：“根据 A 的清单，<strong>写代码并自测</strong>，遇到报错<strong>自动修</strong>，必要时<strong>跑脚本</strong>。”</li>
<li>用 <strong>Option+Enter</strong> 说出多段代码块结构：“第一段是 API 路由，第二段是 UI 组件……”。</li>
</ul>
<p><strong>窗口 C：Reviewer（审查）</strong></p>
<ul>
<li>命令：<code dir="auto">/review</code>、<code dir="auto">/cost</code> 看 token/成本，必要时 <code dir="auto">/config</code> 限制工具与变更范围。</li>
<li>IDE 模式下，Diff 直接在编辑器里看，手感接近本地结对。</li>
</ul>
<blockquote>
<p>小诀窍：不同任务用不同项目目录启动 <code dir="auto">claude</code>，每个会话的历史 <strong>按目录隔离</strong>，切换更干净。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="四睡前通宵大活的口述模板">四、睡前“通宵大活”的口述模板</h2><a class="sl-anchor-link" href="#四睡前通宵大活的口述模板"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “四、睡前“通宵大活”的口述模板”</span></a></div>
<p>把大活拆成 4 段说清楚，Claude Code 才不走偏：</p>
<p>1）<strong>Goal</strong>：一句话目标 + 成功标准
2）<strong>Scope</strong>：改哪些目录，不动哪些（白名单/黑名单）
3）<strong>Checks</strong>：自测脚本、lint、单测、E2E
4）<strong>Deliverables</strong>：PR 摘要、Diff、变更日志</p>
<blockquote>
<p>例：
“今晚把 <strong>结算模块</strong> 从 REST 迁到 <strong>tRPC</strong>。只改 <strong>/server/</strong> 和 <strong>/app/billing/</strong>。跑 <code dir="auto">pnpm test</code>、<code dir="auto">pnpm lint</code> 全绿。输出迁移步骤与风险点，最后给我一份 <strong>回滚指南</strong>。”</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="五口述更顺的-7-个技巧">五、口述更顺的 7 个技巧</h2><a class="sl-anchor-link" href="#五口述更顺的-7-个技巧"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “五、口述更顺的 7 个技巧”</span></a></div>
<ul>
<li><strong>说出结构</strong>： “标题：… 新段落。列表：一、二、三。” Claude 更会写文档。</li>
<li><strong>说出约束</strong>： “最多改三处，每处不超 30 行。” 防止“大刀阔斧”。</li>
<li><strong>说出边界</strong>： “仅允许 Bash：<code dir="auto">pnpm*</code>、<code dir="auto">git*</code>。”（配合 <code dir="auto">/config</code> 限工具）</li>
<li><strong>说出检查</strong>： “改完跑 <code dir="auto">npm run test</code>，失败就回滚。”</li>
<li><strong>中英混说</strong>： 模块名/方法名用英文更准；Spokenly 自动识别语言。</li>
<li><strong>多行输入</strong>： Option+Enter 或 <code dir="auto">/terminal-setup</code>。</li>
<li><strong>编辑上一条</strong>： Esc Esc 回改再发。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="六隐私与成本">六、隐私与成本</h2><a class="sl-anchor-link" href="#六隐私与成本"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “六、隐私与成本”</span></a></div>
<ul>
<li><strong>本地优先</strong>：Spokenly 的 <strong>Local-only</strong> 让音频不出机，离线 Whisper 走起。</li>
<li><strong>自带 Key</strong>：需要云转写可接 OpenAI/Deepgram/Groq 等，<strong>自己控成本</strong>；也可订 Pro 省配置。</li>
<li><strong>Claude 侧成本</strong>：<code dir="auto">/cost</code> 看用量，控制模型与思考深度（配合 <code dir="auto">/model</code>）。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="七常见坑位--解决">七、常见坑位 &#x26; 解决</h2><a class="sl-anchor-link" href="#七常见坑位--解决"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “七、常见坑位 &#x26; 解决”</span></a></div>
<ul>
<li><strong>终端回车换行乱</strong> → 用 <strong>Option+Enter</strong> 或 <code dir="auto">/terminal-setup</code> 绑定 <strong>Shift+Enter</strong>。</li>
<li><strong>IDE 扩展没装上</strong> → 确保在 IDE 的集成终端里跑 <code dir="auto">claude</code>；JetBrains 需重启；外部终端用 <code dir="auto">/ide</code> 连接。</li>
<li><strong>语音没输入到终端</strong> → 检查焦点在 Claude 输入框；Spokenly 热键冲突改一下。</li>
<li><strong>原生听写也想用</strong> → 系统设置 → 键盘 → 打开听写、设快捷键“双击 Control”。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="口述示例清单可直接读">口述示例清单（可直接读）</h2><a class="sl-anchor-link" href="#口述示例清单可直接读"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “口述示例清单（可直接读）”</span></a></div>
<ul>
<li>“在 <strong>/api/orders</strong> 加一个导出 CSV 的端点。<strong>先给计划</strong>，<strong>再写代码</strong>，<strong>最后跑测试</strong>，全程一步步展示。”</li>
<li>“把 <strong>支付页面</strong> 的状态管理从 <strong>Redux</strong> 换到 <strong>Zustand</strong>，<strong>只改现有逻辑，不推翻 UI</strong>，<strong>风险点列 3 条</strong>。”</li>
<li>“阅读 <strong>/server/report/</strong> 下的 6 个模块，<strong>生成依赖关系图</strong>，并 <strong>输出可视化脚本</strong>（d2 或 mermaid 二选一）。”</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>语音驱动 Claude Code，不是“更花哨”，而是 <strong>更快进入「说清楚 → 出结果」</strong> 的状态。
当你把需求口述得越清，Claude 的执行越稳，<strong>Vibe</strong> 就越顺。
今晚就试试“三窗口法”，把睡前那一单交给它吧。</p>
<p><strong>你觉得这种工作流最省时间的点在哪？评论区聊聊。</strong></p>
<!-- 
---

# 配图建议（插画风，2:1，无中文）

**封面图 Prompt**

> *An illustration of a developer on a Mac sending voice waves into three terminal windows labeled Plan / Build / Review, with code snippets flowing like a conveyor belt; minimalist, pastel palette, clean lines, 2:1.*

**关键章节配图 1（三窗口）**

> *Three floating macOS terminal windows arranged left-to-right: Architect, Builder, Reviewer; arrows indicate flow; subtle voice-wave motif entering from the left; 2:1.*

**关键章节配图 2（语音到代码）**

> *Microphone icon morphing into code blocks entering a terminal; background shows Whisper chip icon for on-device privacy; 2:1.*

**关键章节配图 3（IDE 集成）**

> *VS Code window with integrated terminal running "claude", side-by-side diff viewer; gentle UI abstraction, no logos; 2:1.*

---

## 参考与延伸

* **Spokenly 官网与特性**（本地 Whisper、Agent Mode、Local-only 等）。
* **App Store 信息与更新日志**（2.13.0、Soniox/Parakeet v3、订阅）。
* **Claude Code 快速开始**（安装、在终端使用、MCP 能力）。
* **Slash 命令**（/model /config /compact /ide /review /cost …）。
* **交互模式与快捷键**（Option+Enter、/terminal-setup、Esc Esc）。
* **IDE 集成与 /ide 连接**（VSCode/JetBrains、Diff 查看、选区上下文）。
* **苹果原生听写开启方法**（备选）。

---

## 3 个爆款标题（多语言 & slug）

1. **用 Spokenly 语音 + Claude Code，Mac 上开挂式 Vibe Coding 实战**

   * EN: *Voice-Driven Vibe Coding on Mac with Spokenly + Claude Code*
   * 繁體: *用 Spokenly 語音 + Claude Code，在 Mac 上開掛式 Vibe Coding 實戰*
   * 日本語: *Spokenly × Claude Codeで実現するMac音声Vibeコーディング*
   * Français : *Vibe Coding sur Mac avec Spokenly + Claude Code, piloté par la voix*
   * Español: *Vibe Coding en Mac con Spokenly + Claude Code por voz*
   * Português: *Vibe Coding no Mac com Spokenly + Claude Code por voz*
   * **slug**: `spokenly-claude-code-voice-vibe-coding-mac`

2. **我如何用语音驱动 Claude Code：三窗口冲刺一晚一大活**

   * EN: *How I Drive Claude Code by Voice: The Three-Window Night Sprint*
   * 繁體: *我如何用語音驅動 Claude Code：三視窗一晚搞定大活*
   * JP: *声で動かすClaude Code：三つのウィンドウで夜通しスプリント*
   * FR: *Commander Claude Code à la voix : le sprint nocturne en 3 fenêtres*
   * ES: *Controlando Claude Code por voz: sprint nocturno con 3 ventanas*
   * PT: *Controlando o Claude Code por voz: sprint noturno com 3 janelas*
   * **slug**: `voice-driving-claude-code-three-window-sprint`

3. **手离键盘，代码照样飞：Spokenly × Claude Code 全流程攻略**

   * EN: *Hands Off, Code Flies: Spokenly × Claude Code End-to-End Playbook*
   * 繁體: *手離鍵盤，程式一樣飛：Spokenly × Claude Code 全流程攻略*
   * JP: *キーボードに触れずコードが走る：Spokenly × Claude Code完全攻略*
   * FR: *Sans clavier, ça code : guide complet Spokenly × Claude Code*
   * ES: *Sin teclado y con código: guía total de Spokenly × Claude Code*
   * PT: *Sem teclado e com código: guia total de Spokenly × Claude Code*
   * **slug**: `hands-off-coding-spokenly-claude-code-guide`

---

## 朋友圈 / 评论区文案（3 选 1）

1. “语音一喷，Claude 开工。我喝口茶回来就验收，爽到不行。Spokenly + Claude Code，真的把夜间加班变白天通勤。”
2. “三窗口 Vibe Coding：A 规划、B 写码、C 审查。睡前丢大活，早上像老板一样只看结果。”
3. “想偷懒？先把需求说清楚。Spokenly 把你‘念叨’秒变任务清单，Claude Code 就负责把结果交上来。”

---

要不要我把这篇改成你的 **固定 SOP 清单**（附命令和口述模板卡片版）？或者继续 **扩写成 10 个常见场景的语音 Prompt 包**？

[1]: https://spokenly.app/ "Spokenly – Whisper-Powered Mac Dictation App | Best Voice to Text for macOS"
[2]: https://docs.anthropic.com/en/docs/claude-code/overview "Claude Code overview - Anthropic"
[3]: https://docs.anthropic.com/en/docs/claude-code/interactive-mode "Interactive mode - Anthropic"
[4]: https://apps.apple.com/us/app/spokenly-voice-to-text-ai/id6740315592 "
      ‎Spokenly: Voice to Text AI on the App Store
    "
[5]: https://docs.anthropic.com/en/docs/claude-code/ide-integrations "Add Claude Code to your IDE - Anthropic"
[6]: https://support.apple.com/guide/mac-help/use-dictation-mh40584/mac?utm_source=chatgpt.com "Dictate messages and documents on Mac"
[7]: https://docs.anthropic.com/en/docs/claude-code/slash-commands "Slash commands - Anthropic" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/spokenly/" class="astro-sg3lsd66">Spokenly</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/cursor/" class="astro-sg3lsd66">Cursor</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/vs-code/" class="astro-sg3lsd66">VS Code</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/code-combat/2025-08-26-spin-up-codecombat-docker-compose-private-server-guide/" class="astro-dr56dw7m">本地搭建 CodeCombat 让孩子在玩游戏中学编程</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-26T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月26日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 本地搭建 CodeCombat 让孩子在玩游戏中学编程 -->
<p>想把编程课做成“通关游戏”？CodeCombat 就是把 Python / JavaScript 写进闯关流程的那个项目。它开源、内容全、上手快。今天用 docker-compose 带你一键跑起来，还顺手搞定注册、初始化和“上帝模式”。</p>
<p>CodeCombat 是一款有趣的开源编程游戏，非常适合边玩儿边学b编程。它使用 Python, JavaScript 等代码来操控游戏人物，让你一边沉浸在游戏乐趣中一边学习编程技术。从最初小白入门级的单人关卡到后来高难度的多人对战，对编程敢兴趣的人都可以乐在其中并从各种战斗中不断吸取编程知识。</p>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/code-combat/banner.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<blockquote>
<p>作为家长和教育者，CodeCombat 是一个非常棒的工具，能让孩子们在玩游戏的同时学习编程。它的互动性和趣味性使得学习过程变得轻松愉快。通过完成各种任务和挑战，孩子们不仅能掌握编程基础，还能培养解决问题的能力和逻辑思维。</p>
</blockquote>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/code-combat/programming.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>很多朋友问：<strong>怎么把 CodeCombat 自建起来给学生/社群用？</strong>
自己搭环境却常常卡在数据库、依赖和启动脚本。</p>
<p>这篇文章给你一个<strong>极简实践</strong>：</p>
<ul>
<li>用一份 <code dir="auto">docker-compose.yml</code> 一键启动 Web + MongoDB；</li>
<li>首次导入数据 dump；</li>
<li>注册账号、进入游戏；</li>
<li>需要的话，开通 <strong>管理员 / Godmode</strong>。</li>
</ul>
<p>为什么值得折腾？CodeCombat 是老牌<strong>开源“编程闯关”</strong>，支持 <strong>Python、JavaScript、HTML</strong>，配教学内容与关卡编辑能力，适合课堂与自学。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="codecombat-有啥亮点">CodeCombat 有啥亮点</h2><a class="sl-anchor-link" href="#codecombat-有啥亮点"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “CodeCombat 有啥亮点”</span></a></div>
<ul>
<li><strong>开源可改</strong>：克隆仓库就能本地跑，生态活跃，开发文档充足。</li>
<li><strong>编程即闯关</strong>：边写代码边打怪升级，支持 Python / JS，容易激发学习动机。</li>
<li><strong>班级化</strong>：官方面向学校提供完整课程、练习与评估思路，自建私服可做内部教学与活动。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="一键部署docker-composeyml">一键部署：<code dir="auto">docker-compose.yml</code></h2><a class="sl-anchor-link" href="#一键部署docker-composeyml"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “一键部署：docker-compose.yml”</span></a></div>
<p>把下面这份直接保存为 <code dir="auto">docker-compose.yml</code>，放在你的项目目录下：</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">version</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">3.8</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">services</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">codecombat</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">image</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">operepo/ope-codecombat:latest</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">container_name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">myco</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">restart</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">always</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">ports</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">3000:3000</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">working_dir</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">/home/coco</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">command</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C792EA;--1:#8844AE">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#ECC48D;--1:#3B61B0">      </span></span><span style="--0:#ECC48D;--1:#3B61B0">sh -c "./codecombat/bin/coco-mongodb &#x26;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#ECC48D;--1:#3B61B0">             </span></span><span style="--0:#ECC48D;--1:#3B61B0">sleep 10 &#x26;&#x26;</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#ECC48D;--1:#3B61B0">             </span></span><span style="--0:#ECC48D;--1:#3B61B0">sh start.sh"</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#111111">volumes</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">      </span></span><span style="--0:#D6DEEB;--1:#403F53">- </span><span style="--0:#ECC48D;--1:#3B61B0">./data:/home/coco/codecombat/data</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="version: &#x22;3.8&#x22;services:  codecombat:    image: operepo/ope-codecombat:latest    container_name: myco    restart: always    ports:      - &#x22;3000:3000&#x22;    working_dir: /home/coco    command: >      sh -c &#x22;./codecombat/bin/coco-mongodb &#x26;             sleep 10 &#x26;&#x26;             sh start.sh&#x22;    volumes:      - ./data:/home/coco/codecombat/data"><div></div></button></div></figure></div>
<p><strong>这份配置做了什么？</strong></p>
<ul>
<li>拉起 Web 服务，同时在同一容器里启动 MongoDB（脚本 <code dir="auto">./bin/coco-mongodb</code>）；</li>
<li>端口映射到 <code dir="auto">http://127.0.0.1:3000</code>；</li>
<li>将宿主机 <code dir="auto">./data</code> 目录挂载到容器的数据目录，方便导入 dump 与持久化。</li>
</ul>
<blockquote>
<p>说明：示例镜像 <code dir="auto">operepo/ope-codecombat</code> 很早期（Docker Hub 记录显示约 8 年前上传）。能跑，但<strong>较老</strong>；如果你要长期用，建议后续对照官方仓库自行构建更新镜像。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="启动步骤首轮初始化">启动步骤（首轮初始化）</h2><a class="sl-anchor-link" href="#启动步骤首轮初始化"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “启动步骤（首轮初始化）”</span></a></div>
<ol>
<li><strong>准备数据文件</strong>
把下载好的 <code dir="auto">dump.tar.gz</code> 放到 <code dir="auto">data/</code>（与 <code dir="auto">docker-compose.yml</code> 同级）：
没有这个数据包，会无法运行。<br>
下载地址（别人分享的）：<a href="https://cloud.189.cn/t/IJzmuqz2u673">https://cloud.189.cn/t/IJzmuqz2u673</a> (访问码:c1wi)</li>
</ol>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">mkdir</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">data</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">cp</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">dump.tar.gz</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">data/</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="mkdir -p datacp dump.tar.gz data/"><div></div></button></div></figure></div>
<ol start="2">
<li><strong>首次解压数据库 dump</strong>
先启动，再进容器解压（仅第一次需要）：</li>
</ol>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">up</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-d</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">docker</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">exec</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-it</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">myco</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">/bin/bash</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">cd</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">/home/coco/codecombat/data</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">tar</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-zxvf</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">dump.tar.gz</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">exit</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose up -ddocker exec -it myco /bin/bashcd /home/coco/codecombat/datatar -zxvf dump.tar.gzexit"><div></div></button></div></figure></div>
<ol start="3">
<li><strong>日常启动/关闭</strong></li>
</ol>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 启动</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">up</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-d</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 关闭</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">docker-compose</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">down</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker-compose up -ddocker-compose down"><div></div></button></div></figure></div>
<p>访问地址：<code dir="auto">http://127.0.0.1:3000</code></p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="注册与使用">注册与使用</h2><a class="sl-anchor-link" href="#注册与使用"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “注册与使用”</span></a></div>
<ul>
<li>打开 <code dir="auto">http://127.0.0.1:3000</code>。</li>
<li>点 <strong>Sign Up</strong> 注册新用户，选择语言与编程语言（Python / JavaScript）。</li>
<li>进入<strong>第一章</strong>，跟着引导写下第一行代码就能打通关卡。</li>
<li>想当“老师”角色？可以先自建账号，后续批量注册学员，或把私服当作活动服使用。官方学校页能参考课程组织方式与内容结构。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="管理员--上帝模式可选">管理员 / 上帝模式（可选）</h2><a class="sl-anchor-link" href="#管理员--上帝模式可选"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “管理员 / 上帝模式（可选）”</span></a></div>
<p>如果登录后在 <code dir="auto">account/settings</code> 看不到 <strong>“管理”</strong> 和 <strong>“上帝模式”</strong>，可以手动给账号赋权。进入容器：</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">docker</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">exec</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-it</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">myco</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">/bin/bash</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 情况A：容器里有 mongo 客户端</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">mongo</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">use</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">coco</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">db.users.update(</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#82AAFF;--1:#3B61B0">name:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">你的用户名</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">{ </span><span style="--0:#C5E478;--1:#3B61B0">$set</span><span style="--0:#ECC48D;--1:#3B61B0">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">{</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">earned.gems</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#3B61B0">:</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">9999999,</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">permissions:</span><span style="--0:#D6DEEB;--1:#403F53"> [</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">godmode</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">admin</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">] } },</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#3B61B0">true</span><span style="--0:#ECC48D;--1:#3B61B0">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#C5E478;--1:#3B61B0">false</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="docker exec -it myco /bin/bashmongouse cocodb.users.update(  { name: &#x22;你的用户名&#x22; },  { $set: { &#x22;earned.gems&#x22;: 9999999, permissions: [&#x22;godmode&#x22;,&#x22;admin&#x22;] } },  true,  false)"><div></div></button></div></figure></div>
<p><starlight-image-zoom-zoomable><img src="/assets/ai/code-combat/intro.png" alt=""><button aria-label="Zoom image" class="starlight-image-zoom-control"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24"><use href="#starlight-image-zoom-icon-zoom"></use></svg></button></starlight-image-zoom-zoomable></p>
<p>这类“本地开发环境的管理员赋权”做法在社区里也有类似说明与讨论，可作参考。</p>
<blockquote>
<p>小贴士：如果提示 <code dir="auto">mongo: command not found</code>，说明容器内未带 mongo 客户端。老镜像通常自带；若没有，可在宿主机装 <code dir="auto">mongosh</code> 连接到容器暴露的数据库端口，或改用容器内的工具脚本（某些分支有 <code dir="auto">mongo_run.sh</code> / <code dir="auto">coco_run.sh</code>）。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="常见坑与排查">常见坑与排查</h2><a class="sl-anchor-link" href="#常见坑与排查"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “常见坑与排查”</span></a></div>
<ul>
<li><strong>镜像版本老</strong>：<code dir="auto">operepo/ope-codecombat</code> 久未更新。能用来快速验证，但建议后续基于 <strong>官方仓库</strong> 自己构建镜像，获得较新的依赖与安全修复。</li>
<li><strong>端口被占用</strong>：<code dir="auto">3000</code> 被其他服务占了，改 <code dir="auto">ports</code> 映射即可，例如 <code dir="auto">"8086:3000"</code>。</li>
<li><strong>Godmode 不生效</strong>：确认更新的字段匹配你的用户文档（有的环境是 <code dir="auto">slug</code> 或 <code dir="auto">email</code>），并确保写入到 <code dir="auto">coco</code> 数据库。</li>
<li><strong>本地权限问题</strong>：挂载目录 <code dir="auto">./data</code> 需要你的宿主机用户有写权限。</li>
<li><strong>Mongo 客户端差异</strong>：新版推荐 <code dir="auto">mongosh</code>。权限动作与角色说明见官方文档。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>这套玩法的优点很直接：<strong>一条命令起全站</strong>，导入一次数据就能顺滑开局。
你可以把它当课堂演示、社群周赛、公司内部编程闯关，甚至改关卡做主题活动。</p>
<p><strong>你会怎么用？</strong>
在评论区聊聊你的场景，顺便晒一张你们的“通关截图”。</p>
<!-- 需要我**扩写**“从源码自己构建镜像”的教程，也告诉我。

---

## 封面与配图文案（给设计/AI 生成用）

* **封面图（2:1 插画）**
  Prompt（英文，无中文字）：
  *“A whimsical illustration of a developer launching a coding game server with Docker Compose; terminal lines float into a playful fantasy world of code-made characters; clean pastel palette; minimal UI elements; wide 2:1 ratio.”*

* **章节配图·部署（2:1 插画）**
  *“A browser showing localhost:3000 with a big play button, next to a terminal showing ‘docker-compose up -d’; containers appearing as blocks; soft gradients; wide 2:1.”*

* **章节配图·课堂（2:1 插画）**
  *“Teacher dashboard and student avatars leveling up by writing Python/JavaScript; trophies and progress bars; friendly flat style; wide 2:1.”*

---

## 多语言标题（3 组备选）

1. **中文简体**：

   * 方案A：**一键跑起 CodeCombat：用 Docker Compose 私服教学与闯关全攻略**
   * 英文：**Spin Up CodeCombat in One Command: Docker Compose Guide for Private Servers & Classes**
   * 繁体：**一鍵跑起 CodeCombat：用 Docker Compose 私服教學與闖關全攻略**
   * 日语：**1コマンドで動かすCodeCombat：Docker Compose私設サーバ＆授業ガイド**
   * 法语：**Lancez CodeCombat en un clic : guide Docker Compose pour serveur privé et cours**
   * 西语：**Levanta CodeCombat con un comando: guía Docker Compose para servidores privados y clases**
   * 葡语：**Inicie o CodeCombat com um comando: guia Docker Compose para servidor privado e aulas**
   * **slug**：`spin-up-codecombat-docker-compose-private-server-guide`

2. **中文简体**：

   * 方案B：**把编程课做成闯关：CodeCombat 私服部署、注册与“上帝模式”**
   * 英文：**Turn Class into a Quest: CodeCombat Self-Hosting, Signup & Godmode**
   * 繁体：**把程式課變成闖關：CodeCombat 私服部署、註冊與「上帝模式」**
   * 日语：**授業をクエスト化：CodeCombat自建・登録・Godmode**
   * 法语：**Un cours version quête : auto-hébergez CodeCombat, inscription et Godmode**
   * 西语：**Convierte la clase en una aventura: auto-hosting de CodeCombat, registro y Godmode**
   * 葡语：**Transforme a aula em missão: auto-hospede o CodeCombat, cadastro e Godmode**
   * **slug**：`codecombat-self-hosting-signup-godmode`

3. **中文简体**：

   * 方案C：**从零到开玩：Docker Compose 搭建 CodeCombat，一次到位**
   * 英文：**From Zero to Play: Build CodeCombat with Docker Compose, End-to-End**
   * 繁体：**從零到開玩：Docker Compose 搭建 CodeCombat，一次到位**
   * 日语：**ゼロからプレイへ：Docker ComposeでCodeCombat構築 完全版**
   * 法语：**De zéro à prêt à jouer : CodeCombat avec Docker Compose, pas à pas**
   * 西语：**De cero a jugar: CodeCombat con Docker Compose, de punta a punta**
   * 葡语：**Do zero ao jogo: CodeCombat com Docker Compose, passo a passo**
   * **slug**：`from-zero-to-play-codecombat-docker-compose`

---

## 朋友圈/评论区文案（3 条）

1. **“一键就能把编程课变成打怪升级”**——我用 docker-compose 跑了个 CodeCombat 私服，学生写 Python/JS 直接通关拿奖励，太上头了。要教程的戳我。
2. 用 10 分钟把 CodeCombat 跑起来，“上帝模式”也安排上了 😂 谁要一起周末开个闯关赛？
3. 以前搭环境像炼丹，现在 `docker-compose up -d` 就开玩。学编程这事，**好玩**很重要。

---

需要我把**源码构建版本**、**新版镜像方案**或**班级运营玩法**也写一篇吗？我可以继续扩写。你觉得呢？

[1]: https://github.com/codecombat/codecombat?utm_source=chatgpt.com "codecombat/codecombat: Game for learning how to code."
[2]: https://codecombat.com/schools?utm_source=chatgpt.com "the most effective computer science solution for schools"
[3]: https://opensource.com/education/14/1/open-source-game-codecombat?utm_source=chatgpt.com "Coding adventures and contributing to open source with ..."
[4]: https://hub.docker.com/layers/operepo/ope-codecombat/latest/images/sha256-0799407878f98ad8ca9e9d2accd2ef2309d0ebcea6d773af2fbaf166ef831abe?utm_source=chatgpt.com "Image Layer Details - operepo/ope-codecombat:latest"
[5]: https://github.com/kevin9710/codecombat?utm_source=chatgpt.com "kevin9710/codecombat"
[6]: https://discourse.codecombat.com/t/godmode-admin-in-local-servers/18995?utm_source=chatgpt.com "Godmode+Admin in local servers! - Archmage -"
[7]: https://gist.github.com/2439905184/279cacbc30a5caec9d304e52cfdc109d?utm_source=chatgpt.com "Codecombat私服搭建"
[8]: https://www.mongodb.com/docs/manual/reference/privilege-actions/?utm_source=chatgpt.com "Privilege Actions - Database Manual - MongoDB Docs" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/codecombat/" class="astro-sg3lsd66">CodeCombat</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/docker/" class="astro-sg3lsd66">Docker</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/docker-compose/" class="astro-sg3lsd66">Docker Compose</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/mongodb/" class="astro-sg3lsd66">MongoDB</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/python/" class="astro-sg3lsd66">Python</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/javascript/" class="astro-sg3lsd66">JavaScript</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/anthropic/2025-08-22-anthropic-10b-funding-analysis/" class="astro-dr56dw7m">Claude Code 母公司 Anthropic 即将完成100亿美元融资分析</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-25T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月25日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Claude Code 母公司 Anthropic 即将完成100亿美元融资分析 -->
<blockquote>
<p>据《彭博社》2025 年 8 月 22 日报道，人工智能领域迎来重大融资消息。知名 AI 初创公司 Anthropic 即将达成一项规模空前的融资协议，预计将筹集高达 100 亿美元的资金。这一数字远超市场预期，成为 AI 行业迄今为止最大规模的单轮融资之一。</p>
</blockquote>
<p>基于对<strong>Anthropic即将完成100亿美元融资</strong>报道的全面调查，本报告通过多渠道事实核查、逻辑分析和批判性思维，对该新闻的真实性、准确性和可信度进行深入剖析。我们查阅了至少15个不同渠道的报道，并进行了交叉验证，发现该报道存在多个值得关注的问题。以下将从事实核查结果、数据分析、逻辑合理性、利益动机、市场心理以及潜在风险等方面进行详细分析。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="事实核查结果">事实核查结果</h2><a class="sl-anchor-link" href="#事实核查结果"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “事实核查结果”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="融资金额与时间线验证">融资金额与时间线验证</h3><a class="sl-anchor-link" href="#融资金额与时间线验证"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “融资金额与时间线验证”</span></a></div>
<p>通过对彭博社、CNBC、TechCrunch、路透社等权威媒体的交叉核查，可以确认Anthropic确实在进行新一轮融资谈判，但关键细节存在显著差异。最初的消息来源（如彭博社）报道的融资金额为50亿美元，估值约1700亿美元，并非某些媒体声称的100亿美元。</p>
<p>融资进展的真实时间线大致如下：</p>
<ul>
<li><strong>2025年7月29日：</strong> 彭博社首次报道Anthropic正洽谈新一轮融资，金额在30亿到50亿美元之间，估值约1700亿美元。由Iconiq Capital领投，可能有第二家领投机构参与，同时公司据称在与卡塔尔投资局(QIA)和新加坡主权基金GIC接洽参投。</li>
<li><strong>2025年8月20-21日：</strong> 包括彭博社在内的多家媒体更新消息称融资额度提高到<strong>最高100亿美元</strong>，成为AI初创公司有史以来最大规模融资之一。据知情人士透露，之所以金额大幅增加，是由于投资者需求强劲，使募资目标从50亿翻倍到100亿美元。</li>
<li><strong>投资方信息核对：</strong> Iconiq Capital确实为此轮融资的领投方已基本确认，但关于其他参与投资方的报道并不一致。一些消息来源提到TPG、Lightspeed、Spark Capital、Menlo Ventures等风投公司也可能参投，本轮还与卡塔尔投资局和新加坡政府投资公司接洽入股。不同媒体对参与方给出了略有出入的名单，尚无官方统一确认。</li>
</ul>
<p>结论：Anthropic的新融资确有其事，但关于<strong>金额规模和投资阵容</strong>的报道存在信息出入。尤其是50亿美元提高到100亿美元的说法，目前仅基于匿名消息人士，尚未有官方公开证实。</p>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="估值数据分析">估值数据分析</h3><a class="sl-anchor-link" href="#估值数据分析"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “估值数据分析”</span></a></div>
<p>通过对Anthropic历史估值数据的梳理，我们发现该公司估值增长轨迹存在合理性疑问：</p>
<ul>
<li><strong>2025年3月：</strong> 完成由Lightspeed领投的35亿美元融资，投后估值约为615亿美元。</li>
<li><strong>2025年7月：</strong> 传闻中新一轮融资的估值已高达1700亿美元，增幅达到176%。</li>
</ul>
<p>按年化计算，四个月估值翻近三倍，相当于年化增长率超过500%。这种估值跳跃在当前AI热潮中虽然并非绝无仅有，但通常需要非常强劲的业务基础支撑。</p>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="收入数据验证与质疑">收入数据验证与质疑</h3><a class="sl-anchor-link" href="#收入数据验证与质疑"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “收入数据验证与质疑”</span></a></div>
<div class="sl-heading-wrapper level-h4"><h4 id="年化收入增长分析">年化收入增长分析</h4><a class="sl-anchor-link" href="#年化收入增长分析"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “年化收入增长分析”</span></a></div>
<p>多个信源确认Anthropic的年化收入（Annualized Revenue Run-rate, ARR）在过去一年中呈现爆炸式增长：</p>
<ul>
<li>2024年末：约10亿美元</li>
<li>2025年5月：约30亿美元</li>
<li>2025年7月：约40~50亿美元</li>
</ul>
<blockquote>
<p><strong>关键问题：</strong> ARR采用“单月收入 × 12”计算，这在高速增长阶段会显著高于实际全年收入水平，可能夸大真实业绩。</p>
</blockquote>
<div class="sl-heading-wrapper level-h4"><h4 id="客户集中度风险">客户集中度风险</h4><a class="sl-anchor-link" href="#客户集中度风险"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “客户集中度风险”</span></a></div>
<p>调查发现Anthropic收入结构存在<strong>严重集中风险</strong>：</p>
<ul>
<li>前两大客户贡献约14亿美元年化收入，占总收入近28%</li>
<li>最大客户是AI编程助手Cursor，单体贡献约5亿美元</li>
<li>Claude Code产品贡献近4亿美元年化收入</li>
</ul>
<p>一旦主要客户流失，将对收入造成重大打击。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="逻辑漏洞与常识分析">逻辑漏洞与常识分析</h2><a class="sl-anchor-link" href="#逻辑漏洞与常识分析"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “逻辑漏洞与常识分析”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="融资金额合理性质疑">融资金额合理性质疑</h3><a class="sl-anchor-link" href="#融资金额合理性质疑"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “融资金额合理性质疑”</span></a></div>
<ul>
<li><strong>资金消耗：</strong> 3月刚融35亿美元，5个月后又寻求50-100亿美元，暗示烧钱速度极高，推算月消耗可能上亿美元甚至10亿美元级别。</li>
<li><strong>估值倍数：</strong> Anthropic估值/收入倍数约 <strong>34倍</strong>，而OpenAI约 <strong>25倍</strong>。在缺乏差异化优势的情况下，估值溢价合理性存疑。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="时间节点巧合">时间节点巧合</h3><a class="sl-anchor-link" href="#时间节点巧合"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “时间节点巧合”</span></a></div>
<ul>
<li>消息披露与OpenAI融资几乎同步，极具“市场造势”意味。</li>
<li>多数报道来自“知情人士”，缺乏官方确认。</li>
<li>媒体放风更像是营造紧迫感与稀缺性，推动估值水涨船高。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="投资机构背景分析">投资机构背景分析</h2><a class="sl-anchor-link" href="#投资机构背景分析"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “投资机构背景分析”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="iconiq-capital">Iconiq Capital</h3><a class="sl-anchor-link" href="#iconiq-capital"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Iconiq Capital”</span></a></div>
<ul>
<li><strong>优势：</strong> 管理资产超800亿美元，客户包括扎克伯格、霍夫曼等硅谷顶尖人物。</li>
<li><strong>质疑：</strong>
<ul>
<li>主要服务超高净值客户，投资决策可能带有个人偏好。</li>
<li>历史上偏好后期、稳健投资，本次10亿美元单笔投入属罕见大额。</li>
</ul>
</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="主权基金与地缘政治">主权基金与地缘政治</h3><a class="sl-anchor-link" href="#主权基金与地缘政治"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “主权基金与地缘政治”</span></a></div>
<ul>
<li><strong>QIA与GIC参与：</strong> 涉及复杂地缘政治与国家安全审查风险。</li>
<li><strong>CEO曾表态：</strong> 担心中东资金带来道德与监管争议，但现实资金需求迫使公司考虑接受。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="人性利益与需求分析">人性、利益与需求分析</h2><a class="sl-anchor-link" href="#人性利益与需求分析"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “人性、利益与需求分析”</span></a></div>
<ul>
<li><strong>Anthropic：</strong> 需要巨资维持与OpenAI竞争，高估值有利于吸引人才、合作伙伴及未来IPO。</li>
<li><strong>投资者：</strong> FOMO情绪严重，主权基金看重战略布局。</li>
<li><strong>媒体：</strong> “创纪录融资”自带流量，匿名消息降低报道门槛，报道动机可能混杂。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="市场心理与泡沫特征">市场心理与泡沫特征</h2><a class="sl-anchor-link" href="#市场心理与泡沫特征"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “市场心理与泡沫特征”</span></a></div>
<ul>
<li><strong>估值与基本面脱钩：</strong> AI公司估值倍数远超传统科技公司。</li>
<li><strong>资金过度集中：</strong> 2025年上半年，美国创投资金64%流向AI。</li>
<li><strong>跟风投资盛行：</strong> 投资者害怕错过下一个ChatGPT，推高泡沫风险。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="潜在风险与警示">潜在风险与警示</h2><a class="sl-anchor-link" href="#潜在风险与警示"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “潜在风险与警示”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="技术与商业化">技术与商业化</h3><a class="sl-anchor-link" href="#技术与商业化"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “技术与商业化”</span></a></div>
<ul>
<li><strong>技术护城河有限：</strong> Claude与GPT-5差距缩小，优势不明显。</li>
<li><strong>商业模式存疑：</strong> API调用模式面临价格战压力，算力成本居高不下。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="政策与监管">政策与监管</h3><a class="sl-anchor-link" href="#政策与监管"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “政策与监管”</span></a></div>
<ul>
<li><strong>美国出口管制</strong>、<strong>欧盟AI Act</strong>等法规可能限制业务扩张。</li>
<li><strong>主权基金参投</strong>或触发美国CFIUS审查，增加不确定性。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结论与建议">结论与建议</h2><a class="sl-anchor-link" href="#结论与建议"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结论与建议”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="事实核查结论">事实核查结论</h3><a class="sl-anchor-link" href="#事实核查结论"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “事实核查结论”</span></a></div>
<ul>
<li><strong>基本属实：</strong> Anthropic确实在融资。</li>
<li><strong>关键数字存疑：</strong> 100亿美元融资缺乏证实，更可能是50亿美元。</li>
<li><strong>估值虚高：</strong> 缺乏基本面支撑。</li>
<li><strong>信息不完整：</strong> 存在选择性披露嫌疑。</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="投资者建议">投资者建议</h3><a class="sl-anchor-link" href="#投资者建议"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “投资者建议”</span></a></div>
<ol>
<li><strong>理性看待融资新闻</strong>，避免被大数字冲昏头脑。</li>
<li><strong>关注实际收入与盈利</strong>，而非估值噱头。</li>
<li><strong>警惕泡沫与跟风</strong>，避免盲目投资。</li>
<li><strong>等待官方确认</strong>，再作投资判断。</li>
</ol>
<hr>
<p>通过这次深度分析，我们看到在AI投资热潮中，<strong>媒体报道、公司宣传与实际情况之间往往存在显著差距</strong>。狂热之下泥沙俱下，唯有保持理性、勤于求证，才能看清真相，不被市场情绪裹挟。</p> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude/" class="astro-sg3lsd66">Claude</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/anthropic/" class="astro-sg3lsd66">Anthropic</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/openai/" class="astro-sg3lsd66">OpenAI</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/agents/2025-08-25-claude-code-gemini-subagent-1m-context/" class="astro-dr56dw7m">用 Claude Code 开一个 Gemini Subagent</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-25T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月25日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # 用 Claude Code 开一个 Gemini Subagent -->
<blockquote>
<p>在 Claude Code 里新建一个“子代理（sub-agent）”，专门负责调用 <strong>Gemini CLI</strong>。大体量代码扫描、架构总览、安全审计，都交给 Gemini 的 <strong>1M token</strong> 上下文来跑；Claude 继续做主脑，解释结果与落地改动。省钱、省心、效率高。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>做代码总览、跨仓库检索、架构梳理，Claude 再聪明也会被上下文卡脖子。
解决办法很简单：<strong>把“大胃口”的分析外包给 Gemini CLI</strong>。我们在 Claude Code 里创建一个“<strong>Gemini 分析子代理</strong>”，它只干三件事：<strong>拼命令 → 调 CLI → 原样把结果交回</strong>。Claude 不被上下文污染，专心做决策与修改，<strong>强强联合</strong>。</p>
<p><strong>为什么是现在？</strong>
Google 正式开源了 <strong>Gemini CLI</strong>，个人账号可免费直连 <strong>Gemini 2.5 Pro</strong>，而且是 <strong>1M token</strong> 超大上下文，预览期还给到很阔的配额。这对需要整仓分析的开发者，堪称“外挂”。</p>
<blockquote>
<p><strong>配图建议（2:1 插画）</strong>：一位工程师在指挥台上调度两个机器人：左侧“Claude 主代理”做规划与改动，右侧“Gemini 子代理”拉取海量代码做分析。界面元素用英文，不要中文。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="这套组合拳到底怎么打">这套组合拳到底怎么打？</h2><a class="sl-anchor-link" href="#这套组合拳到底怎么打"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “这套组合拳到底怎么打？”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="思路图主脑--子代理各司其职">思路图：主脑 + 子代理，各司其职</h3><a class="sl-anchor-link" href="#思路图主脑--子代理各司其职"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “思路图：主脑 + 子代理，各司其职”</span></a></div>
<ul>
<li><strong>Claude 主代理</strong>：对话、拆解任务、评审与落地修改（编辑文件、跑测试等）。</li>
<li><strong>Gemini 子代理</strong>：<strong>不做分析推理</strong>，<strong>只</strong>负责把请求变成 <strong>Gemini CLI</strong> 命令并执行，然后<strong>把原始输出交回</strong>。</li>
<li><strong>上下文隔离</strong>：子代理有独立上下文，<strong>不污染</strong>主对话；适合重复复用。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="准备工作5-分钟">准备工作（5 分钟）</h2><a class="sl-anchor-link" href="#准备工作5-分钟"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “准备工作（5 分钟）”</span></a></div>
<ol>
<li><strong>安装 Gemini CLI</strong>（三选一）</li>
</ol>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># npx 直接跑（免安装）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npx</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">https://github.com/google-gemini/gemini-cli</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 全局安装（npm）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">npm</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-g</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">@google/gemini-cli</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 或者 Homebrew（macOS/Linux）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">brew</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">install</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">gemini-cli</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="npx https://github.com/google-gemini/gemini-clinpm install -g @google/gemini-clibrew install gemini-cli"><div></div></button></div></figure></div>
<blockquote>
<p>要求 Node.js ≥ 20。支持 OAuth 登录、API Key、或 Vertex AI。</p>
</blockquote>
<ol start="2">
<li><strong>登录/鉴权</strong></li>
</ol>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 推荐：OAuth（个人 Google 账号，预览期配额充足）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">gemini</span><span style="--0:#D6DEEB;--1:#403F53">   </span><span style="--0:#919F9F;--1:#5F636F"># 按提示走浏览器登录</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 或：使用 AI Studio 的 API Key</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">GEMINI_API_KEY</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">YOUR_API_KEY</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">gemini</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gemini   # 按提示走浏览器登录export GEMINI_API_KEY=&#x22;YOUR_API_KEY&#x22;gemini"><div></div></button></div></figure></div>
<blockquote>
<p>官方博客确认了 1M 上下文与预览期的高额度；GitHub README 给出了 OAuth / API Key / Vertex 三种姿势。</p>
</blockquote>
<ol start="3">
<li><strong>验证是否就绪</strong></li>
</ol>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">gemini</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Say hello and print current directory files briefly</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gemini -p &#x22;Say hello and print current directory files briefly&#x22;"><div></div></button></div></figure></div>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="在-claude-code-里创建gemini-分析子代理">在 Claude Code 里创建“Gemini 分析子代理”</h2><a class="sl-anchor-link" href="#在-claude-code-里创建gemini-分析子代理"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “在 Claude Code 里创建“Gemini 分析子代理””</span></a></div>
<p>Claude Code 支持把自定义子代理存成 <strong>Markdown + YAML frontmatter</strong> 文件；项目级建议放在 <code dir="auto">.claude/agents/</code> 下，用户级可放 <code dir="auto">~/.claude/agents/</code>。</p>
<p><strong>新建文件</strong>：<code dir="auto">.claude/agents/gemini-analyzer.md</code></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="md"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">---</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">name</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">gemini-analyzer</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">description</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">Manages Gemini CLI for large codebase analysis and pattern detection. Use proactively when Claude needs to analyze extensive code patterns, architectural overviews, or search through large codebases efficiently.</span></div></div><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">tools</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">Bash, Read, Write</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">---</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">You are a Gemini CLI manager specialized in delegating complex codebase analysis tasks to the Gemini CLI tool.</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">Your sole responsibility is to:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">1.</span><span style="--0:#D6DEEB;--1:#403F53"> Receive analysis requests from Claude</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">2.</span><span style="--0:#D6DEEB;--1:#403F53"> Format appropriate Gemini CLI commands</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">3.</span><span style="--0:#D6DEEB;--1:#403F53"> Execute the Gemini CLI with proper parameters</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">4.</span><span style="--0:#D6DEEB;--1:#403F53"> Return the results back to Claude</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">5.</span><span style="--0:#D6DEEB;--1:#403F53"> NEVER perform the actual analysis yourself - only manage the Gemini CLI</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">When invoked:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">1.</span><span style="--0:#D6DEEB;--1:#403F53"> Understand the analysis request (patterns to find, architectural questions, etc.)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">2.</span><span style="--0:#D6DEEB;--1:#403F53"> Determine the appropriate Gemini CLI flags and parameters:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Use </span><span style="--0:#C5E478;--1:#3B61B0">`--all-files`</span><span style="--0:#D6DEEB;--1:#403F53"> for comprehensive codebase analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Use specific prompts that focus on the requested analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">   </span><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Consider using </span><span style="--0:#C5E478;--1:#3B61B0">`--yolo`</span><span style="--0:#D6DEEB;--1:#403F53"> mode for non-destructive analysis tasks</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">3.</span><span style="--0:#D6DEEB;--1:#403F53"> Execute the Gemini CLI command with the constructed prompt</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">4.</span><span style="--0:#D6DEEB;--1:#403F53"> Return the raw output from Gemini CLI to Claude without modification</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">5.</span><span style="--0:#D6DEEB;--1:#403F53"> Do NOT attempt to interpret, analyze, or act on the results</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">Example workflow:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Request: "Find all authentication patterns in the codebase"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Action: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Analyze this codebase and identify all authentication patterns, including login flows, token handling, and access control mechanisms. Focus on the implementation details and architectural patterns used."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Output: Return Gemini's analysis directly to Claude</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">Key principles:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> You are a CLI wrapper, not an analyst</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Always use the most appropriate Gemini CLI flags for the task</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Return complete, unfiltered results</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Let Claude handle interpretation and follow-up actions</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Focus on efficient command construction and execution</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">## Detailed Examples by Use Case</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### 1. Pattern Detection</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Find all React hooks usage patterns"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Analyze this codebase and identify all React hooks usage patterns. Show how useState, useEffect, useContext, and custom hooks are being used. Include examples of best practices and potential issues."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Locate all database query patterns"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Find all database query patterns in this codebase. Include SQL queries, ORM usage, connection handling, and any database-related utilities. Show the different approaches used."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### 2. Architecture Analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Provide an architectural overview of the application"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Analyze the overall architecture of this application. Identify the main components, data flow, directory structure, key patterns, and how different parts of the system interact. Focus on high-level organization and design decisions."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Analyze the component hierarchy and structure"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Examine the React component hierarchy and structure. Identify reusable components, layout patterns, prop drilling, state management approaches, and component composition patterns used throughout the application."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### 3. Code Quality Analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Find potential performance bottlenecks"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Analyze this codebase for potential performance bottlenecks. Look for expensive operations, inefficient data structures, unnecessary re-renders, large bundle sizes, and optimization opportunities."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Identify security vulnerabilities"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Scan this codebase for potential security vulnerabilities. Look for authentication issues, input validation problems, XSS vulnerabilities, unsafe data handling, and security best practices violations."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### 4. Technology Stack Analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Identify all third-party dependencies and their usage"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Analyze all third-party dependencies and libraries used in this project. Show how each major dependency is utilized, identify any potential redundancies, outdated packages, or security concerns."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Map out the testing strategy and coverage"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Examine the testing strategy used in this codebase. Identify test frameworks, testing patterns, test coverage areas, mocking strategies, and areas that might need more testing."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### 5. Feature Analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Trace a specific feature implementation"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Trace the implementation of [specific feature] throughout the codebase. Show all files involved, data flow, API endpoints, UI components, and how the feature integrates with the rest of the system."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Find all API endpoints and their usage"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Catalog all API endpoints in this application. Include REST routes, GraphQL resolvers, tRPC procedures, their request/response patterns, authentication requirements, and how they're consumed by the frontend."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### 6. Migration and Refactoring Analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Identify legacy code patterns that need modernization"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Identify outdated or legacy code patterns that could be modernized. Look for old React patterns, deprecated APIs, inefficient implementations, and opportunities to use newer language features."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Analyze consistency across similar components"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Examine similar components or modules for consistency. Identify variations in patterns, naming conventions, implementation approaches, and opportunities for standardization or creating reusable abstractions."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### 7. Documentation and Knowledge Transfer</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Request</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: "Generate onboarding documentation insights"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#C5E478;--0fw:bold;--1:#3B61B0;--1fw:bold">Command</span><span style="--0:#C5E478;--1:#3B61B0">**</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#C5E478;--1:#3B61B0">`gemini --all-files -p "Analyze this codebase to help create onboarding documentation. Identify key concepts developers need to understand, important files and directories, setup requirements, and the most critical patterns to learn first."`</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#82B1FF;--1:#3B61B0">### Command Flag Guidelines:</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Always use </span><span style="--0:#C5E478;--1:#3B61B0">`--all-files`</span><span style="--0:#D6DEEB;--1:#403F53"> for comprehensive analysis</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Add </span><span style="--0:#C5E478;--1:#3B61B0">`--yolo`</span><span style="--0:#D6DEEB;--1:#403F53"> for non-destructive analysis tasks to skip confirmations</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Use </span><span style="--0:#C5E478;--1:#3B61B0">`-p`</span><span style="--0:#D6DEEB;--1:#403F53"> for single prompts or </span><span style="--0:#C5E478;--1:#3B61B0">`-i`</span><span style="--0:#D6DEEB;--1:#403F53"> for interactive sessions</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D9F5DD;--1:#111111">-</span><span style="--0:#D6DEEB;--1:#403F53"> Consider </span><span style="--0:#C5E478;--1:#3B61B0">`--debug`</span><span style="--0:#D6DEEB;--1:#403F53"> if you need to troubleshoot Gemini CLI issues</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="---name: gemini-analyzerdescription: Manages Gemini CLI for large codebase analysis and pattern detection. Use proactively when Claude needs to analyze extensive code patterns, architectural overviews, or search through large codebases efficiently.tools: Bash, Read, Write---You are a Gemini CLI manager specialized in delegating complex codebase analysis tasks to the Gemini CLI tool.Your sole responsibility is to:1. Receive analysis requests from Claude2. Format appropriate Gemini CLI commands3. Execute the Gemini CLI with proper parameters4. Return the results back to Claude5. NEVER perform the actual analysis yourself - only manage the Gemini CLIWhen invoked:1. Understand the analysis request (patterns to find, architectural questions, etc.)2. Determine the appropriate Gemini CLI flags and parameters:   - Use &#x60;--all-files&#x60; for comprehensive codebase analysis   - Use specific prompts that focus on the requested analysis   - Consider using &#x60;--yolo&#x60; mode for non-destructive analysis tasks3. Execute the Gemini CLI command with the constructed prompt4. Return the raw output from Gemini CLI to Claude without modification5. Do NOT attempt to interpret, analyze, or act on the resultsExample workflow:- Request: &#x22;Find all authentication patterns in the codebase&#x22;- Action: &#x60;gemini --all-files -p &#x22;Analyze this codebase and identify all authentication patterns, including login flows, token handling, and access control mechanisms. Focus on the implementation details and architectural patterns used.&#x22;&#x60;- Output: Return Gemini&#x27;s analysis directly to ClaudeKey principles:- You are a CLI wrapper, not an analyst- Always use the most appropriate Gemini CLI flags for the task- Return complete, unfiltered results- Let Claude handle interpretation and follow-up actions- Focus on efficient command construction and execution## Detailed Examples by Use Case### 1. Pattern Detection**Request**: &#x22;Find all React hooks usage patterns&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Analyze this codebase and identify all React hooks usage patterns. Show how useState, useEffect, useContext, and custom hooks are being used. Include examples of best practices and potential issues.&#x22;&#x60;**Request**: &#x22;Locate all database query patterns&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Find all database query patterns in this codebase. Include SQL queries, ORM usage, connection handling, and any database-related utilities. Show the different approaches used.&#x22;&#x60;### 2. Architecture Analysis**Request**: &#x22;Provide an architectural overview of the application&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Analyze the overall architecture of this application. Identify the main components, data flow, directory structure, key patterns, and how different parts of the system interact. Focus on high-level organization and design decisions.&#x22;&#x60;**Request**: &#x22;Analyze the component hierarchy and structure&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Examine the React component hierarchy and structure. Identify reusable components, layout patterns, prop drilling, state management approaches, and component composition patterns used throughout the application.&#x22;&#x60;### 3. Code Quality Analysis**Request**: &#x22;Find potential performance bottlenecks&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Analyze this codebase for potential performance bottlenecks. Look for expensive operations, inefficient data structures, unnecessary re-renders, large bundle sizes, and optimization opportunities.&#x22;&#x60;**Request**: &#x22;Identify security vulnerabilities&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Scan this codebase for potential security vulnerabilities. Look for authentication issues, input validation problems, XSS vulnerabilities, unsafe data handling, and security best practices violations.&#x22;&#x60;### 4. Technology Stack Analysis**Request**: &#x22;Identify all third-party dependencies and their usage&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Analyze all third-party dependencies and libraries used in this project. Show how each major dependency is utilized, identify any potential redundancies, outdated packages, or security concerns.&#x22;&#x60;**Request**: &#x22;Map out the testing strategy and coverage&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Examine the testing strategy used in this codebase. Identify test frameworks, testing patterns, test coverage areas, mocking strategies, and areas that might need more testing.&#x22;&#x60;### 5. Feature Analysis**Request**: &#x22;Trace a specific feature implementation&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Trace the implementation of [specific feature] throughout the codebase. Show all files involved, data flow, API endpoints, UI components, and how the feature integrates with the rest of the system.&#x22;&#x60;**Request**: &#x22;Find all API endpoints and their usage&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Catalog all API endpoints in this application. Include REST routes, GraphQL resolvers, tRPC procedures, their request/response patterns, authentication requirements, and how they&#x27;re consumed by the frontend.&#x22;&#x60;### 6. Migration and Refactoring Analysis**Request**: &#x22;Identify legacy code patterns that need modernization&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Identify outdated or legacy code patterns that could be modernized. Look for old React patterns, deprecated APIs, inefficient implementations, and opportunities to use newer language features.&#x22;&#x60;**Request**: &#x22;Analyze consistency across similar components&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Examine similar components or modules for consistency. Identify variations in patterns, naming conventions, implementation approaches, and opportunities for standardization or creating reusable abstractions.&#x22;&#x60;### 7. Documentation and Knowledge Transfer**Request**: &#x22;Generate onboarding documentation insights&#x22;**Command**: &#x60;gemini --all-files -p &#x22;Analyze this codebase to help create onboarding documentation. Identify key concepts developers need to understand, important files and directories, setup requirements, and the most critical patterns to learn first.&#x22;&#x60;### Command Flag Guidelines:- Always use &#x60;--all-files&#x60; for comprehensive analysis- Add &#x60;--yolo&#x60; for non-destructive analysis tasks to skip confirmations- Use &#x60;-p&#x60; for single prompts or &#x60;-i&#x60; for interactive sessions- Consider &#x60;--debug&#x60; if you need to troubleshoot Gemini CLI issues"><div></div></button></div></figure></div>
<blockquote>
<p>子代理文件格式、放置路径与可用工具名（Bash/Read/Write），以官方文档为准。</p>
</blockquote>
<p><strong>小贴士</strong>：你也可以直接用 <code dir="auto">/agents</code> 交互式创建与编辑子代理，更省事。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="给子代理开绿灯权限与安全">给子代理“开绿灯”：权限与安全</h2><a class="sl-anchor-link" href="#给子代理开绿灯权限与安全"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “给子代理“开绿灯”：权限与安全”</span></a></div>
<p>为了让子代理能顺利执行 <code dir="auto">gemini</code> 命令，建议在 <code dir="auto">.claude/settings.json</code> 里<strong>白名单</strong>相关 Bash 调用；同时严格<strong>黑名单</strong>敏感文件读取：</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"permissions"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"allow"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Bash(gemini*)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(**/*.md)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(src/**)</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">],</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"deny"</span><span style="--0:#D6DEEB;--1:#403F53">: [</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(./.env)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(./.env.*)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Read(./secrets/**)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">Bash(curl:*)</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">    </span></span><span style="--0:#D6DEEB;--1:#403F53">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;permissions&#x22;: {    &#x22;allow&#x22;: [      &#x22;Bash(gemini*)&#x22;,      &#x22;Read(**/*.md)&#x22;,      &#x22;Read(src/**)&#x22;    ],    &#x22;deny&#x22;: [      &#x22;Read(./.env)&#x22;,      &#x22;Read(./.env.*)&#x22;,      &#x22;Read(./secrets/**)&#x22;,      &#x22;Bash(curl:*)&#x22;    ]  }}"><div></div></button></div></figure></div>
<blockquote>
<p>权限系统与示例配置来自 Claude Code 官方“Settings”文档。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="三个上手就能用的实战案例">三个“上手就能用”的实战案例</h2><a class="sl-anchor-link" href="#三个上手就能用的实战案例"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “三个“上手就能用”的实战案例”</span></a></div>
<blockquote>
<p>使用方式：在 Claude Code 里直接对主代理说话，例如：
“<strong>让 <code dir="auto">gemini-analyzer</code> 子代理扫描整个仓库的认证实现，并把原始输出返回</strong>”。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="1-模式检索找出认证鉴权实现">1) <strong>模式检索：找出认证/鉴权实现</strong></h3><a class="sl-anchor-link" href="#1-模式检索找出认证鉴权实现"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1) 模式检索：找出认证/鉴权实现”</span></a></div>
<p><strong>Claude 指令</strong></p>
<blockquote>
<p>Use the <code dir="auto">gemini-analyzer</code> subagent to analyze authentication patterns across the repo and return raw output.</p>
</blockquote>
<p><strong>子代理应构造并执行的命令</strong>（示例）</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">gemini</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Analyze this codebase and list all authentication &#x26; authorization patterns: login flows, token/session handling, middleware/guards, RBAC/ABAC, and any security pitfalls. Show file paths and code excerpts when helpful.</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gemini -p &#x22;Analyze this codebase and list all authentication &#x26; authorization patterns: login flows, token/session handling, middleware/guards, RBAC/ABAC, and any security pitfalls. Show file paths and code excerpts when helpful.&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p><code dir="auto">-p</code> 支持非交互单次分析；在仓库根目录执行即可让 Gemini 读取项目上下文，必要时可加 <code dir="auto">--include-directories</code> 指定额外目录。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="2-架构鸟瞰组件与数据流">2) <strong>架构鸟瞰：组件与数据流</strong></h3><a class="sl-anchor-link" href="#2-架构鸟瞰组件与数据流"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2) 架构鸟瞰：组件与数据流”</span></a></div>
<p><strong>Claude 指令</strong></p>
<blockquote>
<p>Use <code dir="auto">gemini-analyzer</code> to provide a high-level architectural overview and return the raw result.</p>
</blockquote>
<p><strong>子代理命令</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">gemini</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Give an architectural overview: main modules, data flow, directory structure, cross-cutting concerns, and how backend APIs connect to frontend components. Output a concise map with file references.</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gemini -p &#x22;Give an architectural overview: main modules, data flow, directory structure, cross-cutting concerns, and how backend APIs connect to frontend components. Output a concise map with file references.&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p>大上下文适合整仓概览、跨层联动梳理；恰好发挥 Gemini CLI 1M token 的优势。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h3"><h3 id="3-安全巡检xss注入敏感信息">3) <strong>安全巡检：XSS/注入/敏感信息</strong></h3><a class="sl-anchor-link" href="#3-安全巡检xss注入敏感信息"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “3) 安全巡检：XSS/注入/敏感信息”</span></a></div>
<p><strong>Claude 指令</strong></p>
<blockquote>
<p>Ask <code dir="auto">gemini-analyzer</code> to scan for potential security issues and return raw findings.</p>
</blockquote>
<p><strong>子代理命令</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">gemini</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-p</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Scan for potential security issues: XSS, SQL/NoSQL injection, hard-coded secrets, weak crypto, unsafe deserialization, missing input validation, authz gaps. Provide evidence snippets and file paths.</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="gemini -p &#x22;Scan for potential security issues: XSS, SQL/NoSQL injection, hard-coded secrets, weak crypto, unsafe deserialization, missing input validation, authz gaps. Provide evidence snippets and file paths.&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p>子代理<strong>只回传原始输出</strong>，由 Claude 主代理负责解读、生成修复 PR。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="最佳实践把效率拉满">最佳实践：把效率拉满</h2><a class="sl-anchor-link" href="#最佳实践把效率拉满"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “最佳实践：把效率拉满”</span></a></div>
<ul>
<li><strong>一句话角色卡</strong>：在 <code dir="auto">description</code> 里写上“<strong>Use proactively</strong>”，让 Claude <strong>自动</strong>把大活派给它。</li>
<li><strong>成本/速度切换</strong>：分析阶段可用 <code dir="auto">-m gemini-2.5-flash</code> 先跑一版，确认方向后再用 <code dir="auto">-m gemini-2.5-pro</code> 精扫。</li>
<li><strong>固定模板</strong>：把常用提示做成片段（例如“依赖地图”“测试覆盖率报告”），复用稳定。</li>
<li><strong>上下文干净</strong>：子代理与主对话分离，避免一轮大扫描把主线挤爆。</li>
<li><strong>权限最小化</strong>：只放行必要的 Bash/Read 规则；敏感文件坚决 deny。</li>
<li><strong>遇错别慌</strong>：命令失败就用 <code dir="auto">--debug</code> 重试，把日志原样返回给 Claude 排障。</li>
</ul>
<!-- > **配图建议（2:1 插画）**：一个“流水线”场景，左边 Gemini 搬运一大摞代码本，右边 Claude 拿着扳手对项目做精准改动。界面文字用英文。 -->
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p>这套“<strong>Claude 主脑 + Gemini 子代理</strong>”的组合，非常适合你做：<strong>整仓巡检、架构体检、迁移评估、依赖清理</strong>。
你依旧待在 Claude Code 里，<strong>把重活交给 Gemini</strong>；该省的钱省了，该省的时间也省了。下次你需要“大视野 + 可落地”，就让它们搭班。</p>
<p><strong>你会把它用在什么项目上？<strong>评论区聊聊你的场景，我可以帮你把子代理提示词</strong>继续打磨</strong>。</p>
<!--
（想要我给你做一份“标准化子代理包”，也可以直接说～）

---

## 参考与延伸

* **Anthropic 官方：Subagents 文档**（概念、创建方式、文件结构、最佳实践）。
* **Anthropic 官方：Settings & Tools**（权限白名单、Bash/Read/Write 工具列表）。
* **Google 官方博客：Gemini CLI 发布**（开源、1M token、免费额度与集成）。
* **Gemini CLI GitHub**（安装、鉴权、`-p` 非交互、模型切换、MCP/搜索工具）。

---

## 推荐标题（多语言 & slug）

1. **把 1M 上下文塞进 Claude Code：Gemini 子代理实战**

   * EN: Supercharge Claude Code with a Gemini Subagent and 1M Context
   * 繁中: 把 1M 上下文塞進 Claude Code：Gemini 子代理實戰
   * 日: 1MコンテキストをClaude Codeに！Geminiサブエージェント実践
   * 法: Ajoutez 1M de contexte à Claude Code avec un sous-agent Gemini
   * 西: Potencia Claude Code con un subagente Gemini y 1M de contexto
   * 葡: Turbine o Claude Code com um subagente Gemini e 1M de contexto
   * **slug**: `claude-code-gemini-subagent-1m-context`

2. **主脑 Claude，干活 Gemini：子代理搞定整仓分析**

   * EN: Claude Thinks, Gemini Digs: Subagent for Whole-Repo Analysis
   * 繁中: 主腦 Claude，幹活 Gemini：子代理搞定整倉分析
   * 日: 考えるClaude・掘るGemini：全リポ解析サブエージェント
   * 法: Claude réfléchit, Gemini fouille : sous-agent pour l’analyse du dépôt
   * 西: Claude piensa, Gemini excava: subagente para análisis total del repo
   * 葡: Claude pensa, Gemini cava: subagente para análise do repositório
   * **slug**: `claude-gemini-subagent-whole-repo`

3. **不挤主上下文的正确姿势：用子代理外包大扫描**

   * EN: Keep Context Clean: Offload Big Scans via a Subagent
   * 繁中: 不擠主上下文的正確姿勢：用子代理外包大掃描
   * 日: コンテキストを汚さない：サブエージェントで大規模スキャン外注
   * 法: Préservez le contexte : externalisez les gros scans via un sous-agent
   * 西: Mantén limpio el contexto: subcontrata los grandes escaneos con un subagente
   * 葡: Mantenha o contexto limpo: terceirize grandes varreduras com subagente
   * **slug**: `keep-context-clean-with-subagent`

---

## 封面与章节配图（2:1 插画，英文界面）

> **注意：图片内不要放中文。**

**封面图 Prompt**
“An illustration of a developer orchestrating two AI agents on a command console: left ‘Claude (planner & editor)’, right ‘Gemini CLI (1M context analyzer)’. Futuristic terminal screens, calm pastel palette, clean vectors, wide 2:1 aspect ratio, no Chinese text.”

**关键章节配图 Prompt（最佳实践小节）**
“Factory-style pipeline: Gemini CLI robot carries piles of code files into a large scanner, Claude robot applies precise fixes on a repository board. Minimalist UI elements, 2:1 aspect, soft gradients, no Chinese text.”

---

## 朋友圈/评论区 3 条“开聊”金句

1. “把大扫描丢给 Gemini，Claude 只做决策和改动，效率直接起飞。你们仓库最大多大？🤔”
2. “真心建议做个 `gemini-analyzer` 子代理，遇到架构总览、依赖清理一键跑，周会的 PPT 省一半时间。”
3. “上下文不够用？那就外挂 1M。Claude 主脑 + Gemini 干活，这搭子我先磕了～”

---

要不要我把上面的子代理模板**按你的项目**再细化一版？比如针对 React/Next、Flutter、或 Rails 的专属提示词与检查清单。需要的话直接说，我这就给你扩写。

[1]: https://docs.anthropic.com/en/docs/claude-code/sub-agents "Subagents - Anthropic"
[2]: https://blog.google/technology/developers/introducing-gemini-cli-open-source-ai-agent/ "Google announces Gemini CLI: your open-source AI agent"
[3]: https://github.com/google-gemini/gemini-cli "GitHub - google-gemini/gemini-cli: An open-source AI agent that brings the power of Gemini directly into your terminal."
[4]: https://docs.anthropic.com/en/docs/claude-code/settings "Claude Code settings - Anthropic" --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/cursor-agent/" class="astro-sg3lsd66">Cursor Agent</a></li></ul></div> </footer> </article> <article class="preview astro-dr56dw7m"> <header class="astro-dr56dw7m"> <h2 class="astro-dr56dw7m"> <a href="/zh-cn/blog/ai/claude-code/changelog/2025-08-25-claude-code-1088-alias-control/" class="astro-dr56dw7m">Claude Code 1.0.88：可自定义 Sonnet / Opus / Opus Plan 模型</a> </h2> <div class="metadata not-content astro-2oxtfctb"> <div class="dates astro-2oxtfctb"> <time datetime="2025-08-25T00:00:00.000Z" class="astro-2oxtfctb"> 2025年8月25日 </time>  </div> <div class="authors astro-2oxtfctb"> <a href="https://www.vibesparking.com" class="author astro-kbhsbk7c"><img src="/assets/vibe-sparking-avatar-zh.jpg" alt="Vibe Sparking" loading="eager" decoding="async" fetchpriority="auto" width="40" height="40" class="astro-kbhsbk7c"><div class="text astro-kbhsbk7c"> <div class="name astro-kbhsbk7c">Vibe Sparking</div>  </div> </a>  </div>  </div>  </header> <div class="sl-markdown-content astro-dr56dw7m"> <!-- # Claude Code 1.0.88：可自定义 **sonnet / opus / opusplan** 模型 -->
<blockquote>
<p>现在你可以用两个环境变量，<strong>把 /model 的别名“sonnet、opus、opusplan”精准指向你想用的具体模型版本</strong>，团队控盘更稳、灰度更丝滑。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="引言">引言</h2><a class="sl-anchor-link" href="#引言"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “引言”</span></a></div>
<p>最近的 <strong>Claude Code 1.0.88</strong> 是一次小而关键的更新。
它没大张旗鼓，却直接解决了很多团队的“<strong>别名漂移</strong>”痛点：<strong>当 Sonnet/Opus 出新版本时，/model sonnet、/model opus 到底落在哪个具体型号？</strong> 现在你可以自己定。</p>
<p>这对需要稳定复现、灰度升级、合规审计的团队非常有用。
尤其是多环境（Console / Bedrock / Vertex）混用时，终于能把别名钉住。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="有哪些新东西">有哪些新东西？</h2><a class="sl-anchor-link" href="#有哪些新东西"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “有哪些新东西？”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="1新增两个默认别名变量">1）新增两个默认别名变量</h3><a class="sl-anchor-link" href="#1新增两个默认别名变量"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “1）新增两个默认别名变量”</span></a></div>
<ul>
<li><code dir="auto">ANTHROPIC_DEFAULT_SONNET_MODEL</code></li>
<li><code dir="auto">ANTHROPIC_DEFAULT_OPUS_MODEL</code></li>
</ul>
<p><strong>作用</strong>：控制 <code dir="auto">/model sonnet</code>、<code dir="auto">/model opus</code>、<code dir="auto">/model opusplan</code> 这三个<strong>别名</strong>最终指向的<strong>具体模型字符串</strong>（例如 <code dir="auto">claude-sonnet-4-20250514</code>、<code dir="auto">claude-opus-4-1-20250805</code> 等）。</p>
<blockquote>
<p>注：官方 CLI 文档明确支持“<strong>别名或完整模型名</strong>”，而“opusplan（仅规划）+ sonnet 执行”的模式早在 1.0.73 就已提供开关。此次 1.0.88 的变量让这套别名更<strong>可配置</strong>。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="2为什么重要">2）为什么重要？</h3><a class="sl-anchor-link" href="#2为什么重要"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “2）为什么重要？”</span></a></div>
<ul>
<li><strong>稳定可复现</strong>：锁死别名指向，PR、CI、生产一致。</li>
<li><strong>灰度友好</strong>：先在少量机器把 <code dir="auto">sonnet</code> 暂时映射到“最新版”，验证好再一键全量。</li>
<li><strong>多云一致</strong>：不同提供方（Console / Bedrock / Vertex）下，保持同一别名映射策略。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="怎么用直接复制就能跑">怎么用？（直接复制就能跑）</h2><a class="sl-anchor-link" href="#怎么用直接复制就能跑"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “怎么用？（直接复制就能跑）”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="方案-ashell-全局个人单机">方案 A：Shell 全局（个人/单机）</h3><a class="sl-anchor-link" href="#方案-ashell-全局个人单机"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “方案 A：Shell 全局（个人/单机）”</span></a></div>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.v4551.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 固定 sonnet 别名到 Sonnet 4 2025-05-14 版</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_DEFAULT_SONNET_MODEL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">claude-sonnet-4-20250514</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 固定 opus 别名到 Opus 4.1 2025-08-05 版</span></div></div><div class="ec-line"><div class="code"><span style="--0:#C792EA;--1:#8844AE">export</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">ANTHROPIC_DEFAULT_OPUS_MODEL</span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">claude-opus-4-1-20250805</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F">#（可选）仍可手动切：/model sonnet | /model opus | /model opusplan</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="export ANTHROPIC_DEFAULT_SONNET_MODEL=&#x22;claude-sonnet-4-20250514&#x22;export ANTHROPIC_DEFAULT_OPUS_MODEL=&#x22;claude-opus-4-1-20250805&#x22;"><div></div></button></div></figure></div>
<blockquote>
<p><code dir="auto">/model</code> 支持别名与完整模型名；<code dir="auto">opusplan</code> 让 Opus 只做“规划”，执行交给 Sonnet，官方曾在 1.0.73 中加入该模式开关。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="方案-b项目级-claudesettingsjson团队仓库">方案 B：项目级 <code dir="auto">.claude/settings.json</code>（团队/仓库）</h3><a class="sl-anchor-link" href="#方案-b项目级-claudesettingsjson团队仓库"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “方案 B：项目级 .claude/settings.json（团队/仓库）”</span></a></div>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="json"><code><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#096E72">"env"</span><span style="--0:#D6DEEB;--1:#403F53">: {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"ANTHROPIC_DEFAULT_SONNET_MODEL"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">claude-sonnet-4-20250514</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#7FDBCA;--1:#096E72">"ANTHROPIC_DEFAULT_OPUS_MODEL"</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#C789D6;--1:#7C5686">claude-opus-4-1-20250805</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D6DEEB;--1:#403F53">  </span></span><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  &#x22;env&#x22;: {    &#x22;ANTHROPIC_DEFAULT_SONNET_MODEL&#x22;: &#x22;claude-sonnet-4-20250514&#x22;,    &#x22;ANTHROPIC_DEFAULT_OPUS_MODEL&#x22;: &#x22;claude-opus-4-1-20250805&#x22;  }}"><div></div></button></div></figure></div>
<blockquote>
<p>Claude Code 支持在 <code dir="auto">settings.json</code> 注入环境变量，便于团队统一下发与版本管控。</p>
</blockquote>
<div class="sl-heading-wrapper level-h3"><h3 id="方案-c多提供方bedrockvertex协同">方案 C：多提供方（Bedrock/Vertex）协同</h3><a class="sl-anchor-link" href="#方案-c多提供方bedrockvertex协同"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “方案 C：多提供方（Bedrock/Vertex）协同”</span></a></div>
<p>在不同环境各自设置以上两个变量，确保<strong>别名统一</strong>；必要时再结合区域变量与 Bedrock/Vertex 配置。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="推荐的-7-个落地场景结合日常工作">推荐的 7 个落地场景（结合日常工作）</h2><a class="sl-anchor-link" href="#推荐的-7-个落地场景结合日常工作"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “推荐的 7 个落地场景（结合日常工作）”</span></a></div>
<p>1）<strong>稳定回放/审计</strong>
安全或法务复盘时，需要“这个别名当时到底指向哪个精确型号”。把别名钉住，<strong>日志更可读，责任更清晰</strong>。</p>
<p>2）<strong>灰度发布</strong>
在灰度机器上把 <code dir="auto">sonnet</code> 指向最新 Sonnet（如 4 或 3.7），验证通过后统一切换，<strong>零改命令习惯</strong>；若不稳，立即回滚变量。</p>
<p>3）<strong>计划-执行双模配合</strong>
把 <code dir="auto">opusplan</code> → Opus 4.1（严谨规划），<code dir="auto">sonnet</code> → Sonnet 4（快速执行）。<strong>长链路任务</strong>更稳，吞吐更高。</p>
<p>4）<strong>多云一致性</strong>
Console 在开发机、Bedrock 在生产集群。两个环境都用相同别名策略，<strong>避免“同名不同款”</strong>。</p>
<p>5）<strong>CI / 机器人账号</strong>
在 CI 中注入两个变量，PR 机器人用同一“别名→具体型号”映射，<strong>评审口径一致</strong>。</p>
<p>6）<strong>教学/训练营</strong>
课堂只要求“/model sonnet”，背后把 <code dir="auto">sonnet</code> 指到你希望的稳定版，<strong>统一学员体验</strong>。</p>
<p>7）<strong>成本与配额治理</strong>
需要控制某些场景<strong>禁止上 Opus</strong>？把 <code dir="auto">opus</code> 映到老版本或干脆不配置，配合权限与 <code dir="auto">/permissions</code> 管控使用路径。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="校验与排错小抄">校验与排错小抄</h2><a class="sl-anchor-link" href="#校验与排错小抄"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “校验与排错小抄”</span></a></div>
<ul>
<li><code dir="auto">claude /status</code> 查看当前账号与模型信息；</li>
<li><code dir="auto">claude /model</code> 打开交互菜单确认别名落点；</li>
<li>若你是 <strong>Pro</strong> 账号：<strong>官方说明 Pro 无法使用 Opus</strong>，别名指到 Opus 也会不可用（改用 Sonnet）。</li>
</ul>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="版本事实与来源">版本事实与来源</h2><a class="sl-anchor-link" href="#版本事实与来源"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “版本事实与来源”</span></a></div>
<ul>
<li><strong>1.0.88</strong> 版本已在 NPM 版本页列出（前后还有 1.0.87/86/…），属近期发布。</li>
<li>社区多篇变更速记与周刊同步提到<strong>新增 <code dir="auto">ANTHROPIC_DEFAULT_SONNET_MODEL</code> / <code dir="auto">ANTHROPIC_DEFAULT_OPUS_MODEL</code></strong>，用于控制 <strong>opusplan / opus / sonnet</strong> 别名。官方文档可能存在<strong>更新滞后</strong>。</li>
<li>CLI 文档确认 <code dir="auto">/model</code> <strong>支持别名</strong>（<code dir="auto">sonnet</code>/<code dir="auto">opus</code>）与<strong>完整模型名</strong>二选一。</li>
<li><strong>Opus Plan Mode</strong> 的“规划-执行分离”早先在 <strong>1.0.73</strong> 引入。</li>
</ul>
<blockquote>
<p>注：上游文档常分散在 <strong>Docs / Help Center / NPM / GitHub / 社区速记</strong>，因此落地前建议用 <code dir="auto">/model</code>、<code dir="auto">/status</code> 实测验证别名映射。</p>
</blockquote>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="快速上手-3-步">快速上手 3 步</h2><a class="sl-anchor-link" href="#快速上手-3-步"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “快速上手 3 步”</span></a></div>
<p>1）更新：<code dir="auto">claude update</code>（或重装最新版）。
2）设置变量（Shell 或 <code dir="auto">.claude/settings.json</code>）。
3）验证：<code dir="auto">/model</code> → 选择 <code dir="auto">sonnet</code>/<code dir="auto">opus</code>/<code dir="auto">opusplan</code>，<code dir="auto">/status</code> 看是否命中你配置的具体型号。</p>
<hr>
<div class="sl-heading-wrapper level-h2"><h2 id="结语">结语</h2><a class="sl-anchor-link" href="#结语"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “结语”</span></a></div>
<p><strong>小改动，大收益。</strong>
把“别名”握在自己手里，<strong>复现更稳、灰度更轻、协作更顺</strong>。现在就把团队的 <code dir="auto">sonnet / opus / opusplan</code> 统一定标吧。</p>
<p><strong>你会把 <code dir="auto">opusplan</code> 用在哪些长链路任务里？</strong>
评论区聊聊你的实践与踩坑。</p>
<!-- 
---

## 🏷️ 多语推荐标题（3 组 & slug）

1. **把模型别名握在手里：Claude Code 1.0.88 别名可配，灰度与复现更稳**

   * EN: Own your model aliases: Claude Code 1.0.88 makes rollout & reproducibility rock solid
   * 繁中: 把模型別名握在手裡：1.0.88 灰度與復現更穩
   * 日: モデル別名を手中に：Claude Code 1.0.88で展開と再現性が安定
   * 法: Maîtrisez vos alias de modèles : Claude Code 1.0.88 fiabilise déploiements et reproductibilité
   * 西: Controla tus alias de modelos: Claude Code 1.0.88 asegura despliegue y reproducibilidad
   * 葡: Domine os aliases de modelos: Claude Code 1.0.88 reforça rollout e reprodutibilidade
   * **slug**: `claude-code-1088-alias-control`

2. **别名不再漂移：用两行配置锁死 sonnet / opus / opusplan**

   * EN: No more alias drift: lock sonnet / opus / opusplan with two lines
   * 繁中: 別名不再漂移：兩行設定鎖死 sonnet / opus / opusplan
   * 日: エイリアス漂流に終止符：2行設定で固定
   * 法: Fini la dérive des alias : figez-les en deux lignes
   * 西: Adiós a la deriva de alias: fíjalos con dos líneas
   * 葡: Chega de alias flutuando: fixe com duas linhas
   * **slug**: `stop-alias-drift-with-2-lines`

3. **计划用 Opus，执行交给 Sonnet：1.0.88 把这件事变简单了**

   * EN: Plan with Opus, execute with Sonnet—1.0.88 makes it easy
   * 繁中: 計畫用 Opus，執行交給 Sonnet：1.0.88 更簡單
   * 日: 計画はOpus・実行はSonnet：1.0.88で簡単に
   * 法: Planifier avec Opus, exécuter avec Sonnet—1.0.88 simplifie tout
   * 西: Planifica con Opus, ejecuta con Sonnet—1.0.88 lo simplifica
   * 葡: Planeje com Opus, execute com Sonnet—1.0.88 facilita
   * **slug**: `opus-plan-sonnet-execute-1088`

---

## 🎨 配图提示词（2:1 插画风，无中文）

**封面图**

> *A developer pinning three model name tags “sonnet / opus / opusplan” onto a control board, toggling switches for rollout and stability; pastel colors, clean vector illustration, wide 2:1 layout, minimal UI dials and pipeline lines, no text on image.*

**关键章节配图**
1）“别名漂移 vs 锁定”对比

> *Split-screen illustration: on the left, floating drifting tags “sonnet/opus”; on the right, tags neatly locked to specific model cards; 2:1 ratio, flat illustration.*

2）“灰度发布”

> *A conveyor belt rolling versions from canary to stable, with alias labels above; subtle checkmarks and warning icons; 2:1.*

3）“计划-执行双模”

> *Two coordinated robots: a planner (Opus) with blueprint, an executor (Sonnet) with wrench; working on the same code module; 2:1.*

---

## 朋友圈/评论区 3 条精选文案

1）**“两行变量把团队统一了，/model 再也不怕踩坑。灰度、回放、合规一把梭，真香。”**
2）**“以前别名像射飞镖，现在像钉钢钉。1.0.88 这波小更新，工作流质感直接上去了。”**
3）**“计划交给 Opus，执行交给 Sonnet，就像老司机+实干家组合。别名锁住，效率起飞。”**

---

需要我把这篇再**扩写成团队 SOP**（含 CI、Bedrock/Vertex 模板、回滚策略）吗？我可以直接补上可复制的配置清单与检查脚本。

> 参考：
>
> * NPM 版本页显示已发布 **1.0.88**（以及相邻版本），为近期更新。
> * 社区周刊/技术博客/论坛实测均提到新增 **默认别名变量** 控制 `sonnet / opus / opusplan` 映射。
> * CLI 文档确认 `/model` 支持**别名或完整名**；别名语义长期存在。
> * **Opus Plan Mode** 作为规划-执行分离的基础能力，早在 **1.0.73** 里加入。

[1]: https://docs.anthropic.com/en/docs/claude-code/cli-reference "CLI reference - Anthropic"
[2]: https://zenn.dev/pppp303/articles/weekly_ai_20250720?utm_source=chatgpt.com "週刊AI駆動開発 - 2025年07月20日"
[3]: https://dev.classmethod.jp/articles/claude-code-amazon-bedrock-api-keys/?utm_source=chatgpt.com "Claude Code を Amazon Bedrock API Keys 経由で実行してみた"
[4]: https://linux.do/t/topic/894867?utm_source=chatgpt.com "请问自建gemini池子,怎样接入claudecode - 开发调优"
[5]: https://www.npmjs.com/package/%40anthropic-ai/claude-code?activeTab=versions&utm_source=chatgpt.com "@anthropic-ai/claude-code - npm"
[6]: https://docs.anthropic.com/en/docs/claude-code/setup?utm_source=chatgpt.com "Set up Claude Code"
[7]: https://cloud.google.com/vertex-ai/generative-ai/docs/partner-models/claude?utm_source=chatgpt.com "Anthropic's Claude models | Generative AI on Vertex AI"
[8]: https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md?utm_source=chatgpt.com "claude-code/CHANGELOG.md at main · anthropics/claude-code"
[9]: https://docs.anthropic.com/en/docs/claude-code/settings "Claude Code settings - Anthropic"
[10]: https://aws.amazon.com/bedrock/anthropic/?utm_source=chatgpt.com "Anthropic's Claude in Amazon Bedrock"
[11]: https://docs.anthropic.com/en/docs/claude-code/slash-commands "Slash commands - Anthropic"
[12]: https://support.anthropic.com/en/articles/11940350-claude-code-model-configuration "Claude Code Model Configuration | Anthropic Help Center"
[13]: https://www.facebook.com/groups/agentic.coding/posts/claude-code-1088-%EB%B2%84%EC%A0%84-%EC%A3%BC%EC%9A%94-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%EB%82%B4%EC%9A%A9-insight-%EC%9D%B4%EB%B2%88-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8%EB%8A%94-%EC%9D%B8%EC%A6%9D-%EC%8B%9C%EC%8A%A4%ED%85%9C%EA%B3%BC-%EB%AA%A8%EB%8D%B8-%EA%B4%80%EB%A6%AC-%EB%B6%80%EB%B6%84%EC%9D%98-%EC%A4%91%EC%9A%94%ED%95%9C-%EA%B0%9C%EC%84%A0%EC%82%AC%ED%95%AD%EB%93%A4%EC%9D%84-%ED%8F%AC%ED%95%A8%ED%95%A9/1095720962169880/?utm_source=chatgpt.com "⏺ Claude Code 1.0.88 버전 주요 업데이트 내용 ★ Insight ..." --> </div> <footer class="astro-dr56dw7m"> <div class="astro-sg3lsd66"><b class="astro-sg3lsd66">Tags:</b><ul class="astro-sg3lsd66"><li class="astro-sg3lsd66"><a href="/zh-cn/blog/tags/claude-code/" class="astro-sg3lsd66">Claude Code</a></li></ul></div> </footer> </article>  </div>  <footer class="not-content astro-w2yzoj57"> <div class="pagination astro-q3jscx35" data-pagefind-ignore><div class="card-grid astro-zntqmydn"><div class="sl-link-card astro-mf7fz2mj"> <span class="sl-flex stack astro-mf7fz2mj"> <a href="/zh-cn/blog/" rel="prev" class="astro-q3jscx35 astro-mf7fz2mj"> <span class="title astro-mf7fz2mj">Newer posts</span> </a>  </span> <svg aria-hidden="true" class="icon rtl:flip astro-mf7fz2mj astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.333em;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> </div> <div class="sl-link-card astro-mf7fz2mj"> <span class="sl-flex stack astro-mf7fz2mj"> <a href="/zh-cn/blog/3/" rel="next" class="astro-q3jscx35 astro-mf7fz2mj"> <span class="title astro-mf7fz2mj">Older posts</span> </a>  </span> <svg aria-hidden="true" class="icon rtl:flip astro-mf7fz2mj astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.333em;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg> </div> </div> </div> </footer>   </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr">   </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>  